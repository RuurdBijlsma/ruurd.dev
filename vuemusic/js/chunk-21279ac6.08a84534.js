(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21279ac6"],{1681:function(t,e,s){},"26d3":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings"},[s("div",{staticClass:"wide"},[s("h1",{staticClass:"page-title"},[t._v("Settings")]),s("v-divider",{staticClass:"divider"}),s("div",{staticClass:"secrets"},[s("h2",[t._v("Secrets")]),s("p",{staticClass:"caption"},[t._v("These values must be set before using the application. Order: Spotify id, Spotify secret, Youtube API key")]),s("div",{staticClass:"secret-textarea"},[t._m(0),s("v-textarea",{attrs:{placeholder:t.secretsPlaceholder,"no-resize":"",spellcheck:"false",rules:t.secretRules,outlined:"","auto-grow":"","row-height":"4"},model:{value:t.secrets,callback:function(e){t.secrets=e},expression:"secrets"}})],1),t.$store.getters.isKeySet?s("p",{staticClass:"key-saved"},[s("v-icon",{attrs:{color:"success"}},[t._v("mdi-check")]),s("span",[t._v("Keys saved!")])],1):s("p",{staticClass:"key-saved"},[s("v-icon",{attrs:{color:"error"}},[t._v("mdi-close")]),s("span",[t._v("One ore more keys not valid")])],1)]),s("div",[s("h2",[t._v("Account")]),t.$store.getters.isKeySet?s("div",{staticClass:"login"},[t.$store.getters.isLoggedIn?t._e():s("div",[s("p",[t._v("Click the button below to log in to your Spotifyâ„¢ account!")]),s("v-btn",{attrs:{outlined:"",color:"success",loading:t.loginLoading},on:{click:t.login}},[s("v-icon",[t._v("mdi-spotify")]),t._v(" Login ")],1),t.loginLoading?s("v-btn",{attrs:{icon:"",color:"warning"},on:{click:t.resetLogin}},[s("v-icon",[t._v("mdi-close")])],1):t._e()],1)]):t._e(),t.$store.getters.isLoggedIn?s("div",[s("div",{staticClass:"account-info"},[s("v-avatar",[s("img",{staticClass:"avatar",attrs:{src:t.$store.state.userInfo.avatar,alt:"user profile image"}})]),s("div",[s("h3",[t._v(t._s(t.$store.state.userInfo.name))]),s("p",{staticClass:"caption"},[t._v(t._s(t.$store.state.userInfo.mail))])])],1),s("v-btn",{attrs:{color:"primary",outlined:""},on:{click:function(e){return t.$store.dispatch("spotifyLogout")}}},[t._v("Log out")])],1):t._e()]),s("div",{staticClass:"misc"},[s("h2",[t._v("Miscellaneous")]),s("v-btn",{attrs:{outlined:"",color:"error"},on:{click:function(e){return t.$store.dispatch("clearCache")}}},[s("v-icon",[t._v("mdi-error")]),t._v(" Clear cache ")],1),s("v-switch",{attrs:{inset:"",label:"Download tracks while you're listening?"},model:{value:t.$store.state.media.shouldDownload,callback:function(e){t.$set(t.$store.state.media,"shouldDownload",e)},expression:"$store.state.media.shouldDownload"}})],1)],1)])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"secret-help"},[s("p",[t._v("Spotify Client ID")]),s("p",[t._v("Spotify Client Secret")]),s("p",[t._v("Youtube API Key")])])}],n=(s("d3b7"),s("ac1f"),s("1276"),s("ddb0"),s("3835")),i=(s("96cf"),s("1da1")),r={name:"Settings",data:function(){return{secretsPlaceholder:"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\nbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb\ncccccccccccc-dddddddddddddddddddddddddd",secrets:"",loginLoading:!1,secretRules:[function(t){return 3===t.split("\n").length||"There must be three lines"}]}},mounted:function(){},methods:{resetLogin:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("resetSpotifyLogin");case 2:t.loginLoading=!1;case 3:case"end":return e.stop()}}),e)})))()},login:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loginLoading=!0,e.next=3,t.$store.dispatch("spotifyLogin");case 3:t.loginLoading=!1;case 4:case"end":return e.stop()}}),e)})))()}},watch:{"$store.state.keys":function(){this.secrets=this.$store.state.keys.spotifyId+"\n"+this.$store.state.keys.spotifySecret+"\n"+this.$store.state.keys.youtube},secrets:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a,o,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("Secrets changed to",t.secrets),s=t.secrets.split("\n"),3!==s.length){e.next=9;break}return a=Object(n["a"])(s,3),o=a[0],i=a[1],r=a[2],t.$store.commit("spotifyId",o),t.$store.commit("spotifySecret",i),t.$store.commit("youtubeKey",r),e.next=9,t.$store.dispatch("cacheState");case 9:case"end":return e.stop()}}),e)})))()}}},c=r,u=(s("9143"),s("2877")),l=s("6544"),d=s.n(l),h=s("8212"),p=s("8336"),v=s("ce7e"),g=s("132d"),f=s("b73d"),b=(s("a9e3"),s("5530")),m=(s("1681"),s("8654")),w=s("58df"),y=Object(w["a"])(m["a"]),_=y.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(b["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},m["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,s=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(s,e)+"px"}},genInput:function(){var t=m["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){m["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}}),k=Object(u["a"])(c,a,o,!1,null,"5cc0235a",null);e["default"]=k.exports;d()(k,{VAvatar:h["a"],VBtn:p["a"],VDivider:v["a"],VIcon:g["a"],VSwitch:f["a"],VTextarea:_})},"38e8":function(t,e,s){},9143:function(t,e,s){"use strict";s("38e8")}}]);
//# sourceMappingURL=chunk-21279ac6.08a84534.js.map