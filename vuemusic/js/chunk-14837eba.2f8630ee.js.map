{"version":3,"sources":["webpack:///./src/views/Tracks.vue?058d","webpack:///./src/views/Tracks.vue?26c1","webpack:///src/views/Tracks.vue","webpack:///./src/views/Tracks.vue?5cc8","webpack:///./src/views/Tracks.vue?1751"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scrollItems","scopedSlots","_u","key","fn","ref","item","index","_v","on","$event","$store","dispatch","context","tracks","length","shuffle","_e","_s","fullDuration","id","hideAlbum","compactMenu","staticRenderFns","component","VBtn","VDivider","VIcon","VProgressCircular"],"mappings":"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","file":"js/chunk-14837eba.2f8630ee.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tracks.vue?vue&type=style&index=0&id=d62705fa&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tracks.vue?vue&type=style&index=0&id=d62705fa&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tracks\"},[_c('recycle-scroller',{staticClass:\"scroller\",attrs:{\"items\":_vm.scrollItems,\"key-field\":\"id\",\"size-field\":\"size\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nvar index = ref.index;\nreturn [(index===0)?_c('div',{staticClass:\"page-title-container\"},[_c('h1',{staticClass:\"page-title\"},[_vm._v(\"Tracks\")]),_c('v-divider',{staticClass:\"divider\"}),_c('div',{staticClass:\"buttons\"},[_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$store.dispatch('playItem', {item: _vm.context})}}},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"}},[_vm._v(\"mdi-play\")]),_vm._v(\" Play \")],1),(_vm.tracks.length > 1)?_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$store.dispatch('playItem', {item: _vm.context, shuffle:true})}}},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"}},[_vm._v(\"mdi-shuffle\")]),_vm._v(\" Shuffle \")],1):_vm._e()],1),_c('div',{staticClass:\"sub-caption\"},[_c('span',[_vm._v(_vm._s(_vm.tracks.length)+\" tracks\")]),_c('span',{staticClass:\"dot\"},[_vm._v(\"•\")]),_c('span',[_vm._v(_vm._s(_vm.fullDuration))]),(_vm.loading)?_c('span',{staticClass:\"loading-indicator\"},[_c('span',{staticClass:\"dot\"},[_vm._v(\"•\")]),_c('v-progress-circular',{staticClass:\"spinner\",attrs:{\"indeterminate\":\"\",\"size\":\"10\",\"width\":\"1\"}}),_c('span',[_vm._v(\"Refreshing\")])],1):_vm._e()]),_c('v-divider')],1):_vm._e(),(index>0)?_c('div',{staticClass:\"scroll-item\"},[_c('track-row',{key:item.id,attrs:{\"no-album\":_vm.hideAlbum,\"compact-menu\":_vm.compactMenu,\"context-item\":_vm.context,\"album-list\":false,\"track\":item}}),_c('v-divider')],1):_vm._e()]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"tracks\">\r\n        <recycle-scroller\r\n                class=\"scroller\"\r\n                :items=\"scrollItems\"\r\n                key-field=\"id\"\r\n                size-field=\"size\"\r\n                v-slot=\"{item, index}\">\r\n            <div v-if=\"index===0\" class=\"page-title-container\">\r\n                <h1 class=\"page-title\">Tracks</h1>\r\n                <v-divider class=\"divider\"></v-divider>\r\n                <div class=\"buttons\">\r\n                    <v-btn small color=\"primary\" @click=\"$store.dispatch('playItem', {item: context})\">\r\n                        <v-icon small class=\"mr-2\">mdi-play</v-icon>\r\n                        Play\r\n                    </v-btn>\r\n                    <v-btn small v-if=\"tracks.length > 1\" color=\"primary\"\r\n                           @click=\"$store.dispatch('playItem', {item: context, shuffle:true})\">\r\n                        <v-icon small class=\"mr-2\">mdi-shuffle</v-icon>\r\n                        Shuffle\r\n                    </v-btn>\r\n                </div>\r\n                <div class=\"sub-caption\">\r\n                    <span>{{tracks.length}} tracks</span>\r\n                    <span class=\"dot\">•</span>\r\n                    <span>{{fullDuration}}</span>\r\n                    <span v-if=\"loading\" class=\"loading-indicator\">\r\n                        <span class=\"dot\">•</span>\r\n                        <v-progress-circular class=\"spinner\" indeterminate size=\"10\" width=\"1\"></v-progress-circular>\r\n                        <span>Refreshing</span>\r\n                    </span>\r\n                </div>\r\n                <v-divider></v-divider>\r\n            </div>\r\n            <div class=\"scroll-item\" v-if=\"index>0\">\r\n                <track-row\r\n                        :no-album=\"hideAlbum\"\r\n                        :compact-menu=\"compactMenu\"\r\n                        :context-item=\"context\"\r\n                        :album-list=\"false\"\r\n                        :key=\"item.id\"\r\n                        :track=\"item\"></track-row>\r\n                <v-divider></v-divider>\r\n            </div>\r\n        </recycle-scroller>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import TrackRow from \"../components/TrackRow\";\r\n    import Utils from \"../js/Utils\";\r\n\r\n    export default {\r\n        name: \"Tracks\",\r\n        components: {TrackRow},\r\n        data: () => ({}),\r\n        async mounted() {\r\n            await this.$store.dispatch('refreshUserData', 'track');\r\n        },\r\n        computed: {\r\n            context() {\r\n                return {type: 'liked', id: 'liked', name: 'Liked tracks', tracks: this.tracks}\r\n            },\r\n            loading() {\r\n                return this.$store.state.isRefreshing.track;\r\n            },\r\n            compactMenu() {\r\n                let width = this.$store.state.windowWidth;\r\n                return width < 735 && (width > 680 || width < 436);\r\n            },\r\n            hideAlbum() {\r\n                let width = this.$store.state.windowWidth;\r\n                return width < 950;\r\n            },\r\n            scrollItems() {\r\n                let tracks = this.tracks.map(t => ({...t, size: 51}));\r\n                let titleHeight = 131;\r\n                return [{id: '0', size: titleHeight}, ...tracks];\r\n            },\r\n            tracks() {\r\n                return this.$store.state.library.tracks.filter(t => !t.is_local);\r\n            },\r\n            fullDuration() {\r\n                if (this.tracks.length === 0)\r\n                    return Utils.secondsToHms(0);\r\n                return Utils.secondsToHms(this.tracks.map(t => t.duration_ms / 1000).reduce((a, b) => a + b));\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .tracks {\r\n        height: 100%;\r\n        width: 100%;\r\n    }\r\n\r\n    .scroller {\r\n        height: 100%;\r\n        padding: 30px;\r\n    }\r\n\r\n    @media (max-width: 680px) {\r\n        .scroller {\r\n            padding: 10px;\r\n        }\r\n    }\r\n\r\n    .divider {\r\n        margin-bottom: 15px;\r\n    }\r\n\r\n    .buttons {\r\n        display: flex;\r\n    }\r\n\r\n    .buttons > *:first-child {\r\n        margin-right: 15px;\r\n    }\r\n\r\n    .sub-caption {\r\n        margin: 15px 0 10px;\r\n        text-transform: uppercase;\r\n        font-size: 12px;\r\n        font-weight: bolder;\r\n        opacity: 0.7;\r\n    }\r\n\r\n    .dot {\r\n        margin: 0 10px;\r\n    }\r\n\r\n    .loading-indicator {\r\n        display: inline-flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        vertical-align: top;\r\n    }\r\n\r\n    .spinner {\r\n        margin-right: 5px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tracks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tracks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tracks.vue?vue&type=template&id=d62705fa&scoped=true&\"\nimport script from \"./Tracks.vue?vue&type=script&lang=js&\"\nexport * from \"./Tracks.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tracks.vue?vue&type=style&index=0&id=d62705fa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d62705fa\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VBtn,VDivider,VIcon,VProgressCircular})\n"],"sourceRoot":""}