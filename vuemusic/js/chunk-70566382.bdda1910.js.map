{"version":3,"sources":["webpack:///./src/views/Radio.vue?d771","webpack:///./src/views/Radio.vue","webpack:///src/views/Radio.vue","webpack:///./src/views/Radio.vue?8353","webpack:///./src/views/Radio.vue?64d7"],"names":["staticClass","attrs","on","_vm","loading","_c","track","staticRenderFns","name","components","TrackRow","data","tracks","id","methods","options","computed","context","type","path","fullDuration","watch","component"],"mappings":"kHAAA,W,6FCAiG,EAAK,W,IAAOA,OAAmC,EAAK,EAAI,MAAC,G,OAACA,QAAY,CAAa,YAAS,SAA2BA,SAAW,CAAY,YAAU,wBAACA,QAAW,CAAW,YAAY,cAAEC,GAAK,GAAC,qB,YAAW,YAAC,QAAQ,CAAS,YAAC,WAACC,CAAE,EAAC,Q,MAAC,C,MAAgCC,G,MAAqC,W,GAAe,CAAC,kBAAM,OAAC,EAAS,4BAACH,KAAW,EAAC,aAA2B,CAACG,EAAG,OAAI,CAAuEF,YAAM,O,MAAC,CAAW,MAAQ,KAAWC,CAAE,EAAC,gE,MAAC,C,MAAgCC,G,MAAqC,W,GAA4B,CAAE,kBAAC,qCAAO,OAAS,QAACH,SAAY,OAA2B,CAACG,EAAG,OAAI,CAAgEH,YAAY,OAAc,MAAOI,CAAoBJ,MAAW,KAAiDA,uBAAqB,0CAACC,YAAM,e,CAAC,YAAgB,OAAE,C,YAAQ,qB,CAAK,SAAQ,CAAG,sBAAG,MAAI,CAAsHD,cAAY,GAAQG,KAAO,KAAiG,MAAU,OAAoB,EAAEE,OAAG,GAAW,GAAC,8F,YAAY,OAAa,CAAC,EAAG,GAAC,SAAY,wE,OAAM,EAAC,O,IAAC,M,CAA2B,SAAQC,CAAK,0BAAI,EAAG,aAAG,MAAG,CACt3C,yBACGC,Y,oDCsCJ,GACAC,aACAC,YAAAC,iBACAC,WACAC,UACAR,WACAS,mBAEA,sBACA,kBAEAC,SACA,kBACA,gBACA,wBACA,eACA,sBAEA,eACAC,aAIA,2DACA,kBAGAC,UACAC,UACA,OACAC,aACAV,oBACAW,0BACAN,mBACAD,qBAGAQ,eACA,8BACA,uBACA,gFAGAC,OACA,4BACA,oBCrF+U,I,wBCQ3UC,EAAY,eACd,EACA,EACAf,GACA,EACA,KACA,WACA,MAIa,aAAAe,E","file":"js/chunk-70566382.bdda1910.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Radio.vue?vue&type=style&index=0&id=e38a0092&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"radio\"},[_c('div',{staticClass:\"page-title-container\"},[_c('h1',{staticClass:\"page-title\"},[_vm._v(\"Radio\")]),_c('v-divider',{staticClass:\"divider\"}),_c('div',{staticClass:\"buttons\"},[_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$store.dispatch('playItem', {item: _vm.context})}}},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"}},[_vm._v(\"mdi-play\")]),_vm._v(\" Play \")],1),(_vm.tracks.length > 1)?_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$store.dispatch('playItem', {item: _vm.context, shuffle: true})}}},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"}},[_vm._v(\"mdi-shuffle\")]),_vm._v(\" Shuffle \")],1):_vm._e()],1),_c('div',{staticClass:\"sub-caption\"},[(_vm.loading)?_c('span',{staticClass:\"loading-indicator\"},[_c('v-progress-circular',{staticClass:\"spinner\",attrs:{\"indeterminate\":\"\",\"size\":\"10\",\"width\":\"1\"}}),_c('span',[_vm._v(\"Creating radio\")])],1):_c('span',[_c('span',[_vm._v(_vm._s(_vm.tracks.length)+\" tracks\")]),_c('span',{staticClass:\"dot\"},[_vm._v(\"•\")]),_c('span',[_vm._v(_vm._s(_vm.fullDuration))])])])],1),_vm._l((_vm.tracks),function(track){return _c('div',{key:track.id},[_c('v-divider',{staticClass:\"mr-1 ml-1\"}),_c('track-row',{attrs:{\"context-item\":_vm.context,\"track\":track}})],1)})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"radio\">\r\n        <div class=\"page-title-container\">\r\n            <h1 class=\"page-title\">Radio</h1>\r\n            <v-divider class=\"divider\"></v-divider>\r\n            <div class=\"buttons\">\r\n                <v-btn small color=\"primary\" @click=\"$store.dispatch('playItem', {item: context})\">\r\n                    <v-icon small class=\"mr-2\">mdi-play</v-icon>\r\n                    Play\r\n                </v-btn>\r\n                <v-btn small v-if=\"tracks.length > 1\" color=\"primary\"\r\n                       @click=\"$store.dispatch('playItem', {item: context, shuffle: true})\">\r\n                    <v-icon small class=\"mr-2\">mdi-shuffle</v-icon>\r\n                    Shuffle\r\n                </v-btn>\r\n            </div>\r\n            <div class=\"sub-caption\">\r\n                <span v-if=\"loading\" class=\"loading-indicator\">\r\n                    <v-progress-circular class=\"spinner\" indeterminate size=\"10\" width=\"1\"></v-progress-circular>\r\n                    <span>Creating radio</span>\r\n                </span>\r\n                <span v-else>\r\n                <span>{{tracks.length}} tracks</span>\r\n                <span class=\"dot\">•</span>\r\n                <span>{{fullDuration}}</span>\r\n                </span>\r\n            </div>\r\n        </div>\r\n        <div v-for=\"track in tracks\" :key=\"track.id\">\r\n            <v-divider class=\"mr-1 ml-1\"></v-divider>\r\n            <track-row :context-item=\"context\"\r\n                       :track=\"track\"></track-row>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import TrackRow from \"../components/TrackRow\";\r\n    import Utils from \"../js/Utils\";\r\n\r\n    export default {\r\n        name: \"Radio\",\r\n        components: {TrackRow},\r\n        data: () => ({\r\n            tracks: [],\r\n            loading: false,\r\n            id: Math.random(),\r\n        }),\r\n        async mounted() {\r\n            await this.loadRadio();\r\n        },\r\n        methods: {\r\n            async loadRadio() {\r\n                this.loading = true;\r\n                let options = this.$route.query;\r\n                for (let key in options) {\r\n                    if (!options.hasOwnProperty(key))\r\n                        continue;\r\n                    if (!isNaN(+options[key])) {\r\n                        options[key] = +options[key];\r\n                    }\r\n                }\r\n\r\n                this.tracks = await this.$store.dispatch('getRadioTracks', options);\r\n                this.loading = false;\r\n            },\r\n        },\r\n        computed: {\r\n            context() {\r\n                return {\r\n                    type: 'radio',\r\n                    name: 'Radio tracks',\r\n                    path: this.$route.fullPath,\r\n                    id: 'radio' + this.id,\r\n                    tracks: this.tracks\r\n                }\r\n            },\r\n            fullDuration() {\r\n                if (this.tracks.length === 0)\r\n                    return Utils.secondsToHms(0);\r\n                return Utils.secondsToHms(this.tracks.map(t => t.duration_ms / 1000).reduce((a, b) => a + b));\r\n            },\r\n        },\r\n        watch: {\r\n            async '$route.query'() {\r\n                await this.loadRadio();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .radio {\r\n        padding: 30px;\r\n    }\r\n\r\n    @media (max-width: 680px) {\r\n        .radio {\r\n            padding: 10px;\r\n        }\r\n    }\r\n\r\n    .divider {\r\n        margin-bottom: 15px;\r\n    }\r\n\r\n    .buttons {\r\n        display: flex;\r\n    }\r\n\r\n    .buttons > *:first-child {\r\n        margin-right: 15px;\r\n    }\r\n\r\n    .sub-caption {\r\n        margin: 15px 0 10px;\r\n        text-transform: uppercase;\r\n        font-size: 12px;\r\n        font-weight: bolder;\r\n        opacity: 0.7;\r\n    }\r\n\r\n    .dot {\r\n        margin: 0 10px;\r\n    }\r\n\r\n    .loading-indicator {\r\n        display: inline-flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        vertical-align: top;\r\n    }\r\n\r\n    .spinner {\r\n        margin-right: 5px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Radio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Radio.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Radio.vue?vue&type=template&id=e38a0092&scoped=true&\"\nimport script from \"./Radio.vue?vue&type=script&lang=js&\"\nexport * from \"./Radio.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Radio.vue?vue&type=style&index=0&id=e38a0092&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e38a0092\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}