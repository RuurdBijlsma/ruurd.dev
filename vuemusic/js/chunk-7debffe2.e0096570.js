(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7debffe2"],{"035d":function(t,e,i){"use strict";var s=i("0c41"),a=i.n(s);a.a},"0c41":function(t,e,i){},2059:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("playlist-page",{ref:"playlistPage",attrs:{id:t.id,playlist:t.playlist}})},a=[],r=(i("96cf"),i("1da1")),l=i("c489"),n={name:"Playlist",components:{PlaylistPage:l["a"]},data:function(){return{}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("loadPlaylist",t.id);case 2:case"end":return e.stop()}}),e)})))()},computed:{id:function(){return this.$route.params.id},playlist:function(){return console.log("Playlist",this.$store.state.playlist[this.id]),this.$store.state.playlist[this.id]}},watch:{"$route.params.id":function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.playlistPage.revertThemeColor(),e.next=3,t.$store.dispatch("loadPlaylist",t.id);case 3:case"end":return e.stop()}}),e)})))()}},beforeRouteLeave:function(t,e,i){this.$refs.playlistPage.revertThemeColor(),i()}},o=n,u=i("2877"),c=Object(u["a"])(o,s,a,!1,null,null,null);e["default"]=c.exports},"506b":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"glow-image",style:{width:t.size+"px"}},[i("div",{staticClass:"album-art album-background",style:{backgroundImage:"url("+t.image+")",opacity:t.$vuetify.theme.dark?.4:.7,minWidth:t.size+"px",height:t.size+"px",right:-t.size/2+"px",borderRadius:t.rounded?"50%":"5px",top:t.size/16+"px",filter:"blur("+t.size/16+"px)"}}),i("div",{staticClass:"album-art album-normal",style:{backgroundImage:"url("+t.image+")",minWidth:t.size+"px",height:t.size+"px",left:-t.size/2+"px",borderRadius:t.rounded?"50%":"5px"}})])},a=[],r=(i("a9e3"),{name:"GlowImage",props:{url:{type:String,default:void 0},size:{type:Number,default:300},rounded:{type:Boolean,default:!1}},computed:{image:function(){return this.url?this.url:this.$store.getters.notFoundImage}}}),l=r,n=(i("f114"),i("2877")),o=Object(n["a"])(l,s,a,!1,null,"5c72778c",null);e["a"]=o.exports},b450:function(t,e,i){},b9d0:function(t,e,i){},c489:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.playlist?i("div",{staticClass:"playlist"},[t.$store.state.windowWidth>1030?i("glow-image",{staticClass:"art-section",attrs:{url:t.$store.getters.itemImage(t.playlist),size:t.imageSize}}):t._e(),i("track-section",{attrs:{"highlight-id":t.highlightId,"show-art":t.$store.state.windowWidth<=1030,"fg-legible":t.fgLegible,playlist:t.playlist}})],1):t._e()},a=[],r=i("a123"),l=i("dea7"),n=i("506b"),o={name:"PlaylistPage",components:{GlowImage:n["a"],TrackSection:l["a"]},data:function(){return{previousColors:null,fgLegible:!0}},props:{type:{type:String,default:"playlist"},id:{type:String,default:"playlist"},playlist:{type:Object,default:null},highlightId:{type:String,default:void 0}},methods:{checkForThemeColorChange:function(){if(this.playlist&&this.playlist.primary_color){var t=r["a"].isLegible(this.playlist.primary_color,this.$vuetify.theme),e=t.bgLegible,i=t.fgLegible;if(!e)return void this.revertThemeColor();console.log("Applying theme color",this.playlist.primary_color),this.fgLegible=i,this.previousColors={primaryDark:this.$vuetify.theme.themes.dark.primary,primaryLight:this.$vuetify.theme.themes.light.primary,primarySeekLight:this.$vuetify.theme.themes.light.primarySeek},this.$vuetify.theme.themes.dark.primary=this.playlist.primary_color,this.$vuetify.theme.themes.light.primary=this.playlist.primary_color,this.$vuetify.theme.themes.light.primarySeek=this.playlist.primary_color}},revertThemeColor:function(){this.fgLegible=!0,null!==this.previousColors&&(this.$vuetify.theme.themes.dark.primary=this.previousColors.primaryDark,this.$vuetify.theme.themes.light.primary=this.previousColors.primaryLight,this.$vuetify.theme.themes.light.primarySeek=this.previousColors.primarySeekLight)}},watch:{playlist:function(){this.checkForThemeColorChange()},"$vuetify.theme.dark":function(){this.checkForThemeColorChange()}},computed:{imageSize:function(){var t=this.$store.state.windowWidth;return t<1030?350:t<1287?250:t<1450?300:350}}},u=o,c=(i("f6c2"),i("2877")),p=Object(c["a"])(u,s,a,!1,null,"0982a40e",null);e["a"]=p.exports},d83d:function(t,e,i){"use strict";var s=i("b450"),a=i.n(s);a.a},dea7:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.playlist?i("div",{staticClass:"track-section"},[i("recycle-scroller",{ref:"scroller",staticClass:"scroller",attrs:{items:t.tracks.filter((function(t){return!t.is_local})),"key-field":"id","size-field":"size"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.item,a=e.index;return[0===a?i("playlist-meta",{staticClass:"playlist-meta",style:{paddingTop:t.showArt?"0":"30px"},attrs:{"show-art":t.showArt,playlist:t.playlist,"fg-legible":t.fgLegible}}):t._e(),a>0?i("div",{staticClass:"scroll-item"},[i("v-divider"),i("track-row",{key:s.id,attrs:{"context-item":t.playlist,"no-album":t.hideAlbum||t.isAlbum,"compact-menu":t.compactMenu,"album-list":t.isAlbum,track:s}})],1):t._e()]}}],null,!1,597775284)})],1):t._e()},a=[],r=(i("a4d3"),i("e01a"),i("99af"),i("c740"),i("d81d"),i("2909")),l=i("5530"),n=(i("96cf"),i("1da1")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"playlist-meta"},[t.showArt?i("glow-image",{staticClass:"art-section",attrs:{size:t.imageSize,url:t.$store.getters.itemImage(t.playlist)}}):t._e(),i("h2",{staticClass:"name"},[t._v(t._s(t.playlist.name))]),t.isAlbum?i("h2",{staticClass:"album-artist",attrs:{title:t.playlist.artists.map((function(t){return t.name})).join(", ")}},t._l(t.playlist.artists,(function(e,s){return i("span",{key:e.id},[i("router-link",{staticClass:"artist-link",attrs:{to:t.$store.getters.relativeItemUrl(e)}},[t._v(t._s(e.name))]),s<t.playlist.artists.length-1?i("span",[t._v(", ")]):t._e()],1)})),0):t._e(),i("p",{staticClass:"sub-caption"},[t.isAlbum?i("span",[i("span",{attrs:{title:"Year of release"}},[t._v(t._s(t.releaseYear))]),i("span",{staticClass:"dot"},[t._v("•")])]):t._e(),t.isAlbum&&t.playlist.genres.length>0?i("span",[i("span",[t._v(t._s(t.playlist.genres.join("/")))]),i("span",{staticClass:"dot"},[t._v("•")])]):t.isAlbum?t._e():i("span",[i("span",[i("span",[t._v("Created by ")]),i("router-link",{staticClass:"user-link",attrs:{to:t.$store.getters.relativeItemUrl(t.playlist.owner)}},[t._v(t._s(t.playlist.owner.display_name))])],1),i("span",{staticClass:"dot"},[t._v("•")])]),i("span",[t._v(t._s(t.playlist.tracks.length)+" tracks")]),i("span",{staticClass:"dot"},[t._v("•")]),i("span",[t._v(t._s(t.fullDuration))]),t.playlist.followers?i("span",[i("span",{staticClass:"dot"},[t._v("•")]),i("span",[t._v(t._s(t.playlist.followers.total)+" followers")])]):t._e()]),i("div",{staticClass:"buttons"},[i("div",[i("v-btn",{staticClass:"play-button",attrs:{small:"",color:t.fgLegible?"primary":"default"},on:{click:function(e){return t.$store.dispatch("playItem",{item:t.playlist})}}},[i("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("mdi-play")]),t._v(" Play ")],1),t.playlist.tracks.length>1?i("v-btn",{attrs:{small:"",color:t.fgLegible?"primary":"default"},on:{click:function(e){return t.$store.dispatch("playItem",{item:t.playlist,shuffle:!0})}}},[i("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("mdi-shuffle")]),t._v(" Shuffle ")],1):t._e()],1),i("div",{staticClass:"right-buttons"},[i("follow-button",{attrs:{item:t.playlist}}),i("item-menu",{attrs:{item:t.playlist}})],1)]),t.isAlbum?t._e():i("p",{staticClass:"description",domProps:{innerHTML:t._s(t.playlist.description)}})],1)},u=[],c=(i("13d5"),i("a123")),p=i("5dd2"),h=i("e292"),m=i("190f"),d=i("9bcd"),f=i("506b"),y={name:"PlaylistMeta",components:{GlowImage:f["a"],ItemMenu:d["a"],FollowMenuItem:m["a"],FollowButton:h["a"],ShareMenuItem:p["a"]},props:{fgLegible:{type:Boolean,default:!0},playlist:{type:Object,default:null},showArt:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{},computed:{releaseYear:function(){return this.isAlbum?new Date(this.playlist.release_date).getFullYear():0},tracks:function(){return this.playlist.tracks},isAlbum:function(){return"album"===this.playlist.type},fullDuration:function(){return 0===this.tracks.length?c["a"].secondsToHms(0):c["a"].secondsToHms(this.tracks.map((function(t){return t.duration_ms/1e3})).reduce((function(t,e){return t+e})))},imageSize:function(){var t=this.$store.state.windowWidth;return t<400?250:t<450?300:t<1030?350:t<1287?250:t<1450?300:350}}},g=y,v=(i("d83d"),i("2877")),b=i("6544"),w=i.n(b),_=i("8336"),k=i("132d"),C=Object(v["a"])(g,o,u,!1,null,"47e88946",null),$=C.exports;w()(C,{VBtn:_["a"],VIcon:k["a"]});var x=i("1344"),I={name:"TrackSection",components:{TrackRow:x["a"],PlaylistMeta:$},props:{fgLegible:{type:Boolean,default:!0},playlist:{type:Object,default:null},showArt:{type:Boolean,default:!1},highlightId:{type:String,default:void 0}},data:function(){return{hasHighlighted:!1}},mounted:function(){this.highlight()},methods:{highlight:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:void 0!==t.highlightId&&t.playlist&&t.playlist.tracks&&(i=t.playlist.tracks.findIndex((function(e){return e.id===t.highlightId})),-1!==i&&!1===t.hasHighlighted&&(t.hasHighlighted=!0,t.$refs.scroller.scrollToItem(i+1),console.warn("Implement todo here!!")));case 1:case"end":return e.stop()}}),e)})))()}},watch:{"playlist.tracks":function(){this.highlight()}},computed:{compactMenu:function(){return this.$store.state.windowWidth<759&&this.$store.state.windowWidth>680||this.$store.state.windowWidth<430},hideAlbum:function(){var t=this.$store.state.windowWidth;return t<960||t>=1030&&t<1237},isAlbum:function(){return"album"===this.playlist.type},tracks:function(){var t=this.playlist.tracks.map((function(t){return Object(l["a"])(Object(l["a"])({},t),{},{size:51})})),e=this.showArt?380:0,i=this.isAlbum||0===this.playlist.description.length?0:80,s=150,a=this.isAlbum?36:0,n=1;return[{id:"0",size:e+i+s+a+n}].concat(Object(r["a"])(t))}}},A=I,z=(i("035d"),i("ce7e")),S=Object(v["a"])(A,s,a,!1,null,"4dee1810",null);e["a"]=S.exports;w()(S,{VDivider:z["a"]})},f114:function(t,e,i){"use strict";var s=i("feac"),a=i.n(s);a.a},f6c2:function(t,e,i){"use strict";var s=i("b9d0"),a=i.n(s);a.a},feac:function(t,e,i){}}]);
//# sourceMappingURL=chunk-7debffe2.e0096570.js.map