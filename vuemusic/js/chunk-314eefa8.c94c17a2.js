(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-314eefa8"],{"6ae0":function(t,e,r){"use strict";r("f086")},ac6c:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tracks"},[r("recycle-scroller",{staticClass:"scroller",attrs:{items:t.scrollItems,"key-field":"id","size-field":"size"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.item,i=e.index;return[0===i?r("div",{staticClass:"page-title-container"},[r("v-form",{staticClass:"title-container",on:{submit:function(e){return e.preventDefault(),t.filter(e)}}},[r("h1",{staticClass:"page-title"},[t._v("Tracks")]),r("v-text-field",{ref:"filterInput",staticClass:"filter-term",attrs:{outlined:"",rounded:"",dense:"",label:"Filter tracks",clearable:""},on:{"click:clear":t.clearFilter},model:{value:t.liveFilter,callback:function(e){t.liveFilter=e},expression:"liveFilter"}})],1),r("v-divider",{staticClass:"divider"}),r("div",{staticClass:"buttons"},[r("v-btn",{attrs:{small:"",color:"primary"},on:{click:function(e){return t.$store.dispatch("playItem",{item:t.context})}}},[r("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("mdi-play")]),t._v(" Play ")],1),t.tracks.length>1?r("v-btn",{attrs:{small:"",color:"primary"},on:{click:function(e){return t.$store.dispatch("playItem",{item:t.context,shuffle:!0})}}},[r("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("mdi-shuffle")]),t._v(" Shuffle ")],1):t._e()],1),r("div",{staticClass:"sub-caption"},[r("span",[t._v(t._s(t.tracks.length)+" tracks")]),r("span",{staticClass:"dot"},[t._v("•")]),r("span",[t._v(t._s(t.fullDuration))]),t.loading?r("span",{staticClass:"loading-indicator"},[r("span",{staticClass:"dot"},[t._v("•")]),r("v-progress-circular",{staticClass:"spinner",attrs:{indeterminate:"",size:"10",width:"1"}}),r("span",[t._v("Refreshing")])],1):t._e()]),r("v-divider",{staticClass:"mr-1 ml-1"})],1):t._e(),i>0?r("div",{staticClass:"scroll-item"},[r("track-row",{key:s.id,attrs:{"no-album":t.hideAlbum,"compact-menu":t.compactMenu,"context-item":t.context,"album-list":!1,track:s}}),r("v-divider",{staticClass:"mr-1 ml-1"})],1):t._e()]}}])})],1)},i=[],a=(r("99af"),r("4de4"),r("caad"),r("a15b"),r("d81d"),r("13d5"),r("b0c0"),r("2532"),r("2909")),n=r("5530"),c=(r("96cf"),r("1da1")),l=r("1344"),o=r("a123"),u={name:"Tracks",components:{TrackRow:l["a"]},data:function(){return{liveFilter:"",filterTerm:"",focusInterval:-1}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("refreshUserData","track");case 2:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){clearInterval(this.focusInterval)},methods:{clearFilter:function(){this.liveFilter="",this.filter(!1)},filter:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.filterTerm=this.liveFilter,e){var r=800,s=10,i=0;clearInterval(this.focusInterval),this.focusInterval=setInterval((function(){var e=t.$refs.filterInput.$el.querySelector("input");e!==document.activeElement&&(!0,t.$refs.filterInput.focus(),clearInterval(t.focusInterval),console.log("Stop due to focus called")),i++>r/s&&(clearInterval(t.focusInterval),console.log("Stop due to timeout"))}),s)}}},computed:{lowerFilterTerm:function(){return this.filterTerm.toLowerCase()},context:function(){return{type:"liked",id:"liked",name:"Liked tracks",tracks:this.tracks}},loading:function(){return this.$store.state.isRefreshing.track},compactMenu:function(){var t=this.$store.state.windowWidth;return t<735&&(t>680||t<436)},hideAlbum:function(){var t=this.$store.state.windowWidth;return t<950},scrollItems:function(){var t=this.tracks.map((function(t){return Object(n["a"])(Object(n["a"])({},t),{},{size:51})})),e=142;return[{id:"0",size:e}].concat(Object(a["a"])(t))},tracks:function(){var t=this;return""===this.filterTerm?this.$store.state.library.tracks.filter((function(t){return!t.is_local})):this.$store.state.library.tracks.filter((function(e){return!e.is_local&&e.name.toLowerCase().includes(t.lowerFilterTerm)||e.artists.map((function(t){return t.name})).join(" ").toLowerCase().includes(t.lowerFilterTerm)}))},fullDuration:function(){return 0===this.tracks.length?o["a"].secondsToHms(0):o["a"].secondsToHms(this.tracks.map((function(t){return t.duration_ms/1e3})).reduce((function(t,e){return t+e})))}}},f=u,d=(r("6ae0"),r("2877")),m=r("6544"),v=r.n(m),h=r("8336"),p=r("ce7e"),k=r("4bd4"),b=r("132d"),w=r("490a"),C=r("8654"),_=Object(d["a"])(f,s,i,!1,null,"2b6d4f20",null);e["default"]=_.exports;v()(_,{VBtn:h["a"],VDivider:p["a"],VForm:k["a"],VIcon:b["a"],VProgressCircular:w["a"],VTextField:C["a"]})},f086:function(t,e,r){}}]);
//# sourceMappingURL=chunk-314eefa8.c94c17a2.js.map