{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?5b85","webpack:///./src/App.vue?824e","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?fc51","webpack:///./src/components/SongList.vue?2ec7","webpack:///src/components/SongList.vue","webpack:///./src/components/SongList.vue?4e7a","webpack:///./src/components/SongList.vue","webpack:///./src/js/CustomApi.js","webpack:///./src/js/StreamApi.js","webpack:///./src/js/FileStorage.js","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue","webpack:///./src/router.js","webpack:///./src/registerServiceWorker.js","webpack:///./src/main.js","webpack:///./src/views/Home.vue?a06c","webpack:///./src/components/SongList.vue?4d0c"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","component","staticClass","style","height","activeSong","title","_v","on","shufflePlay","model","callback","$$v","keepOffline","expression","_s","offlineProgress","songs","playSong","artist","seekDown","$event","touches","secondsToHms","songProgress","duration","ref","Math","round","toggleShuffle","shuffle","skipPrevious","playing","pause","play","skipNext","repeat","_e","_l","song","id","CustomApi","baseUrl","method","params","body","fetch","join","headers","undefined","JSON","stringify","response","text","parse","console","log","request","info","StreamApi","server","query","cache","localStorage","getItem","encodeURIComponent","results","ytId","FileStorage","isReady","requestSize","events","getFileSystem","then","fs","fileSystem","requestMoreQuota","fire","Promise","resolve","fileName","directory","root","getFileByName","getDirectoryFiles","files","find","f","error","reader","createReader","readEntries","e","webkitRequestFileSystem","PERSISTENT","size","navigator","webkitPersistentStorage","requestQuota","webkitTemporaryStorage","queryUsageAndQuota","usedBytes","grantedBytes","blob","createFile","fileEntry","writeToFile","getFile","file","createWriter","writer","onwriteend","onerror","write","event","indexOf","cb","lastPlayed","progress","max","min","caching","getMetadata","cachingAllSongs","setSongMetaData","cacheSong","player","src","url","oncanplay","onended","combinedTracks","map","$router","state","random","token","Vue","use","Router","routes","path","Home","register","process","ready","registered","cached","updatefound","updated","offline","MdButton","MdContent","MdList","MdIcon","MdSwitch","config","productionTip","router","render","h","App","$mount"],"mappings":"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","file":"js/app.1f582fe5.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vuemusic/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"app\">\r\n        <router-view/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"App\",\r\n        mounted(){\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    html, body {\r\n        margin: 0 !important;\r\n        padding: 0 !important;\r\n    }\r\n\r\n    @import url('//fonts.googleapis.com/css?family=Roboto:400,500,700,400italic|Material+Icons|Montserrat:300,400,500,600');\r\n\r\n    #app {\r\n        font-family: 'Montserrat','Roboto', Helvetica, Arial, sans-serif;\r\n        -webkit-font-smoothing: antialiased;\r\n        -moz-osx-font-smoothing: grayscale;\r\n        color: #2c3e50;\r\n    }\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7f3509d6&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('md-content',{staticClass:\"main-content\",style:({height: _vm.activeSong.title === '' ? '100%' : 'calc(100% - 250px)'})},[_c('h1',{staticClass:\"title md-title\"},[_vm._v(\"Liked Songs\")]),_c('md-button',{staticClass:\"md-raised md-primary shuffle-button\",on:{\"click\":_vm.shufflePlay}},[_vm._v(\"Shuffle Play\")]),_c('div',{staticClass:\"offline-switch\"},[_c('span',[_vm._v(\"Keep songs offline\")]),_c('md-switch',{model:{value:(_vm.keepOffline),callback:function ($$v) {_vm.keepOffline=$$v},expression:\"keepOffline\"}})],1),_c('span',{staticClass:\"offline-progress\"},[_vm._v(_vm._s(_vm.offlineProgress))]),_c('song-list',{staticClass:\"song-list\",attrs:{\"active-song\":_vm.activeSong,\"songs\":_vm.songs},on:{\"play\":_vm.playSong}})],1),(_vm.activeSong.title !== '')?_c('md-content',{staticClass:\"bottom-card md-primary\"},[_c('div',{staticClass:\"song-card\"},[_c('div',{staticClass:\"album-art\",style:({'background-image': (\"url(\" + (_vm.activeSong.albumArt) + \")\")})}),_c('div',{staticClass:\"song-info\"},[_c('span',[_vm._v(_vm._s(_vm.activeSong.title))]),_c('span',[_vm._v(_vm._s(_vm.activeSong.artist))])])]),_c('div',{staticClass:\"seek-bar\",on:{\"mousedown\":_vm.seekDown,\"touchstart\":function($event){return _vm.seekDown($event.touches[0])}}},[_c('span',{staticClass:\"song-time\"},[_vm._v(_vm._s(_vm.secondsToHms(_vm.songProgress * _vm.activeSong.duration)))]),_c('div',{ref:\"seekContainer\",staticClass:\"seek-container\"},[_c('div',{staticClass:\"seek-progress\",style:({'width':((Math.round(_vm.songProgress * 100)) + \"%\")})}),_c('div',{staticClass:\"seek-thumb\",style:({'left':(\"calc(\" + (Math.round(_vm.songProgress * 100)) + \"% - 16px / 2)\")})})]),_c('span',{staticClass:\"song-duration\"},[_vm._v(_vm._s(_vm.secondsToHms(_vm.activeSong.duration)))])]),_c('div',{staticClass:\"music-controls\"},[_c('md-button',{staticClass:\"md-icon-button\",on:{\"click\":function($event){return _vm.toggleShuffle()}}},[_c('md-icon',{style:(_vm.shuffle ? 'opacity: 1' : 'opacity: 0.6')},[_vm._v(\"shuffle\")])],1),_c('md-button',{staticClass:\"md-icon-button\",on:{\"click\":_vm.skipPrevious}},[_c('md-icon',[_vm._v(\"skip_previous\")])],1),_c('md-button',{staticClass:\"md-icon-button md-raised\",on:{\"click\":function($event){_vm.playing ? _vm.pause() : _vm.play()}}},[(_vm.playing)?_c('md-icon',[_vm._v(\"pause\")]):_c('md-icon',[_vm._v(\"play_arrow\")])],1),_c('md-button',{staticClass:\"md-icon-button\",on:{\"click\":_vm.skipNext}},[_c('md-icon',[_vm._v(\"skip_next\")])],1),_c('md-button',{staticClass:\"md-icon-button\",on:{\"click\":function($event){_vm.repeat = !_vm.repeat}}},[_c('md-icon',{style:(_vm.repeat ? 'opacity: 1' : 'opacity: 0.6')},[_vm._v(\"repeat\")])],1)],1)]):_vm._e(),_c('audio',{ref:\"player\",staticClass:\"audio-player\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"song-list\"},_vm._l((_vm.songs),function(song){return _c('md-list-item',{staticClass:\"song-item\",on:{\"click\":function($event){return _vm.playSong(song)}}},[_c('div',{staticClass:\"md-list-item-text\"},[_c('span',{staticClass:\"song-title\"},[_vm._v(_vm._s(song.title))]),_c('span',{staticClass:\"song-artist\"},[_vm._v(_vm._s(song.artist))])]),(_vm.activeSong.id === song.id)?_c('md-button',{staticClass:\"md-primary md-icon-button md-list-action md-disabled\"},[_c('md-icon',{staticClass:\"song-options\"},[_vm._v(\"volume_up\")])],1):_vm._e(),_c('md-button',{staticClass:\"md-icon-button md-list-action\"},[_c('md-icon',{staticClass:\"song-options\"},[_vm._v(\"more_vert\")])],1)],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"song-list\">\r\n        <md-list-item class=\"song-item\" v-for=\"song in songs\" @click=\"playSong(song)\">\r\n            <div class=\"md-list-item-text\">\r\n                <span class=\"song-title\">{{song.title}}</span>\r\n                <span class=\"song-artist\">{{song.artist}}</span>\r\n            </div>\r\n            <md-button v-if=\"activeSong.id === song.id\" class=\"md-primary md-icon-button md-list-action md-disabled\">\r\n                <md-icon class=\"song-options\">volume_up</md-icon>\r\n            </md-button>\r\n            <md-button class=\"md-icon-button md-list-action\">\r\n                <md-icon class=\"song-options\">more_vert</md-icon>\r\n            </md-button>\r\n        </md-list-item>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"SongList\",\r\n        props: {\r\n            songs: Array,\r\n            activeSong: Object,\r\n        },\r\n        data() {\r\n            return {}\r\n        },\r\n        methods: {\r\n            playSong(song) {\r\n                this.$emit('play', song);\r\n            }\r\n        },\r\n        mounted() {\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .song-list {\r\n        background-color: transparent !important;\r\n    }\r\n\r\n    .song-list li {\r\n        list-style: none !important;\r\n    }\r\n\r\n    .song-item {\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .song-title, .song-artist {\r\n        font-weight: 300;\r\n    }\r\n\r\n    .song-artist, .song-options {\r\n        opacity: 0.6;\r\n    }\r\n\r\n    .song-artist {\r\n        margin-top: 4px;\r\n        font-size: 13px !important;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SongList.vue?vue&type=template&id=4f9919ce&scoped=true&\"\nimport script from \"./SongList.vue?vue&type=script&lang=js&\"\nexport * from \"./SongList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SongList.vue?vue&type=style&index=0&id=4f9919ce&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f9919ce\",\n  null\n  \n)\n\nexport default component.exports","export default class CustomApi {\r\n    constructor(baseUrl) {\r\n        this.baseUrl = baseUrl;\r\n    }\r\n\r\n    async request(method, params, body) {\r\n        let response = await fetch(this.baseUrl + '/' + params.join('/'), {\r\n            method,\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                // \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            },\r\n            body: body === undefined ? undefined : JSON.stringify(body)\r\n        });\r\n        let text = await response.text();\r\n        try {\r\n            return JSON.parse(text);\r\n        } catch (e) {\r\n            console.log(\"Error parsing json response:\", text);\r\n        }\r\n    }\r\n\r\n    async get(...params) {\r\n        return await this.request('get', params);\r\n    }\r\n\r\n    async post(body, ...params) {\r\n        console.info('[POST]', params, body);\r\n        return await this.request('post', params, body);\r\n    }\r\n}","import CustomApi from './CustomApi';\r\n\r\nclass StreamApi extends CustomApi {\r\n    constructor() {\r\n        super('');\r\n    }\r\n\r\n    setServer(server) {\r\n        this.baseUrl = server;\r\n    }\r\n\r\n    async search(query, cache = true) {\r\n        if (cache && localStorage.getItem('search' + query) !== null)\r\n            return JSON.parse(localStorage['search' + query]);\r\n\r\n        let results = await this.get('search?query=' + encodeURIComponent(query));\r\n        localStorage['search' + query] = JSON.stringify(results);\r\n        return results;\r\n    }\r\n\r\n    getStreamUrl(ytId) {\r\n        return this.baseUrl + '/stream/?id=' + ytId;\r\n    }\r\n\r\n    getDownloadUrl(query) {\r\n        return this.baseUrl + '/download/?query=' + encodeURIComponent(query);\r\n    }\r\n}\r\n\r\nexport default new StreamApi();","class FileStorage {\r\n    constructor() {\r\n        this.isReady = false;\r\n        this.requestSize = 1024 ** 3; // 1GB\r\n        this.events = {};\r\n\r\n        console.log(\"Instanced\");\r\n        this.getFileSystem().then(async fs => {\r\n            this.fileSystem = fs;\r\n            await this.requestMoreQuota(this.requestSize);\r\n            this.isReady = true;\r\n            this.fire('ready');\r\n        });\r\n    }\r\n\r\n    async awaitReady() {\r\n        return new Promise(resolve => {\r\n            if (this.isReady)\r\n                resolve();\r\n            this.on('ready', () => {\r\n                console.log(\"resolving ready here\");\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    get root() {\r\n        return this.fileSystem.root;\r\n    }\r\n\r\n    async exists(fileName, directory = this.root) {\r\n        return (await this.getFileByName(fileName, directory)) !== undefined;\r\n    }\r\n\r\n    async getFileByName(fileName, directory = this.root) {\r\n        let files = await this.getDirectoryFiles(directory);\r\n        return files.find(f => f.name === fileName);\r\n    }\r\n\r\n    async getDirectoryFiles(directory = this.root) {\r\n        return new Promise((resolve, error) => {\r\n            let reader = directory.createReader();\r\n            reader.readEntries(r => resolve(r), e => error(e));\r\n        });\r\n    }\r\n\r\n    async getFileSystem() {\r\n        return new Promise((resolve, error) => {\r\n            window.webkitRequestFileSystem(window.PERSISTENT, 0, r => resolve(r), e => error(e));\r\n        });\r\n    }\r\n\r\n    async requestMoreQuota(size) {\r\n        return new Promise((resolve, error) => {\r\n            navigator.webkitPersistentStorage.requestQuota(size, r => resolve(r), e => error(e));\r\n        });\r\n    }\r\n\r\n    async getCurrentQuota() {\r\n        return new Promise((resolve, error) => {\r\n            navigator.webkitTemporaryStorage.queryUsageAndQuota(\r\n                (usedBytes, grantedBytes) => resolve({usedBytes, grantedBytes}), e => error(e)\r\n            );\r\n        });\r\n    }\r\n\r\n    async createFileFromBlob(name, blob, directory = this.root) {\r\n        let fileEntry = await this.createFile(name, directory);\r\n        await this.writeToFile(blob, fileEntry);\r\n        return fileEntry;\r\n    }\r\n\r\n    async createFile(name, directory = this.root) {\r\n        return new Promise((resolve, error) => {\r\n            directory.getFile(name, {create: true}, r => resolve(r), e => error(e));\r\n        });\r\n    }\r\n\r\n    async writeToFile(blob, file) {\r\n        return new Promise((resolve, error) => {\r\n            file.createWriter(writer => {\r\n                writer.onwriteend = e => resolve(e);\r\n                writer.onerror = e => error(e);\r\n\r\n                writer.write(blob);\r\n            });\r\n        });\r\n    }\r\n\r\n    on(event, callback) {\r\n        if (!this.events[event])\r\n            this.events[event] = [];\r\n\r\n        this.events[event].push(callback);\r\n    }\r\n\r\n    off(event, callback) {\r\n        if (this.events[event])\r\n            this.events[event].splice(this.events.indexOf(callback), 1);\r\n    }\r\n\r\n    fire(event) {\r\n        if (this.events[event])\r\n            for (let cb of this.events[event]) {\r\n                cb();\r\n            }\r\n    }\r\n}\r\n\r\nexport default new FileStorage();\r\n","<!--Todo: Hide songs from list-->\r\n<!--Todo: ?-->\r\n\r\n<template>\r\n    <div class=\"home\">\r\n        <md-content class=\"main-content\" :style=\"{height: activeSong.title === '' ? '100%' : 'calc(100% - 250px)'}\">\r\n            <h1 class=\"title md-title\">Liked Songs</h1>\r\n            <md-button class=\"md-raised md-primary shuffle-button\" @click=\"shufflePlay\">Shuffle Play</md-button>\r\n            <div class=\"offline-switch\">\r\n                <span>Keep songs offline</span>\r\n                <md-switch v-model=\"keepOffline\"></md-switch>\r\n            </div>\r\n            <span class=\"offline-progress\">{{offlineProgress}}</span>\r\n            <song-list class=\"song-list\" :active-song=\"activeSong\" :songs=\"songs\" @play=\"playSong\"></song-list>\r\n        </md-content>\r\n        <md-content class=\"bottom-card md-primary\" v-if=\"activeSong.title !== ''\">\r\n            <div class=\"song-card\">\r\n                <div class=\"album-art\" :style=\"{'background-image': `url(${activeSong.albumArt})`}\"></div>\r\n                <div class=\"song-info\">\r\n                    <span>{{activeSong.title}}</span>\r\n                    <span>{{activeSong.artist}}</span>\r\n                </div>\r\n            </div>\r\n            <div class=\"seek-bar\" @mousedown=\"seekDown\" @touchstart=\"seekDown($event.touches[0])\">\r\n                <span class=\"song-time\">{{secondsToHms(songProgress * activeSong.duration)}}</span>\r\n                <div class=\"seek-container\" ref=\"seekContainer\">\r\n                    <div class=\"seek-progress\" :style=\"{'width':`${Math.round(songProgress * 100)}%`}\"></div>\r\n                    <div class=\"seek-thumb\"\r\n                         :style=\"{'left':`calc(${Math.round(songProgress * 100)}% - 16px / 2)`}\"></div>\r\n                </div>\r\n                <span class=\"song-duration\">{{secondsToHms(activeSong.duration)}}</span>\r\n            </div>\r\n            <div class=\"music-controls\">\r\n                <md-button class=\"md-icon-button\" @click=\"toggleShuffle()\">\r\n                    <md-icon :style=\"shuffle ? 'opacity: 1' : 'opacity: 0.6'\">shuffle</md-icon>\r\n                </md-button>\r\n                <md-button @click=\"skipPrevious\" class=\"md-icon-button\">\r\n                    <md-icon>skip_previous</md-icon>\r\n                </md-button>\r\n                <md-button @click=\"playing ? pause() : play()\" class=\"md-icon-button md-raised\">\r\n                    <md-icon v-if=\"playing\">pause</md-icon>\r\n                    <md-icon v-else>play_arrow</md-icon>\r\n                </md-button>\r\n                <md-button @click=\"skipNext\" class=\"md-icon-button\">\r\n                    <md-icon>skip_next</md-icon>\r\n                </md-button>\r\n                <md-button class=\"md-icon-button\" @click=\"repeat = !repeat\">\r\n                    <md-icon :style=\"repeat ? 'opacity: 1' : 'opacity: 0.6'\">repeat</md-icon>\r\n                </md-button>\r\n            </div>\r\n        </md-content>\r\n        <audio ref=\"player\" class=\"audio-player\"></audio>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import SongList from \"../components/SongList\";\r\n    import StreamApi from \"../js/StreamApi\";\r\n    import fs from '@/js/FileStorage';\r\n\r\n    const isLocal = location.href.includes('localhost') || location.href.includes('127.0.0.1');\r\n    // const isLocal = false;\r\n    const server = isLocal ? 'http://localhost:3000' : 'https://ruurd.dev:3000';\r\n    StreamApi.setServer(server);\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                offlineProgress: '',\r\n                cachingAllSongs: false,\r\n                keepOffline: false,\r\n                timeUpdater: -1,\r\n                songProgress: 0,\r\n                seeking: false,\r\n                songs: [],\r\n                shuffledSongs: [],\r\n                playing: false,\r\n                repeat: true,\r\n                shuffle: false,\r\n                activeSong: {title: '', artist: '', albumArt: ''}\r\n            }\r\n        },\r\n        async mounted() {\r\n            let token;\r\n            if (localStorage.getItem('token'))\r\n                token = JSON.parse(localStorage.token);\r\n            if (navigator.onLine)\r\n                this.getToken();\r\n            if (!token && navigator.online)\r\n                return;\r\n\r\n            if (localStorage.getItem('songs')) {\r\n                console.log(\"Retrieving tracks from Cache\");\r\n                this.songs = JSON.parse(localStorage.songs);\r\n                Object.freeze(this.songs);\r\n                // Retrieved tracks from cache, update anyways:\r\n                // Not when in dev though :Hmm\r\n                console.log(\"Updating cached tracks from Spotify\");\r\n                if (!isLocal)\r\n                    this.getTracks(token).then(track => {\r\n                        this.songs = track.map(this.trackToSong);\r\n                        Object.freeze(this.songs);\r\n                        localStorage.songs = JSON.stringify(this.songs);\r\n                        // Keep off for indev\r\n                        if (this.keepOffline  && !isLocal) {\r\n                            console.log(2);\r\n                            this.cacheAllSongs();\r\n                        }\r\n                    });\r\n            } else {\r\n                console.log(\"Retrieving tracks from Spotify\");\r\n                let tracks = await this.getTracks(token);\r\n                this.songs = tracks.map(this.trackToSong);\r\n                Object.freeze(this.songs);\r\n                localStorage.songs = JSON.stringify(this.songs);\r\n            }\r\n            console.log(this.songs);\r\n            if (localStorage.getItem('lastPlayed') !== null) {\r\n                let lastPlayed = this.songs.find(s => s.id === localStorage.lastPlayed);\r\n                if (lastPlayed)\r\n                    this.playSong(lastPlayed, true)\r\n            }\r\n\r\n            if (localStorage.getItem('keepOffline') !== null) {\r\n                console.log(1);\r\n                this.keepOffline = localStorage.keepOffline === 'true';\r\n            }\r\n\r\n            document.addEventListener('mousemove', e => this.mouseMove(e));\r\n            document.addEventListener('touchmove', e => this.mouseMove(e.touches[0]));\r\n            document.addEventListener('mouseup', e => this.mouseUp(e));\r\n            document.addEventListener('touchend', e => this.mouseUp(e.touches[0]));\r\n\r\n            this.timeUpdater = setInterval(() => {\r\n                let progress = this.$refs.player.currentTime / (this.activeSong.duration);\r\n                progress = Math.max(Math.min(progress, 1), 0);\r\n                this.songProgress = progress;\r\n            }, 200);\r\n        },\r\n        beforeDestroy() {\r\n            clearInterval(this.timeUpdater);\r\n        },\r\n        methods: {\r\n            trackToSong(track) {\r\n                track = track.track;\r\n                return {\r\n                    title: track.name,\r\n                    artist: track.artists.map(artist => artist.name).join(', '),\r\n                    duration: track.duration_ms / 1000,\r\n                    albumArt: track.album.images[0].url,\r\n                    id: track.id,\r\n                }\r\n            },\r\n            shufflePlay() {\r\n                this.toggleShuffle(true);\r\n                this.playSong(this.shuffledSongs[0]);\r\n            },\r\n            shuffleArray(array) {\r\n                let m = array.length, t, i;\r\n                // While there remain elements to shuffle…\r\n                while (m) {\r\n                    // Pick a remaining element…\r\n                    i = Math.floor(Math.random() * m--);\r\n                    // And swap it with the current element.\r\n                    t = array[m];\r\n                    array[m] = array[i];\r\n                    array[i] = t;\r\n                }\r\n\r\n                return array;\r\n            },\r\n            toggleShuffle(forceValue) {\r\n                if (forceValue !== undefined)\r\n                    this.shuffle = forceValue;\r\n                else\r\n                    this.shuffle = !this.shuffle;\r\n\r\n                if (this.shuffle)\r\n                    this.shuffledSongs = this.shuffleArray([...this.songs]);\r\n            },\r\n            secondsToHms(seconds) {\r\n                if (isNaN(seconds) || seconds === undefined)\r\n                    return '0:00';\r\n\r\n                seconds = Math.round(seconds);\r\n                let h = Math.floor(seconds / 3600);\r\n                let m = Math.floor((seconds % 3600) / 60);\r\n                let s = seconds % 60;\r\n                h = h.toString();\r\n                m = m.toString();\r\n                s = s.toString();\r\n                if (h !== '0') {\r\n                    m = m.padStart(2, '0');\r\n                    s = s.padStart(2, '0');\r\n                }\r\n                s = s.padStart(2, '0');\r\n\r\n                if (h === '0')\r\n                    return `${m}:${s}`;\r\n                else return `${h}:${m}:${s}`;\r\n            },\r\n            skipNext() {\r\n                let currentIndex = this.songs.indexOf(this.activeSong);\r\n                if (currentIndex === this.songs.length - 1)\r\n                    if (this.repeat)\r\n                        currentIndex = -1;\r\n                    else {\r\n                        console.log(\"Not skipping, repeat is off\");\r\n                        return;\r\n                    }\r\n                if (this.shuffle)\r\n                    this.playSong(this.shuffledSongs[currentIndex + 1]);\r\n                else\r\n                    this.playSong(this.songs[currentIndex + 1]);\r\n\r\n            },\r\n            skipPrevious() {\r\n                let player = this.$refs.player;\r\n                if (player.currentTime < 5) {\r\n                    let currentIndex = this.songs.indexOf(this.activeSong);\r\n                    if (currentIndex === 0)\r\n                        currentIndex = this.songs.length;\r\n                    if (this.shuffle)\r\n                        this.playSong(this.shuffledSongs[currentIndex - 1]);\r\n                    else\r\n                        this.playSong(this.songs[currentIndex - 1]);\r\n                } else player.currentTime = 0;\r\n            },\r\n            mouseUp() {\r\n                if (this.seeking)\r\n                    this.seeking = false;\r\n            },\r\n            mouseMove(e) {\r\n                if (this.seeking)\r\n                    this.seekToEvent(e);\r\n            },\r\n            seekDown(e) {\r\n                this.seeking = true;\r\n                this.seekToEvent(e);\r\n            },\r\n            seekToEvent(e) {\r\n                let percent = (e.pageX - this.$refs.seekContainer.offsetLeft) / this.$refs.seekContainer.offsetWidth;\r\n                percent = Math.max(Math.min(percent, 1), 0);\r\n                this.songProgress = percent;\r\n                let duration = this.activeSong.duration;\r\n                this.$refs.player.currentTime = duration * percent;\r\n            },\r\n            async play() {\r\n                console.log('play');\r\n                if (this.activeSong.title === '') return;\r\n                this.playing = true;\r\n                await this.$refs.player.play();\r\n            },\r\n            pause() {\r\n                console.log('pause');\r\n                this.playing = false;\r\n                this.$refs.player.pause();\r\n            },\r\n            setSongMetaData: function (song) {\r\n                document.title = song.artist + ' - ' + song.title;\r\n                // document.querySelector('meta[name=\"theme-color\"').content = song.color;\r\n\r\n                if (!('mediaSession' in navigator))\r\n                    return;\r\n\r\n                navigator.mediaSession.metadata = new MediaMetadata({\r\n                    title: song.title,\r\n                    artist: song.artist,\r\n                    artwork: [\r\n                        {src: song.albumArt, type: 'image/png'},\r\n                    ]\r\n                });\r\n                navigator.mediaSession.setActionHandler('play', async () => {\r\n                    await this.play();\r\n                });\r\n                navigator.mediaSession.setActionHandler('pause', async () => {\r\n                    await this.pause();\r\n                });\r\n                navigator.mediaSession.setActionHandler('previoustrack', () => {\r\n                    this.skipNext();\r\n                });\r\n                navigator.mediaSession.setActionHandler('nexttrack', () => {\r\n                    this.skipPrevious();\r\n                });\r\n            },\r\n            async getUrl(song) {\r\n                console.log(\"Cache song:\", song.title);\r\n\r\n                await fs.awaitReady();\r\n                if (await fs.exists(song.id)) {\r\n                    console.log(\"Song available offline!\", song.title, song.id);\r\n                    let file = await fs.getFileByName(song.id);\r\n                    console.log(file);\r\n                    if (file)\r\n                        return file.toURL();\r\n                    else\r\n                        console.warn(\"File exists, but not found by fs.getFileByName :(, what happen?\");\r\n                }\r\n\r\n                console.log(\"Song not available offline, searching Youtube\");\r\n\r\n                let query = song.artist + ' - ' + song.title;\r\n                let results = await StreamApi.search(query);\r\n\r\n                console.log(\"Youtube found results:\", results);\r\n\r\n                return StreamApi.getStreamUrl(results[0].id);\r\n            },\r\n            async cacheSong(song, log = false) {\r\n                if (song.caching) {\r\n                    console.log(\"Song is already caching, return now\");\r\n                    return;\r\n                }\r\n\r\n                await fs.awaitReady();\r\n                if (await fs.exists(song.id)) {\r\n                    console.log(\"Song is already cached, return now\");\r\n                    return;\r\n                }\r\n\r\n                let query = song.artist + ' - ' + song.title;\r\n                let url = StreamApi.getDownloadUrl(query);\r\n                console.log(`Caching song ${song.title}, url: ${url}`);\r\n                song.caching = true;\r\n\r\n                let response = await fetch(url);\r\n                let audioBlob = await response.blob();\r\n                let result = await fs.createFileFromBlob(song.id, audioBlob);\r\n                if (log) result.getMetadata(metadata => {\r\n                    console.log(`Song ${song.title} caching complete: `, result, 'metadata', metadata);\r\n                    song.caching = false;\r\n                });\r\n            },\r\n            async cacheAllSongs() {\r\n                console.log(\"Cache all songs called\");\r\n                if (this.cachingAllSongs)\r\n                    return;\r\n                console.log(\"Cache all songs executed\");\r\n                this.cachingAllSongs = true;\r\n                //Cache songs 10 by 10 until done\r\n                await fs.awaitReady();\r\n                let sliceSize = 10;\r\n                for (let i = 0; i < this.songs.length; i += sliceSize) {\r\n                    this.offlineProgress = `Downloading ${i}-${i + 10} out of ${this.songs.length} songs...`;\r\n                    // console.log('Cache progress:', i + ' / ' + this.songs.length);\r\n                    let tasks = [];\r\n                    for (let song of this.songs.slice(i, i + sliceSize))\r\n                        tasks.push(this.cacheSong(song));\r\n                    // console.log(tasks);\r\n                    await Promise.all(tasks);\r\n                }\r\n                this.cachingAllSongs = false;\r\n                this.offlineProgress = '';\r\n                console.log(\"Cache all songs complete\");\r\n            },\r\n            async playSong(song, pause = false) {\r\n                if (song.id === this.activeSong.id) {\r\n                    this.$refs.player.currentTime = 0;\r\n                    if (!pause)\r\n                        this.play();\r\n                    return;\r\n                }\r\n                localStorage.lastPlayed = song.id;\r\n                this.activeSong = song;\r\n                this.setSongMetaData(song);\r\n\r\n                let url = await this.getUrl(song);\r\n                this.cacheSong(song);\r\n\r\n                console.log(`Playing song ${song.title}, url: ${url}`);\r\n                let player = this.$refs.player;\r\n                player.src = url;\r\n                player.oncanplay = async () => {\r\n                    this.playing = !pause;\r\n                    if (!pause)\r\n                        await player.play();\r\n                };\r\n                player.onended = () => this.skipNext();\r\n            },\r\n            async getTracks(token) {\r\n                //Get saved tracks\r\n                let tracks = [];\r\n                let url = 'https://api.spotify.com/v1/me/tracks?limit=50';\r\n                while (url) {\r\n                    let newTracks = await (await fetch(url, {\r\n                        method: 'GET',\r\n                        headers: {\r\n                            'Authorization': 'Bearer ' + token.token,\r\n                        }\r\n                    })).json();\r\n                    url = newTracks.next;\r\n                    tracks.push(newTracks);\r\n                }\r\n                let combinedTracks = tracks.map(t => t.items).reduce((a, b) => a.concat(b));\r\n                console.log(\"Your tracks are \", combinedTracks.map(t => t.popularity).reduce((a, b) => a + b) / combinedTracks.length, '% normie');\r\n\r\n                return combinedTracks;\r\n            },\r\n            async getToken() {\r\n                if (localStorage.getItem('token') !== null) {\r\n                    let token = JSON.parse(localStorage.token);\r\n                    token.expires = +token.expires;\r\n                    let unixSeconds = Math.floor((+new Date()) / 1000);\r\n                    // if token is 10 minutes or older, request new one\r\n                    if (token.expires - unixSeconds >= 3000) {\r\n                        console.log('didnt request new token :)');\r\n                        return token;\r\n                    }\r\n                }\r\n                const clientId = 'cd272aa2194c46c7a460e9a202f66002';\r\n                let redirectUrl = isLocal ? 'http://localhost:8080/vuemusic/#/' : 'https://ruurd.dev/vuemusic/#/';\r\n\r\n                //Check for login error\r\n                if (location.search.includes('error')) {\r\n                    document.write(\"Error, access was not granted\");\r\n                    return;\r\n                }\r\n\r\n                if (localStorage.getItem('state') === null)\r\n                    localStorage.state = Math.random();\r\n\r\n                //Check for auth code\r\n                if (!location.hash.includes(\"access_token=\")) {\r\n                    let scopes = 'user-library-read';\r\n                    location.href = `https://accounts.spotify.com/authorize?response_type=token&state=${localStorage.state}&client_id=${clientId}${scopes ? '&scope=' + encodeURIComponent(scopes) : ''}&redirect_uri=${encodeURIComponent(redirectUrl)}`;\r\n                    return;\r\n                }\r\n\r\n                // let [token, type, expire] = location.hash.split('=').map(i => i.split('&')[0]).slice(1);\r\n                let token = location.hash.split('access_token=')[1].split('&')[0];\r\n                let tokenType = location.hash.split('token_type=')[1].split('&')[0];\r\n                let tokenExpires = location.hash.split('expires_in=')[1].split('&')[0];\r\n                let tokenState = location.hash.split('state=')[1].split('&')[0];\r\n\r\n                //Remove for vue history mode\r\n                this.$router.push('/');\r\n\r\n                if (tokenState !== localStorage.state) {\r\n                    document.write(\"Error, possible mitm attack, state doesn't match\");\r\n                    localStorage.state = Math.random();\r\n                    return;\r\n                }\r\n\r\n                localStorage.state = Math.random();\r\n                localStorage.token = JSON.stringify({\r\n                    token,\r\n                    type: tokenType,\r\n                    expires: Math.floor((+new Date) / 1000) + (+tokenExpires)\r\n                })\r\n            },\r\n        },\r\n        watch: {\r\n            keepOffline: function () {\r\n                localStorage.keepOffline = this.keepOffline;\r\n                if (this.keepOffline )\r\n                    this.cacheAllSongs();\r\n            }\r\n        },\r\n        name: 'home',\r\n        components: {SongList}\r\n    }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n    .home {\r\n        text-align: center;\r\n    }\r\n\r\n    .main-content {\r\n        height: calc(100% - 250px);\r\n        position: absolute;\r\n        width: 100%;\r\n        padding: 90px 10px 20px;\r\n        overflow-y: auto;\r\n        background: radial-gradient(circle at top left, rgba(75, 47, 250, 0.9) 0%, transparent 65%), radial-gradient(circle at top right, rgba(235, 255, 240, .6) 0%, transparent 35%);\r\n    }\r\n\r\n    .title {\r\n        margin: 0 0 40px;\r\n        font-size: 24px;\r\n        font-weight: 600;\r\n    }\r\n\r\n    .shuffle-button {\r\n        border-radius: 25px;\r\n        width: 230px !important;\r\n        height: 50px;\r\n        font-weight: 500;\r\n        font-size: 16px;\r\n    }\r\n\r\n    .shuffle-button .md-ripple {\r\n        border-radius: 25px;\r\n    }\r\n\r\n    .offline-switch span {\r\n        margin: 15px;\r\n        position: relative;\r\n        top: -6px;\r\n    }\r\n\r\n    .offline-progress {\r\n        font-weight: 300;\r\n        opacity: 0.8;\r\n        font-size: 12px;\r\n    }\r\n\r\n    .song-list {\r\n        margin-top: 20px;\r\n    }\r\n\r\n    .bottom-card {\r\n        position: absolute;\r\n        height: 250px;\r\n        bottom: 0;\r\n        width: 100%;\r\n        z-index: 5;\r\n        box-shadow: 0 0 30px 0 rgba(0, 0, 0, 0.3);\r\n        padding: 20px;\r\n    }\r\n\r\n    .song-card {\r\n        display: flex;\r\n        flex-direction: row;\r\n        margin: 15px;\r\n    }\r\n\r\n    .album-art {\r\n        width: 55px;\r\n        height: 55px;\r\n        border-radius: 3px;\r\n        box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.3);\r\n        background-size: cover;\r\n        background-repeat: no-repeat;\r\n        background-position: center;\r\n        padding: 10px;\r\n    }\r\n\r\n    .song-info {\r\n        display: flex;\r\n        /*text-shadow: 0px 0px 20px black;*/\r\n        flex-direction: column;\r\n        text-align: left;\r\n        padding: 10px 15px;\r\n        max-width: calc(100% - 55px);\r\n    }\r\n\r\n    .song-info > span:first-child {\r\n        font-weight: 500;\r\n        font-size: 18px;\r\n    }\r\n\r\n    .song-info > span:nth-child(2) {\r\n        opacity: 0.7;\r\n    }\r\n\r\n    .song-info > span {\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n    }\r\n\r\n    .seek-bar {\r\n        display: flex;\r\n        margin: 30px 0;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .seek-bar > span {\r\n        font-size: 16px;\r\n        font-weight: 500;\r\n        opacity: 0.8;\r\n        pointer-events: none;\r\n        width: 100px;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n    }\r\n\r\n    .seek-container {\r\n        width: 100%;\r\n        height: 5px;\r\n        background-color: rgba(255, 255, 255, 0.5);\r\n        margin: 6px 12px;\r\n        border-radius: 2.5px;\r\n        pointer-events: none;\r\n    }\r\n\r\n    .seek-progress {\r\n        width: 50%;\r\n        height: 5px;\r\n        border-radius: 2.5px;\r\n        background-color: white;\r\n    }\r\n\r\n    .seek-thumb {\r\n        height: 16px;\r\n        width: 16px;\r\n        background-color: white;\r\n        border-radius: 50%;\r\n        position: relative;\r\n        top: calc(-16px / 2 - 2.5px);\r\n        left: calc(50% - 16px / 2);\r\n    }\r\n\r\n    .music-controls {\r\n        display: flex;\r\n        justify-content: space-evenly;\r\n    }\r\n\r\n    .control-play {\r\n\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=558de3bb&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=558de3bb&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"558de3bb\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Home from './views/Home.vue'\r\n\r\nVue.use(Router);\r\n\r\nexport default new Router({\r\n    routes: [\r\n        {\r\n            path: '/',\r\n            name: 'home',\r\n            component: Home\r\n        },\r\n        {\r\n            path: '/access_token*',\r\n            name: 'Token redirect',\r\n            component: Home\r\n        },\r\n    ]\r\n})\r\n","/* eslint-disable no-console */\r\n\r\nimport { register } from 'register-service-worker'\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  register(`${process.env.BASE_URL}service-worker.js`, {\r\n    ready () {\r\n      console.log(\r\n        'App is being served from cache by a service worker.\\n' +\r\n        'For more details, visit https://goo.gl/AFskqB'\r\n      )\r\n    },\r\n    registered () {\r\n      console.log('Service worker has been registered.')\r\n    },\r\n    cached () {\r\n      console.log('Content has been cached for offline use.')\r\n    },\r\n    updatefound () {\r\n      console.log('New content is downloading.')\r\n    },\r\n    updated () {\r\n      console.log('New content is available; please refresh.')\r\n    },\r\n    offline () {\r\n      console.log('No internet connection found. App is running in offline mode.')\r\n    },\r\n    error (error) {\r\n      console.error('Error during service worker registration:', error)\r\n    }\r\n  })\r\n}\r\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport './registerServiceWorker'\r\n\r\nimport {MdButton, MdContent, MdList, MdIcon, MdSwitch} from 'vue-material/dist/components'\r\nimport 'vue-material/dist/vue-material.min.css'\r\n// import 'vue-material/dist/theme/black-green-dark.css';\r\n// import '../res/vm3-theme.css';\r\n// import 'vue-material/dist/theme/default.css'\r\n// import 'vue-material/dist/theme/default-dark.css';\r\nimport '../res/vm3-theme-primary-on-dark.css'\r\n\r\nVue.use(MdButton);\r\nVue.use(MdContent);\r\nVue.use(MdList);\r\nVue.use(MdIcon);\r\nVue.use(MdSwitch);\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n    router,\r\n    render: h => h(App)\r\n}).$mount('#app')\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=558de3bb&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=558de3bb&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=style&index=0&id=4f9919ce&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=style&index=0&id=4f9919ce&scoped=true&lang=css&\""],"sourceRoot":""}