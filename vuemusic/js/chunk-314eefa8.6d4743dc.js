(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-314eefa8"],{"6ae0":function(t,e,s){"use strict";s("f086")},ac6c:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tracks"},[s("recycle-scroller",{staticClass:"scroller",attrs:{items:t.scrollItems,"key-field":"id","size-field":"size"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item,a=e.index;return[0===a?s("div",{staticClass:"page-title-container"},[s("v-form",{staticClass:"title-container",on:{submit:function(e){return e.preventDefault(),t.filter.apply(null,arguments)}}},[s("h1",{staticClass:"page-title"},[t._v("Tracks")]),s("v-text-field",{ref:"filterInput",staticClass:"filter-term",attrs:{outlined:"",rounded:"",dense:"",label:"Filter tracks",clearable:""},on:{"click:clear":t.clearFilter},model:{value:t.liveFilter,callback:function(e){t.liveFilter=e},expression:"liveFilter"}})],1),s("v-divider",{staticClass:"divider"}),s("div",{staticClass:"buttons"},[s("v-btn",{attrs:{small:"",color:"primary"},on:{click:function(e){return t.$store.dispatch("playItem",{item:t.context})}}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("mdi-play")]),t._v(" Play ")],1),t.tracks.length>1?s("v-btn",{attrs:{small:"",color:"primary"},on:{click:function(e){return t.$store.dispatch("playItem",{item:t.context,shuffle:!0})}}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("mdi-shuffle")]),t._v(" Shuffle ")],1):t._e()],1),s("div",{staticClass:"sub-caption"},[s("span",[t._v(t._s(t.tracks.length)+" tracks")]),s("span",{staticClass:"dot"},[t._v("•")]),s("span",[t._v(t._s(t.fullDuration))]),t.loading?s("span",{staticClass:"loading-indicator"},[s("span",{staticClass:"dot"},[t._v("•")]),s("v-progress-circular",{staticClass:"spinner",attrs:{indeterminate:"",size:"10",width:"1"}}),s("span",[t._v("Refreshing")])],1):t._e()]),s("v-divider",{staticClass:"mr-1 ml-1"})],1):t._e(),a>0?s("div",{staticClass:"scroll-item"},[s("track-row",{key:r.id,attrs:{"no-album":t.hideAlbum,"compact-menu":t.compactMenu,"context-item":t.context,"album-list":!1,track:r}}),s("v-divider",{staticClass:"mr-1 ml-1"})],1):t._e()]}}])})],1)},a=[],i=(s("caad"),s("1344")),l=s("a123"),c={name:"Tracks",components:{TrackRow:i["a"]},data:()=>({liveFilter:"",filterTerm:"",focusInterval:-1}),async mounted(){await this.$store.dispatch("refreshUserData","track")},beforeDestroy(){clearInterval(this.focusInterval)},methods:{clearFilter(){this.liveFilter="",this.filter(!1)},filter(t=!0){if(this.filterTerm=this.liveFilter,!t)return;let e=!1,s=800,r=10,a=0;clearInterval(this.focusInterval),this.focusInterval=setInterval(()=>{let t=this.$refs.filterInput.$el.querySelector("input");t!==document.activeElement&&(e=!0,this.$refs.filterInput.focus(),clearInterval(this.focusInterval),console.log("Stop due to focus called")),a++>s/r&&(clearInterval(this.focusInterval),console.log("Stop due to timeout"))},r)}},computed:{lowerFilterTerm(){return this.filterTerm.toLowerCase()},context(){return{type:"liked",id:"liked",name:"Liked tracks",tracks:this.tracks}},loading(){return this.$store.state.isRefreshing.track},compactMenu(){let t=this.$store.state.windowWidth;return t<735&&(t>680||t<436)},hideAlbum(){let t=this.$store.state.windowWidth;return t<950},scrollItems(){let t=this.tracks.map(t=>({...t,size:51})),e=142;return[{id:"0",size:e},...t]},tracks(){return""===this.filterTerm?this.$store.state.library.tracks.filter(t=>!t.is_local):this.$store.state.library.tracks.filter(t=>!t.is_local&&t.name.toLowerCase().includes(this.lowerFilterTerm)||t.artists.map(t=>t.name).join(" ").toLowerCase().includes(this.lowerFilterTerm))},fullDuration(){return 0===this.tracks.length?l["a"].secondsToHms(0):l["a"].secondsToHms(this.tracks.map(t=>t.duration_ms/1e3).reduce((t,e)=>t+e))}}},n=c,o=(s("6ae0"),s("2877")),u=s("6544"),d=s.n(u),m=s("8336"),f=s("ce7e"),v=s("4bd4"),h=s("132d"),p=s("490a"),k=s("8654"),C=Object(o["a"])(n,r,a,!1,null,"2b6d4f20",null);e["default"]=C.exports;d()(C,{VBtn:m["a"],VDivider:f["a"],VForm:v["a"],VIcon:h["a"],VProgressCircular:p["a"],VTextField:k["a"]})},f086:function(t,e,s){}}]);
//# sourceMappingURL=chunk-314eefa8.6d4743dc.js.map