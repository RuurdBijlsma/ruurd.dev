{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?5189","webpack:///./src/components/SearchInput.vue?24f1","webpack:///src/components/SearchInput.vue","webpack:///./src/components/SearchInput.vue?f97d","webpack:///./src/components/SearchInput.vue","webpack:///./src/components/TrackRow.vue?c582","webpack:///src/components/TrackRow.vue","webpack:///./src/components/TrackRow.vue?f168","webpack:///./src/components/TrackRow.vue?1876","webpack:///./src/components/FollowMenuItem.vue?2918","webpack:///src/components/FollowMenuItem.vue","webpack:///./src/components/FollowMenuItem.vue?355d","webpack:///./src/components/FollowMenuItem.vue","webpack:///./src/components/TrackItem.vue?4c24","webpack:///src/components/TrackItem.vue","webpack:///./src/components/TrackItem.vue?6602","webpack:///./src/components/TrackItem.vue?d36d","webpack:///./src/js/music-downloader/MusicDownloader.js","webpack:///./src/App.vue?f609","webpack:///./src/components/ToolBar.vue?c8a0","webpack:///./src/components/MediaInfo.vue?5576","webpack:///src/components/MediaInfo.vue","webpack:///./src/components/MediaInfo.vue?8771","webpack:///./src/components/MediaInfo.vue?e5dc","webpack:///./src/components/Logo.vue?22bb","webpack:///src/components/Logo.vue","webpack:///./src/components/Logo.vue?9e2c","webpack:///./src/components/Logo.vue?9e70","webpack:///./src/components/QueueButton.vue?6577","webpack:///src/components/QueueButton.vue","webpack:///./src/components/QueueButton.vue?4052","webpack:///./src/components/QueueButton.vue?da6b","webpack:///src/components/ToolBar.vue","webpack:///./src/components/ToolBar.vue?43e9","webpack:///./src/components/ToolBar.vue?ed60","webpack:///./src/components/NavContent.vue?652b","webpack:///src/components/NavContent.vue","webpack:///./src/components/NavContent.vue?8971","webpack:///./src/components/NavContent.vue?8241","webpack:///./src/components/MusicPlayer.vue?0bc0","webpack:///src/components/MusicPlayer.vue","webpack:///./src/components/MusicPlayer.vue?189b","webpack:///./src/components/MusicPlayer.vue","webpack:///src/App.vue","webpack:///./src/App.vue?b0f9","webpack:///./src/App.vue?155a","webpack:///./src/registerServiceWorker.js","webpack:///./src/views/ListenNow.vue?dcfa","webpack:///src/views/ListenNow.vue","webpack:///./src/views/ListenNow.vue?63a5","webpack:///./src/views/ListenNow.vue?88e2","webpack:///./src/plugins/router.js","webpack:///./src/plugins/vuex/media-module.js","webpack:///./src/plugins/vuex/search-module.js","webpack:///./src/plugins/vuex/store.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/components/MediaSeek.vue?f0a1","webpack:///./src/components/ItemSquare.vue?4f19","webpack:///src/components/ItemSquare.vue","webpack:///./src/components/ItemSquare.vue?a4a2","webpack:///./src/components/ItemSquare.vue?2caa","webpack:///./src/components/ShareMenuItem.vue?20a3","webpack:///src/components/ShareMenuItem.vue","webpack:///./src/components/ShareMenuItem.vue?fa09","webpack:///./src/components/ShareMenuItem.vue","webpack:///./src/components/ArtistsSpan.vue?1d4e","webpack:///./src/components/MediaControls.vue?13b0","webpack:///src/components/MediaControls.vue","webpack:///./src/components/MediaControls.vue?3e5d","webpack:///./src/components/MediaControls.vue?c455","webpack:///./src/views/ListenNow.vue?7c0d","webpack:///./src/components/ArtistsSpan.vue?7e48","webpack:///src/components/ArtistsSpan.vue","webpack:///./src/components/ArtistsSpan.vue?1e07","webpack:///./src/components/ArtistsSpan.vue?2cb0","webpack:///./src/components/TrackRow.vue?9a4f","webpack:///./src/components/ItemMenu.vue?c342","webpack:///./src/components/NavContent.vue?2753","webpack:///./src/components/ItemMenu.vue?efff","webpack:///src/components/ItemMenu.vue","webpack:///./src/components/ItemMenu.vue?e885","webpack:///./src/components/ItemMenu.vue?006f","webpack:///./src/js/Utils.js","webpack:///./src/components/ItemRow.vue?7724","webpack:///src/components/ItemRow.vue","webpack:///./src/components/ItemRow.vue?e43d","webpack:///./src/components/ItemRow.vue?1f4a","webpack:///./src/js/music-downloader/NodeMusicDownloader.js","webpack:///./src/js/Directories.js","webpack:///./src/plugins/vuex/electron-module.js","webpack:///./src/components/ItemSquare.vue?29fd","webpack:///./src/components/QueueButton.vue?c355","webpack:///./src/components/MediaControls.vue?717f","webpack:///./src/components/QueueList.vue?b5be","webpack:///./src/assets/logo-small-v.png","webpack:///./src/components/MediaSeek.vue?a1b1","webpack:///src/components/MediaSeek.vue","webpack:///./src/components/MediaSeek.vue?a8c6","webpack:///./src/components/MediaSeek.vue?b1d9","webpack:///./src/components/ToolBar.vue?e635","webpack:///./src/components/FollowButton.vue?208e","webpack:///src/components/FollowButton.vue","webpack:///./src/components/FollowButton.vue?40bf","webpack:///./src/components/FollowButton.vue","webpack:///./src/components/ItemRow.vue?8444","webpack:///./src/js/music-downloader/config.js","webpack:///./src/js/music-downloader/FetchInterceptor.js","webpack:///./src/js/music-downloader/XMLHttpRequestInterceptor.js","webpack:///./src/js/music-downloader/BrowserMusicDownloader.js","webpack:///./src/plugins/vuex/web-module.js","webpack:///./src/components/TrackItem.vue?78e4","webpack:///./src/components/Logo.vue?5e32","webpack:///./src/components/MediaInfo.vue?8a1e","webpack:///./src/components/QueueList.vue?f19a","webpack:///src/components/QueueList.vue","webpack:///./src/components/QueueList.vue?b667","webpack:///./src/components/QueueList.vue?6953"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","on","$event","preventDefault","pushSearchTerm","attrs","goSearch","model","$store","state","search","callback","$$v","$set","expression","staticRenderFns","component","VForm","VTextField","track","ref","staticClass","class","rowClass","activeTrack","play","contextItem","albumList","_e","album","getters","relativeItemUrl","_v","_s","duration","queueTrack","VSheet","unfollow","follow","VIcon","VListItem","VListItemIcon","VListItemTitle","VList","VProgressCircular","track_number","style","backgroundImage","itemImage","opacity","trackIsLoaded","pause","artists","VBtn","VCard","MusicDownloader","apiKey","searchCache","localStorage","getItem","cacheAge","Date","JSON","parse","interval","setInterval","clearInterval","map","a","join","term","maxResults","cacheKey","toString","waitForApiKey","results","stringify","id","ytdl","getInfo","quality","filter","isTrackOffline","offlineUrl","local","url","searchTerm","getSearchString","cachedSearch","ids","getYtdlInfo","formats","qualities","sort","b","averageBitrate","audioBitrate","mimeType","startsWith","indexOf","audioQuality","format","EventEmitter","windowWidth","drawer","_l","snack","$vuetify","theme","dark","scopedSlots","_u","fn","_b","open","text","isTrackSet","media","$route","mobile","compact","volumeIcon","toggleMute","volume","_g","urlName","userInfo","avatar","mail","dispatch","platform","directives","rawName","$router","maxWidth","smallArtists","Ripple","scrollToItem","VMenu","VListItemAction","VListItemAvatar","VListItemContent","VListItemSubtitle","VSlider","VSwitch","library","playlists","showPlaylistInput","createPlaylist","playlistRules","playlistName","createLoading","playlist","VSubheader","audio","navigator","mediaSession","require","ipcRenderer","VApp","VAppBar","VBottomNavigation","VMain","VNavigationDrawer","VSnackbar","register","process","ready","log","registered","cached","updatefound","updated","offline","homePage","featured","title","replace","recentlyPlayed","personalized","newReleases","Vue","use","VueRouter","routes","path","Home","router","currentTime","playing","queue","shuffledQueue","shuffle","repeat","downloads","playAfterLoad","trackLoading","shouldDownload","backupAudio","mediaStateCache","mutations","swapAudios","seekTo","percentage","audioElement","addDownload","download","existing","findIndex","downloadProgress","progress","find","removeDownload","index","toggleShuffle","toggleRepeat","unshift","tracks","Utils","shuffleArray","playNext","queues","currentIndex","addToQueue","removeFromQueue","indexShuffle","clearQueue","cacheMedia","cachedFields","cache","field","lib","reduceTrackSize","trackIndex","currentQueue","durationHms","secondsToHms","currentTimeHms","actions","initializeMedia","isTrackAvailableOffline","rootState","downloader","removeCached","commit","downloadTrackByUrl","abortController","AbortController","downloadTrack","signal","getTrackUrls","setTrack","success","initAudios","onloadedmetadata","onended","onplay","playbackState","onpause","setTrackUrl","loadTimeout","warn","canplayFired","oncanplay","paused","skip","newIndex","setMetadata","artistsString","artwork","notFoundImage","sizes","images","width","height","metadata","MediaMetadata","artist","setActionHandler","defaultSkipTime","skipTime","seekOffset","Math","max","min","seekTime","playItem","item","context","startTrack","floor","random","liveTerm","recent","recentSearch","searchResult","includes","set","api","albums","items","isElectron","default","querySelectorAll","manifestLink","querySelector","Vuex","Store","spotifyId","spotifySecret","youtubeKey","requestedScopes","authUrl","isTouch","isTouchDevice","dontCache","events","innerWidth","snackbars","SpotifyWebApi","isRefreshing","auth","token","refresh","expiryDate","browse","categories","genres","country","followers","category","user","stateCache","secret","cacheState","clearCache","clear","location","reload","addSnackObject","removeSnack","loadCategory","extendCategory","loadPlaylist","extendPlaylist","loadAlbum","extendAlbum","loadInitialArtist","related","loadArtist","loadArtistRelated","loadArtistTracks","loadArtistAlbums","loadUser","extendUser","browseCategories","browseGenres","homeFeatured","homeRecent","homeNew","homePersonalized","addUserPlaylist","userPlaylists","addToLibrary","addAtStart","removeFromLibrary","setLibrary","server","isValidKeySet","isKeySet","notFoundUser","likedImage","icons","isLoggedIn","isAuthExpired","encodeURIComponent","toLowerCase","display_name","to","shareUrl","baseUrl","origin","pathname","isArtistFollowed","isTrackFollowed","isPlaylistFollowed","isAlbumFollowed","initialize","cacheAll","getAuthByRefreshToken","refreshToken","fetch","method","body","headers","getAuthByCode","redirectUrl","spotifyLogin","loginByRefreshToken","access_token","expires_in","spotifyLogout","addSnack","share","copy","Function","substr","toUpperCase","processAuth","now","setAccessToken","emit","msUntilExpire","waitFor","awaitAuth","getAccessToken","findPagination","getKeyPath","keys","keyPath","concat","retrieveSpotifyArray","apiFunction","getData","pageObject","next","nextUrl","getGeneric","initializeSpotify","doneCount","libLoaded","checkDone","refreshUserInfo","getMe","me","email","refreshUserData","info","isInitial","page","retrieval","getUserPlaylists","limit","getMySavedAlbums","getFollowedArtists","getMySavedTracks","addToLib","batch","refreshHomePage","getFeaturedPlaylists","discoverNames","Array","_","owner","aI","bI","getNewReleases","refreshBrowsePage","getCategories","getAvailableGenreSeeds","g","genre","split","w","getPlaylist","getAlbum","forEach","getCategory","getCategoryPlaylists","getArtist","getArtistRelatedArtists","getArtistTopTracks","getArtistAlbums","getUser","loadTrack","getTrack","followPlaylist","unfollowPlaylist","followArtist","followArtists","unfollowArtist","unfollowArtists","followAlbum","addToMySavedAlbums","unfollowAlbum","removeFromMySavedAlbums","toggleFollowCurrentTrack","containsMySavedTracks","saved","followTrack","addToMySavedTracks","unfollowTrack","removeFromMySavedTracks","addToPlaylist","existingTracks","addTracksToPlaylist","uri","removeFromPlaylist","removeTracksFromPlaylist","getRadioTracks","options","firstTrack","getRecommendations","radioTracks","getContextItem","completeItem","randomPlaylist","Vuetify","darkTheme","themes","primary","foreground","primarySeek","navBackground","primaryLight","secondary","light","PerfectScrollbar","RecycleScroller","VueClipboard","config","productionTip","store","vuetify","h","App","$mount","big","small","borderRadius","itemIsPlaying","playLoading","hideMenu","noTitle","textAlign","description","domProps","release_date","getFullYear","stopPropagation","VLazy","large","minWidth","full","fgLegible","grey","color","fab","remove","add","addLoading","maxTouchPoints","msMaxTouchPoints","duration_ms","is_local","disc_number","hexColor","currentTheme","background","contrastOnBg","hexContrast","contrastOnFg","bgLegible","hex","parseInt","hex1","hex2","contrast","hexToRgb","v","pow","rgb1","rgb2","lum1","luminance","lum2","brightest","darkest","seconds","isNaN","round","padStart","array","bytes","log10","toFixed","itemGroup","last","showYear","NodeMusicDownloader","musicDir","filesDir","tempDir","directories","music","files","temp","ffmpegPath","downloadingFfmpeg","fileName","fileNamify","filePath","fileExists","deleteFile","abortSignal","addEventListener","downloadedTrackFile","downloadFile","ffmpegProcessing","processedFile","trackInputFile","baseFileName","basename","tags","disc","year","hasImage","imageFile","outputFile","ffmpegMetadata","destinationFile","fs","rename","res","blob","writer","createWriteStream","Buffer","arrayBuffer","from","write","fileInput","fileOutput","coverImageFile","getFfmpegPath","command","tagsToString","waitForFileUnlock","aborted","child_process","exec","stdout","stderr","out","kill","part","unlink","access","F_OK","ms","startTime","performance","isFileLocked","waitSleep","fd","close","once","ffbinaries","downloadBinaries","destination","getBinaryFilename","detectPlatform","Directories","initializeDir","getDir","base","dir","fullDir","createDir","app","electron","remote","getPath","existsSync","mkdirSync","localStorageFile","ls","readFileSync","localData","writeFileSync","express","importLSFile","playingIcons","pausedIcons","playIcons","playIcon","pauseIcon","prevIcon","nextIcon","initializePlatform","likeShortcut","globalShortcut","isRegistered","unregister","regResult","added","speech","voices","speechSynthesis","getVoices","voice","utterance","SpeechSynthesisUtterance","speak","tooltip","icon","__static","click","setPlatformPlaying","win","getCurrentWindow","setThumbarButtons","openDevTools","closeWindow","minimizeWindow","minimize","exportCache","exportLSToFile","resetSpotifyLogin","firstLogin","port","shell","openExternal","http","createServer","req","query","focus","refresh_token","send","listen","seekDown","touchDown","smallTime","margin","noBackground","left","hideTooltip","loading","VTooltip","FetchInterceptor","_fetch","originalFetch","arguments","interceptUrls","interceptUrl","XMLHttpRequestInterceptor","readyState","status","onreadystatechange","responseText","postData","sendLive","response","args","_XMLHttpRequest","XMLHttpRequest","BrowserMusicDownloader","cacheName","start","json","trackString","caches","cacheStorage","delete","match","URL","createObjectURL","put","channel","endsWith","BroadcastChannel","onmessage","msg","scrollerHeight","fullPath","VDivider"],"mappings":"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","file":"js/app.f7c9fa20.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-0cadc926\":\"888c22c6\",\"chunk-0d65c4f6\":\"86528987\",\"chunk-0fcaa7d0\":\"34b33aeb\",\"chunk-15419897\":\"9e6a7d9f\",\"chunk-2130fbde\":\"4ec05077\",\"chunk-2d0c8407\":\"144e6820\",\"chunk-2d818bb1\":\"663e5945\",\"chunk-40670343\":\"3786ed64\",\"chunk-431796de\":\"2db160b1\",\"chunk-491a2ef4\":\"5db3af1b\",\"chunk-5aa27bd8\":\"91b8045a\",\"chunk-64306926\":\"3587d33f\",\"chunk-6bbe2798\":\"8157b7ae\",\"chunk-71537cf9\":\"913e31cf\",\"chunk-786d4f79\":\"a60293ec\",\"chunk-c0d67e16\":\"34821f41\",\"chunk-d0b3c9d6\":\"12765212\",\"chunk-d6c4cc50\":\"2f16387c\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-0cadc926\":1,\"chunk-0d65c4f6\":1,\"chunk-0fcaa7d0\":1,\"chunk-15419897\":1,\"chunk-2130fbde\":1,\"chunk-2d818bb1\":1,\"chunk-40670343\":1,\"chunk-431796de\":1,\"chunk-491a2ef4\":1,\"chunk-5aa27bd8\":1,\"chunk-64306926\":1,\"chunk-6bbe2798\":1,\"chunk-71537cf9\":1,\"chunk-786d4f79\":1,\"chunk-c0d67e16\":1,\"chunk-d0b3c9d6\":1,\"chunk-d6c4cc50\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-0cadc926\":\"637fbdee\",\"chunk-0d65c4f6\":\"9bc59acb\",\"chunk-0fcaa7d0\":\"b3dff733\",\"chunk-15419897\":\"508cf011\",\"chunk-2130fbde\":\"d379d86d\",\"chunk-2d0c8407\":\"31d6cfe0\",\"chunk-2d818bb1\":\"6faa2aa5\",\"chunk-40670343\":\"c29dac0a\",\"chunk-431796de\":\"f8f0fcc9\",\"chunk-491a2ef4\":\"3a580403\",\"chunk-5aa27bd8\":\"a716db9b\",\"chunk-64306926\":\"57cdb5b2\",\"chunk-6bbe2798\":\"a6d0e3ce\",\"chunk-71537cf9\":\"a716db9b\",\"chunk-786d4f79\":\"bdcf4eff\",\"chunk-c0d67e16\":\"4042a7e5\",\"chunk-d0b3c9d6\":\"7944a41e\",\"chunk-d6c4cc50\":\"58d27891\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vuemusic/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.pushSearchTerm($event)}}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Search\",\"prepend-inner-icon\":\"mdi-magnify\",\"dense\":\"\"},on:{\"click\":_vm.goSearch},model:{value:(_vm.$store.state.search.liveTerm),callback:function ($$v) {_vm.$set(_vm.$store.state.search, \"liveTerm\", $$v)},expression:\"$store.state.search.liveTerm\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-form @submit.prevent=\"pushSearchTerm\">\r\n        <v-text-field\r\n                v-model=\"$store.state.search.liveTerm\"\r\n                outlined\r\n                label=\"Search\"\r\n                prepend-inner-icon=\"mdi-magnify\"\r\n                dense\r\n                @click=\"goSearch\"\r\n        ></v-text-field>\r\n    </v-form>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"SearchInput\",\r\n        methods: {\r\n            async goSearch() {\r\n                if (this.$route.name !== 'Search') {\r\n                    await this.pushSearchTerm();\r\n                }\r\n            },\r\n            async pushSearchTerm() {\r\n                let term = '';\r\n                if (this.$store.state.search.liveTerm !== '')\r\n                    term = `?term=${encodeURIComponent(this.$store.state.search.liveTerm)}`;\r\n                await this.$router.push(`/search${term}`)\r\n            },\r\n        },\r\n        watch: {\r\n            async term() {\r\n                //https://open.spotify.com/track/7AVjkh7mhpeNa3iu3R9oyp?si=BGamcimjRt-WYX5weeaYhw\r\n                if (this.term.includes('open.spotify.com/')) {\r\n                    let term = this.term.split('spotify.com/')[1].split('?')[0];\r\n                    let [type, id] = term.split('/');\r\n                    await this.$router.push(this.$store.getters.relativeItemUrl({type, id, name: type[0],}));\r\n                    this.$store.dispatch('addSnack', {text: 'Navigated to Spotify link'}).then();\r\n                    this.$store.commit('liveTerm', '');\r\n                }\r\n            },\r\n        },\r\n        computed: {\r\n            term() {\r\n                return this.$store.state.search.liveTerm;\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchInput.vue?vue&type=template&id=c48f3eda&scoped=true&\"\nimport script from \"./SearchInput.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c48f3eda\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VForm,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.track !== null)?_c('v-sheet',{ref:\"trackRow\",staticClass:\"track-row\",class:_vm.rowClass,attrs:{\"color\":_vm.activeTrack ? '#c12238' : 'transparent',\"dark\":_vm.activeTrack,\"rounded\":\"\"},on:{\"dblclick\":_vm.play}},[_c('track-item',{ref:\"trackItem\",staticClass:\"track-left\",attrs:{\"context-item\":_vm.contextItem,\"track\":_vm.track,\"album-list\":_vm.albumList}}),(!_vm.albumList)?_c('div',{staticClass:\"track-middle\",attrs:{\"title\":_vm.track.album.name}},[_c('router-link',{staticClass:\"album-link\",attrs:{\"tag\":\"span\",\"to\":_vm.$store.getters.relativeItemUrl(_vm.track.album)}},[_vm._v(\" \"+_vm._s(_vm.track.album.name)+\" \")])],1):_vm._e(),_c('div',{staticClass:\"track-right\"},[_c('div',{staticClass:\"track-duration\"},[_vm._v(_vm._s(_vm.duration))]),_c('item-menu',{attrs:{\"queue-track\":_vm.queueTrack,\"context-item\":_vm.contextItem,\"item\":_vm.track}})],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-sheet :color=\"activeTrack ? '#c12238' : 'transparent'\"\r\n             :dark=\"activeTrack\"\r\n             rounded\r\n             @dblclick=\"play\"\r\n             ref=\"trackRow\" class=\"track-row\" v-if=\"track !== null\" :class=\"rowClass\">\r\n        <track-item ref=\"trackItem\" :context-item=\"contextItem\" class=\"track-left\" :track=\"track\"\r\n                    :album-list=\"albumList\"></track-item>\r\n        <div class=\"track-middle\" :title=\"track.album.name\" v-if=\"!albumList\">\r\n            <router-link class=\"album-link\" tag=\"span\"\r\n                         :to=\"$store.getters.relativeItemUrl(track.album)\">\r\n                {{track.album.name}}\r\n            </router-link>\r\n        </div>\r\n        <div class=\"track-right\">\r\n            <div class=\"track-duration\">{{duration}}</div>\r\n            <item-menu :queue-track=\"queueTrack\" :context-item=\"contextItem\" :item=\"track\"></item-menu>\r\n        </div>\r\n    </v-sheet>\r\n</template>\r\n\r\n<script>\r\n    import ArtistsSpan from \"./ArtistsSpan\";\r\n    import Utils from \"../js/Utils\";\r\n    import TrackItem from \"./TrackItem\";\r\n    import FollowButton from \"./FollowButton\";\r\n    import ShareMenuItem from \"./ShareMenuItem\";\r\n    import FollowMenuItem from \"./FollowMenuItem\";\r\n    import ItemMenu from \"./ItemMenu\";\r\n\r\n    export default {\r\n        name: \"TrackRow\",\r\n        components: {ItemMenu, FollowMenuItem, ShareMenuItem, FollowButton, TrackItem, ArtistsSpan},\r\n        props: {\r\n            track: {\r\n                type: Object,\r\n                default: null,\r\n            },\r\n            albumList: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            contextItem: {\r\n                type: Object,\r\n                default: null,\r\n                required: true,\r\n            },\r\n            queueTrack: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n        },\r\n        data: () => ({\r\n            rowWidth: 0,\r\n        }),\r\n        mounted() {\r\n            this.windowResize();\r\n            window.addEventListener('resize', this.windowResize);\r\n        },\r\n        beforeDestroy() {\r\n            window.removeEventListener('resize', this.windowResize);\r\n        },\r\n        methods: {\r\n            windowResize() {\r\n                this.rowWidth = this.$refs.trackRow.$el.getBoundingClientRect().width;\r\n            },\r\n            play() {\r\n                this.$refs.trackItem.play();\r\n            },\r\n        },\r\n        computed: {\r\n            rowClass() {\r\n                if (this.rowWidth > 623) {\r\n                    return 'big';\r\n                }\r\n                return 'small';\r\n            },\r\n            duration() {\r\n                return Utils.secondsToHms(this.track.duration_ms / 1000);\r\n            },\r\n            activeTrack() {\r\n                if (!this.$store.getters.isTrackSet)\r\n                    return false;\r\n                return this.$store.state.media.track.id === this.track.id;\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .track-row {\r\n        display: flex;\r\n        padding: 5px;\r\n        font-size: 14px;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n    }\r\n\r\n    .track-left {\r\n        min-width: calc(50% - 47px + 50px);\r\n    }\r\n\r\n    .small .track-left {\r\n        min-width: calc(100% - 94px);\r\n    }\r\n\r\n    .track-middle {\r\n        opacity: 0.7;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        font-weight: 500;\r\n        padding-left: 10px;\r\n        min-width: calc(50% - 47px - 50px);\r\n    }\r\n\r\n    .small .track-middle {\r\n        display: none;\r\n    }\r\n\r\n    .album-link {\r\n        cursor: pointer;\r\n    }\r\n\r\n    .album-link:hover {\r\n        text-decoration: underline;\r\n    }\r\n\r\n    .track-right {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: flex-end;\r\n        min-width: 94px;\r\n    }\r\n\r\n    .track-duration {\r\n        margin-right: 15px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TrackRow.vue?vue&type=template&id=5c3d0966&scoped=true&\"\nimport script from \"./TrackRow.vue?vue&type=script&lang=js&\"\nexport * from \"./TrackRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TrackRow.vue?vue&type=style&index=0&id=5c3d0966&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c3d0966\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSheet } from 'vuetify/lib/components/VSheet';\ninstallComponents(component, {VSheet})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isFollowed)?_c('v-list-item',{on:{\"click\":_vm.unfollow}},[_c('v-list-item-icon',[(_vm.loading)?_c('v-progress-circular',{attrs:{\"size\":\"20\",\"indeterminate\":\"\",\"width\":\"1\"}}):_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-heart\")])],1),_c('v-list-item-title',[_vm._v(\"Remove from library\")])],1):_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.follow}},[_c('v-list-item-icon',[(_vm.loading)?_c('v-progress-circular',{attrs:{\"size\":\"20\",\"indeterminate\":\"\",\"width\":\"1\"}}):_c('v-icon',[_vm._v(\"mdi-heart-outline\")])],1),_c('v-list-item-title',[_vm._v(\"Add to library\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-list-item v-if=\"isFollowed\" @click=\"unfollow\">\r\n        <v-list-item-icon>\r\n            <v-progress-circular size=\"20\" indeterminate width=\"1\" v-if=\"loading\"></v-progress-circular>\r\n            <v-icon color=\"primary\" v-else>mdi-heart</v-icon>\r\n        </v-list-item-icon>\r\n        <v-list-item-title>Remove from library</v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item v-else dense @click=\"follow\">\r\n        <v-list-item-icon>\r\n            <v-progress-circular size=\"20\" indeterminate width=\"1\" v-if=\"loading\"></v-progress-circular>\r\n            <v-icon v-else>mdi-heart-outline</v-icon>\r\n        </v-list-item-icon>\r\n        <v-list-item-title>Add to library</v-list-item-title>\r\n    </v-list-item>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"FollowMenuItem\",\r\n        props: {\r\n            item: {\r\n                type: Object,\r\n                default: null,\r\n            },\r\n        },\r\n        data: () => ({\r\n            loading: false,\r\n        }),\r\n        methods: {\r\n            async follow() {\r\n                this.loading = true;\r\n                await this.$store.dispatch('follow' + this.typeCapitalized, this.item);\r\n                this.loading = false;\r\n            },\r\n            async unfollow() {\r\n                this.loading = true;\r\n                await this.$store.dispatch('unfollow' + this.typeCapitalized, this.item);\r\n                this.loading = false;\r\n            },\r\n        },\r\n        computed: {\r\n            typeCapitalized() {\r\n                return this.item.type.substring(0, 1).toUpperCase() + this.item.type.substring(1);\r\n            },\r\n            isFollowed() {\r\n                return this.$store.getters[`is${this.typeCapitalized}Followed`](this.item);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowMenuItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowMenuItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FollowMenuItem.vue?vue&type=template&id=69e3bafd&scoped=true&\"\nimport script from \"./FollowMenuItem.vue?vue&type=script&lang=js&\"\nexport * from \"./FollowMenuItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69e3bafd\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VIcon,VListItem,VListItemIcon,VListItemTitle,VProgressCircular})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.track!==null)?_c('div',{staticClass:\"track-item\"},[_c('div',{staticClass:\"track-content\"},[_c('div',{staticClass:\"left-square\"},[(!_vm.albumList)?_c('div',{staticClass:\"album-art\",style:({backgroundImage: (\"url(\" + (_vm.$store.getters.itemImage(_vm.track)) + \")\")})}):_c('div',{staticClass:\"album-number\"},[_vm._v(_vm._s(_vm.track.track_number))]),(_vm.albumList)?_c('v-card',{staticClass:\"play-button\",style:({opacity: _vm.trackIsLoaded ? '1' : '0'}),attrs:{\"flat\":\"\"}},[(_vm.trackIsPlaying)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.pause}},[_c('v-icon',[_vm._v(\"mdi-pause\")])],1):_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.play}},[_c('v-icon',[_vm._v(\"mdi-play\")])],1)],1):_c('div',{staticClass:\"play-button art-button\",style:({opacity: _vm.trackIsLoaded ? '1' : '0'})},[(_vm.trackIsPlaying)?_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"white\"},on:{\"click\":_vm.pause}},[_c('v-icon',[_vm._v(\"mdi-pause\")])],1):_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"white\"},on:{\"click\":_vm.play}},[_c('v-icon',[_vm._v(\"mdi-play\")])],1)],1)],1),_c('div',{staticClass:\"track-info\"},[_c('div',{staticClass:\"track-title\",attrs:{\"title\":_vm.track.name}},[_vm._v(\" \"+_vm._s(_vm.track.name)+\" \")]),_c('div',{staticClass:\"track-artist\"},[_c('artists-span',{staticClass:\"artists-span\",attrs:{\"grey\":\"\",\"artists\":_vm.track.artists}})],1)])]),(_vm.menu)?_c('div',{staticClass:\"icons\"},[_c('follow-button',{attrs:{\"item\":_vm.track}}),_c('item-menu',{attrs:{\"context-item\":_vm.contextItem,\"item\":_vm.track}})],1):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"track-item\" v-if=\"track!==null\">\r\n        <div class=\"track-content\">\r\n            <div class=\"left-square\">\r\n                <div v-if=\"!albumList\" class=\"album-art\"\r\n                     :style=\"{backgroundImage: `url(${$store.getters.itemImage(track)})`}\"></div>\r\n                <div v-else class=\"album-number\">{{track.track_number}}</div>\r\n                <v-card v-if=\"albumList\" class=\"play-button\" flat :style=\"{opacity: trackIsLoaded ? '1' : '0'}\">\r\n                    <v-btn icon @click=\"pause\" v-if=\"trackIsPlaying\">\r\n                        <v-icon>mdi-pause</v-icon>\r\n                    </v-btn>\r\n                    <v-btn icon @click=\"play\" v-else>\r\n                        <v-icon>mdi-play</v-icon>\r\n                    </v-btn>\r\n                </v-card>\r\n                <div v-else class=\"play-button art-button\" :style=\"{opacity: trackIsLoaded ? '1' : '0'}\">\r\n                    <v-btn @click=\"pause\" icon color=\"white\" v-if=\"trackIsPlaying\">\r\n                        <v-icon>mdi-pause</v-icon>\r\n                    </v-btn>\r\n                    <v-btn @click=\"play\" icon color=\"white\" v-else>\r\n                        <v-icon>mdi-play</v-icon>\r\n                    </v-btn>\r\n                </div>\r\n            </div>\r\n            <div class=\"track-info\">\r\n                <div class=\"track-title\" :title=\"track.name\">\r\n                    {{track.name}}\r\n                </div>\r\n                <div class=\"track-artist\">\r\n                    <artists-span grey class=\"artists-span\" :artists=\"track.artists\"></artists-span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"icons\" v-if=\"menu\">\r\n            <follow-button :item=\"track\"></follow-button>\r\n            <item-menu :context-item=\"contextItem\" :item=\"track\"></item-menu>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import ArtistsSpan from \"./ArtistsSpan\";\r\n    import ShareMenuItem from \"./ShareMenuItem\";\r\n    import FollowMenuItem from \"./FollowMenuItem\";\r\n    import FollowButton from \"./FollowButton\";\r\n    import ItemMenu from \"./ItemMenu\";\r\n\r\n    export default {\r\n        name: \"TrackItem\",\r\n        components: {ItemMenu, FollowButton, FollowMenuItem, ShareMenuItem, ArtistsSpan},\r\n        props: {\r\n            track: {\r\n                type: Object,\r\n                default: null,\r\n            },\r\n            albumList: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            menu: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            contextItem: {\r\n                type: Object,\r\n                default: null,\r\n            },\r\n        },\r\n        methods: {\r\n            async play() {\r\n                if (this.trackIsLoaded) {\r\n                    return this.$store.dispatch('play');\r\n                }\r\n\r\n                this.$store.commit('playAfterLoad', true);\r\n                this.$store.commit('track', {\r\n                    track: this.track,\r\n                    contextItem: this.contextItem\r\n                });\r\n            },\r\n            async pause() {\r\n                await this.$store.dispatch('pause');\r\n            },\r\n        },\r\n        computed: {\r\n            trackIsLoaded() {\r\n                if (!this.$store.getters.isTrackSet)\r\n                    return false;\r\n                return this.$store.state.media.track.id === this.track.id;\r\n            },\r\n            trackIsPlaying() {\r\n                return this.trackIsLoaded && this.$store.state.media.playing;\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .track-item {\r\n        display: flex;\r\n        justify-content: space-between;\r\n    }\r\n\r\n    .track-content {\r\n        display: flex;\r\n        flex-grow: 10;\r\n        align-items: center;\r\n        width: 100%;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .left-square {\r\n        min-width: 40px;\r\n        height: 40px;\r\n        border-radius: 5px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n    }\r\n\r\n    .album-art {\r\n        min-height: 40px;\r\n        min-width: 40px;\r\n        background-size: cover;\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n        border-radius: 5px;\r\n        pointer-events: none;\r\n        transition: opacity 0.2s;\r\n    }\r\n\r\n    .album-number {\r\n        height: 40px;\r\n        text-align: center;\r\n        line-height: 40px;\r\n        vertical-align: center;\r\n        font-weight: bold;\r\n        font-size: 14px;\r\n        opacity: 0.5;\r\n        pointer-events: none;\r\n        transition: opacity 0.2s;\r\n    }\r\n\r\n    .play-button:hover {\r\n        opacity: 1 !important;\r\n    }\r\n\r\n    .play-button {\r\n        border-radius: 5px;\r\n        min-width: 40px;\r\n        min-height: 40px;\r\n        position: relative;\r\n        top: -40px;\r\n        transition: opacity 0.2s;\r\n        opacity: 0;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    .art-button {\r\n        background-color: rgba(0, 0, 0, 0.3);\r\n    }\r\n\r\n    .track-info {\r\n        margin-left: 15px;\r\n        line-height: 17px;\r\n        width: 100%;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .track-title {\r\n        font-weight: 400;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        width: 100%;\r\n    }\r\n\r\n    .icons {\r\n        display: inline-flex;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TrackItem.vue?vue&type=template&id=1fe4c2ac&scoped=true&\"\nimport script from \"./TrackItem.vue?vue&type=script&lang=js&\"\nexport * from \"./TrackItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TrackItem.vue?vue&type=style&index=0&id=1fe4c2ac&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1fe4c2ac\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VCard,VIcon})\n","import EventEmitter from \"events\";\r\nimport ytdl from 'ytdl-core';\r\nimport search from \"youtube-search\";\r\n\r\nexport default class MusicDownloader extends EventEmitter {\r\n    constructor() {\r\n        super();\r\n\r\n        this.apiKey = null;\r\n        this.searchCache = localStorage.getItem('searchCache') === null ?\r\n            {cacheAge: +new Date()} : JSON.parse(localStorage.searchCache);\r\n    }\r\n\r\n    waitForApiKey() {\r\n        return new Promise(resolve => {\r\n            if (this.apiKey !== null)\r\n                return resolve();\r\n            let interval;\r\n            interval = setInterval(() => {\r\n                if (this.apiKey !== null) {\r\n                    clearInterval(interval);\r\n                    resolve();\r\n                }\r\n            }, 100);\r\n        })\r\n    }\r\n\r\n    getSearchString(track) {\r\n        return `${track.name} - ${track.artists.map(a => a.name).join(', ')}`;\r\n    }\r\n\r\n    async cachedSearch(term, maxResults = 3) {\r\n        let cacheKey = term + '|' + maxResults.toString();\r\n        if (this.searchCache[cacheKey])\r\n            return this.searchCache[cacheKey];\r\n\r\n        if (this.apiKey === null)\r\n            await this.waitForApiKey();\r\n\r\n        let {results} = await search(term, {maxResults, key: this.apiKey});\r\n        this.searchCache[cacheKey] = results;\r\n        localStorage.searchCache = JSON.stringify(this.searchCache);\r\n        return results;\r\n    }\r\n\r\n    async getYtdlInfo(id) {\r\n        return await ytdl.getInfo(id, {\r\n            quality: 'highestaudio',\r\n            filter: 'audioonly',\r\n        });\r\n    }\r\n\r\n    async* getTrackUrls(track) {\r\n        let offlineUrl = await this.isTrackOffline(track);\r\n        if (offlineUrl)\r\n            yield {local: true, url: offlineUrl};\r\n        let searchTerm = this.getSearchString(track);\r\n        let results = await this.cachedSearch(searchTerm);\r\n        let ids = results.map(r => r.id);\r\n\r\n        for (let id of ids) {\r\n            let result = await this.getYtdlInfo(id);\r\n            let formats = result.formats;\r\n            let qualities = [\"AUDIO_QUALITY_LOW\", \"AUDIO_QUALITY_MEDIUM\", \"AUDIO_QUALITY_HIGH\"];\r\n            formats = formats\r\n                .sort((a, b) => b.averageBitrate - a.averageBitrate)\r\n                .sort((a, b) => b.audioBitrate - a.audioBitrate)\r\n                .sort((a, b) => b.mimeType.startsWith('audio') - a.mimeType.startsWith('audio'))\r\n                .sort((a, b) => qualities.indexOf(b.audioQuality) - qualities.indexOf(a.audioQuality))\r\n            for (let format of formats.slice(0, 2)) {\r\n                yield {local: false, url: format.url};\r\n            }\r\n        }\r\n    }\r\n\r\n    async isTrackOffline(track) {\r\n        throw \"Not implemented\";\r\n    }\r\n\r\n    async removeCached(track) {\r\n        throw \"Not implemented\";\r\n    }\r\n\r\n    async downloadTrack(url, track, progress = () => 0, abortSignal = null) {\r\n        throw \"Not implemented\";\r\n    }\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{staticClass:\"app\"},[(_vm.$store.state.windowWidth > 680)?_c('v-navigation-drawer',{staticClass:\"navBar\",attrs:{\"color\":\"navBackground\",\"permanent\":true,\"app\":\"\",\"absolute\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('nav-content')],1):_vm._e(),_c('v-app-bar',{staticClass:\"toolbar\",attrs:{\"app\":\"\",\"elevation\":\"1\"}},[_c('tool-bar',{staticClass:\"toolbar-content\",attrs:{\"compact\":_vm.$store.state.windowWidth <= 1000,\"mobile\":_vm.$store.state.windowWidth <= 680}})],1),_c('v-main',{staticClass:\"scroll-container\"},[_c('div',{staticClass:\"perfect-scroller\"},[_c('router-view',{staticClass:\"router-view\"})],1)]),_vm._l((_vm.$store.state.snackbars),function(snack){return _c('v-snackbar',{attrs:{\"app\":\"\",\"timeout\":snack.timeout,\"outlined\":!_vm.$vuetify.theme.dark,\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"text\":\"\",\"color\":_vm.$vuetify.theme.dark ? 'default' : 'primary'},on:{\"click\":function($event){snack.open = false}}},'v-btn',attrs,false),[_vm._v(\" Dismiss \")])]}}],null,true),model:{value:(snack.open),callback:function ($$v) {_vm.$set(snack, \"open\", $$v)},expression:\"snack.open\"}},[_vm._v(\" \"+_vm._s(snack.text)+\" \")])}),(_vm.$store.state.windowWidth <= 1000 && _vm.$store.getters.isTrackSet)?_c('v-card',{staticClass:\"bottom-media-control\",class:{'medium-width': _vm.$store.state.windowWidth <= 1000},attrs:{\"flat\":\"\",\"color\":\"primaryLight\"}},[_c('div',{staticClass:\"info-pane\"},[_c('media-info',{staticClass:\"media-info\"}),_c('follow-button',{staticClass:\"button\",attrs:{\"item\":_vm.$store.state.media.track}}),_c('queue-button',{staticClass:\"button\"})],1),(_vm.$route.name !== 'NowPlaying')?_c('div',{staticClass:\"full-controls\"},[_c('media-controls',{attrs:{\"full\":_vm.$store.state.windowWidth > 430}}),_c('media-seek',{staticClass:\"seeker\"})],1):_vm._e()]):_vm._e(),(_vm.$store.state.windowWidth <= 680)?_c('v-bottom-navigation',{attrs:{\"color\":\"primary\",\"grow\":\"\",\"shift\":_vm.$store.state.windowWidth <= 430,\"app\":\"\"}},[_c('v-btn',{attrs:{\"value\":\"now\",\"to\":\"/\",\"exact\":\"\"}},[_c('span',[_vm._v(\"Listen Now\")]),_c('v-icon',[_vm._v(\"mdi-play-circle-outline\")])],1),_c('v-btn',{attrs:{\"value\":\"browse\",\"to\":\"/browse\",\"exact\":\"\"}},[_c('span',[_vm._v(\"Browse\")]),_c('v-icon',[_vm._v(\"mdi-grid-large\")])],1),_c('v-btn',{attrs:{\"value\":\"library\",\"to\":\"/library\"}},[_c('span',[_vm._v(\"Library\")]),_c('v-icon',[_vm._v(\"mdi-record-circle-outline\")])],1),_c('v-btn',{attrs:{\"value\":\"search\",\"to\":\"/search\"}},[_c('span',[_vm._v(\"Search\")]),_c('v-icon',[_vm._v(\"mdi-magnify\")])],1)],1):_vm._e(),_c('music-player')],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toolbar\"},[(_vm.mobile)?_c('logo',{staticClass:\"logo\"}):_vm._e(),(!_vm.mobile && !_vm.compact)?_c('media-controls',{staticClass:\"controls\",attrs:{\"full\":\"\"}}):_vm._e(),((!_vm.compact && !_vm.mobile) && _vm.$store.getters.isTrackSet)?_c('div',{staticClass:\"media-container\"},[_c('div',{staticClass:\"media-info\"},[_c('media-seek',{staticClass:\"top-seeker\",attrs:{\"no-background\":\"\",\"small-time\":\"\"}}),_c('media-info',{staticClass:\"top-info\",attrs:{\"small-artists\":\"\",\"drag\":\"\"}})],1),_c('follow-button',{staticClass:\"favorite-button\",attrs:{\"hide-tooltip\":\"\",\"item\":_vm.$store.state.media.track}}),_c('queue-button',{staticClass:\"queue-button\"})],1):_vm._e(),(!_vm.mobile)?_c('div',{staticClass:\"volume\"},[_c('v-slider',{ref:\"volume\",attrs:{\"min\":0,\"max\":1,\"step\":0.01,\"prepend-icon\":_vm.volumeIcon},on:{\"click:prepend\":_vm.toggleMute},model:{value:(_vm.volume),callback:function ($$v) {_vm.volume=$$v},expression:\"volume\"}})],1):_vm._e(),_c('div',{staticClass:\"buttons\"},[_c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":true},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"primary\",\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-account-circle\")])],1)]}}])},[_c('v-list',[(_vm.$store.getters.isLoggedIn)?_c('v-list-item',{attrs:{\"two-line\":\"\"}},[_c('router-link',{staticClass:\"list-link\",attrs:{\"tag\":\"div\",\"to\":(\"/user/\" + (_vm.$store.getters.urlName(_vm.$store.state.userInfo.name)) + \"/\" + (_vm.$store.state.userInfo.id))}},[_c('v-list-item-avatar',[_c('img',{attrs:{\"src\":_vm.$store.state.userInfo.avatar,\"alt\":\"User Avatar\"}})]),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$store.state.userInfo.name))]),_c('v-list-item-subtitle',[_vm._v(_vm._s(_vm.$store.state.userInfo.mail))])],1)],1)],1):_vm._e(),_c('v-list-item',{attrs:{\"to\":\"/downloads\"}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-download\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Downloads\")])],1)],1),_c('v-list-item',{attrs:{\"to\":\"/settings\"}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-cog-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Settings\")])],1)],1),(_vm.$store.getters.isLoggedIn)?_c('v-list-item',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$store.dispatch('spotifyLogout')}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-logout\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Logout\")])],1)],1):(_vm.$store.getters.isKeySet)?_c('v-list-item',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$store.dispatch('spotifyLogin')}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-login\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Login\")])],1)],1):_vm._e(),_c('v-list-item',{attrs:{\"color\":\"primary\"}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-brightness-6\")])],1),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"theme-switch\"},[_c('span',[_vm._v(\"Dark theme\")])])],1),_c('v-list-item-action',[_c('v-switch',{attrs:{\"dense\":\"\",\"inset\":\"\"},model:{value:(_vm.$vuetify.theme.dark),callback:function ($$v) {_vm.$set(_vm.$vuetify.theme, \"dark\", $$v)},expression:\"$vuetify.theme.dark\"}})],1)],1)],1)],1),(_vm.$store.state.platform.type==='electron')?_c('v-btn',{staticClass:\"minimize-button\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$store.dispatch('minimizeWindow')}}},[_c('v-icon',[_vm._v(\"mdi-minus\")])],1):_vm._e(),(_vm.$store.state.platform.type==='electron')?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$store.dispatch('closeWindow')}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"media-info\"},[_c('v-card',{staticClass:\"media-card\",attrs:{\"outlined\":\"\"}},[_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"media-album\",style:({\n                        backgroundImage: (\"url(\" + (_vm.$store.getters.itemImage(_vm.$store.state.media.track)) + \")\"),\n                     }),on:{\"click\":function($event){return _vm.$router.push('/nowplaying')}}}),_c('div',{staticClass:\"white-part\"},[_c('div',{staticClass:\"media-text-info\"},[(!_vm.$store.getters.isTrackSet)?_c('img',{staticClass:\"media-info-logo\",attrs:{\"src\":require(\"../assets/logo-small-v.png\"),\"alt\":\"vm5 logo\"}}):_c('div',{staticClass:\"media-title-artists\"},[_c('span',{staticClass:\"track-title\",attrs:{\"title\":_vm.$store.state.media.track.name}},[_vm._v(\" \"+_vm._s(_vm.$store.state.media.track.name)+\" \")]),_c('artists-span',{staticClass:\"track-artists\",style:({maxWidth: _vm.smallArtists?\"calc(100% - 56px)\":''}),attrs:{\"grey\":\"\",\"artists\":_vm.$store.state.media.track.artists}})],1)]),_c('div',{staticClass:\"local-icon\"},[(_vm.$store.state.media.local)?_c('v-icon',{attrs:{\"small\":_vm.$store.state.windowWidth >= 1000}},[_vm._v(\" mdi-cloud-download-outline \")]):_c('v-icon',{attrs:{\"small\":_vm.$store.state.windowWidth >= 1000}},[_vm._v(\"mdi-radio-tower\")])],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"media-info\">\r\n        <v-card outlined class=\"media-card\">\r\n            <div class=\"media-album\"\r\n                 @click=\"$router.push('/nowplaying')\"\r\n                 v-ripple\r\n                 :style=\"{\r\n                            backgroundImage: `url(${$store.getters.itemImage($store.state.media.track)})`,\r\n                         }\"/>\r\n            <div class=\"white-part\">\r\n                <div class=\"media-text-info\">\r\n                    <img v-if=\"!$store.getters.isTrackSet\"\r\n                         class=\"media-info-logo\" src=\"../assets/logo-small-v.png\"\r\n                         alt=\"vm5 logo\">\r\n                    <div v-else class=\"media-title-artists\">\r\n                        <span :title=\"$store.state.media.track.name\"\r\n                              class=\"track-title\">\r\n                            {{$store.state.media.track.name}}\r\n                        </span>\r\n                        <artists-span :style=\"{maxWidth: smallArtists?`calc(100% - 56px)`:''}\"\r\n                                      grey class=\"track-artists\"\r\n                                      :artists=\"$store.state.media.track.artists\"></artists-span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"local-icon\">\r\n                    <v-icon :small=\"$store.state.windowWidth >= 1000\" v-if=\"$store.state.media.local\">\r\n                        mdi-cloud-download-outline\r\n                    </v-icon>\r\n                    <v-icon :small=\"$store.state.windowWidth >= 1000\" v-else>mdi-radio-tower</v-icon>\r\n                </div>\r\n            </div>\r\n        </v-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import MediaControls from \"./MediaControls\";\r\n    import ArtistsSpan from \"./ArtistsSpan\";\r\n\r\n    export default {\r\n        name: \"MediaInfo\",\r\n        components: {ArtistsSpan, MediaControls},\r\n        props: {\r\n            drag: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            smallArtists: {\r\n                type: Boolean,\r\n                default: false,\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .media-info {\r\n        width: 100%;\r\n        display: inline-flex;\r\n        min-width: 100px;\r\n    }\r\n\r\n    .media-card {\r\n        display: flex;\r\n        width: 100%;\r\n        min-width: 100px;\r\n    }\r\n\r\n    .white-part {\r\n        display: flex;\r\n        height: 50px;\r\n        width: calc(100% - 50px);\r\n        min-width: 100px;\r\n    }\r\n\r\n    .media-album {\r\n        cursor: pointer;\r\n        border-top-left-radius: 2px;\r\n        border-bottom-left-radius: 2px;\r\n        border-top-right-radius: 0 !important;\r\n        border-bottom-right-radius: 0 !important;\r\n        min-width: 50px;\r\n        height: 50px;\r\n        width: 50px;\r\n        background-repeat: no-repeat;\r\n        background-size: cover;\r\n        background-position: center;\r\n    }\r\n\r\n    .media-text-info {\r\n        width: calc(100% - 24px);\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: flex-start;\r\n    }\r\n\r\n    @media (max-width: 1000px) {\r\n        .media-text-info {\r\n            width: calc(100% - 36px);\r\n        }\r\n\r\n        .local-icon {\r\n            width: 36px !important;\r\n            padding-top: 12px !important;\r\n            opacity: 0.8 !important;\r\n        }\r\n    }\r\n\r\n    .media-info-logo {\r\n        height: 20px;\r\n        opacity: 0.5;\r\n    }\r\n\r\n    .media-title-artists {\r\n        width: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        height: calc(100% - 10px);\r\n        margin-top: 3px;\r\n        font-size: 13px;\r\n        min-width: 100px;\r\n        max-width: 100%;\r\n    }\r\n\r\n    .track-title {\r\n        margin-bottom: -4px;\r\n        font-weight: bold;\r\n        max-width: calc(100% - 25px);\r\n        overflow-x: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n    }\r\n\r\n    .media-info >>> a {\r\n        text-decoration: none;\r\n    }\r\n\r\n    .media-info >>> a:hover {\r\n        text-decoration: underline;\r\n    }\r\n\r\n    .local-icon {\r\n        width: 24px;\r\n        height: 100%;\r\n        padding-top: 10px;\r\n        display: flex;\r\n        justify-content: flex-start;\r\n        align-items: flex-start;\r\n        opacity: 0.6;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MediaInfo.vue?vue&type=template&id=6d9950ca&scoped=true&\"\nimport script from \"./MediaInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./MediaInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MediaInfo.vue?vue&type=style&index=0&id=6d9950ca&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d9950ca\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VCard,VIcon})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Ripple from 'vuetify/lib/directives/ripple'\ninstallDirectives(component, {Ripple})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo\"},[_c('img',{staticClass:\"logo-image\",attrs:{\"src\":_vm.$vuetify.theme.dark ? 'img/full-white-medium.png':'img/full-black-medium.png',\"alt\":\"logo image\"}}),_c('span',[_vm._v(\" Vue Music \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"logo\">\r\n        <img class=\"logo-image\"\r\n             :src=\"$vuetify.theme.dark ? 'img/full-white-medium.png':'img/full-black-medium.png' \"\r\n             alt=\"logo image\"/>\r\n        <span>\r\n                    Vue Music\r\n                </span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Logo\"\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .logo {\r\n        margin-top: 2px;\r\n        margin-left: 2px;\r\n        padding: 15px;\r\n        font-weight: bold;\r\n        display: flex;\r\n        justify-content: center;\r\n        -webkit-app-region: drag;\r\n    }\r\n\r\n    .logo-image {\r\n        height: 20px;\r\n        margin-right: 10px;\r\n        pointer-events: none;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Logo.vue?vue&type=template&id=e229bb10&scoped=true&\"\nimport script from \"./Logo.vue?vue&type=script&lang=js&\"\nexport * from \"./Logo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Logo.vue?vue&type=style&index=0&id=e229bb10&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e229bb10\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$store.getters.isTrackSet)?_c('div',{staticClass:\"queue-button\"},[_c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"close-on-click\":true},on:{\"input\":_vm.scrollToItem},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-playlist-play\")])],1)]}}],null,false,2887210282)},[_c('queue-list',{ref:\"list\",staticClass:\"track-list\"})],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"queue-button\" v-if=\"$store.getters.isTrackSet\">\r\n        <v-menu @input=\"scrollToItem\" offset-y :close-on-content-click=\"false\" :close-on-click=\"true\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn icon v-bind=\"attrs\" v-on=\"on\">\r\n                    <v-icon>mdi-playlist-play</v-icon>\r\n                </v-btn>\r\n            </template>\r\n            <queue-list class=\"track-list\" ref=\"list\"></queue-list>\r\n        </v-menu>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import TrackRow from \"./TrackRow\";\r\n    import QueueList from \"./QueueList\";\r\n\r\n    export default {\r\n        name: \"QueueButton\",\r\n        components: {QueueList, TrackRow},\r\n        data: () => ({\r\n            intervals: [],\r\n        }),\r\n        beforeDestroy() {\r\n            this.clearIntervals();\r\n        },\r\n        methods: {\r\n            clearIntervals() {\r\n                let intervals = this.intervals;\r\n                this.intervals = [];\r\n                for (let i of intervals)\r\n                    clearInterval(i);\r\n            },\r\n            scrollToItem() {\r\n                this.intervals.push(setInterval(() => {\r\n                    if (this.$refs.list) {\r\n                        this.$refs.list.scrollToItem();\r\n                        this.clearIntervals();\r\n                    }\r\n                }, 50));\r\n            },\r\n        },\r\n        computed: {},\r\n        watch: {},\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .track-list {\r\n        max-height: calc(100vh - 150px);\r\n        max-width: 100%;\r\n        width: 420px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueueButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueueButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QueueButton.vue?vue&type=template&id=3fa583e2&scoped=true&\"\nimport script from \"./QueueButton.vue?vue&type=script&lang=js&\"\nexport * from \"./QueueButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QueueButton.vue?vue&type=style&index=0&id=3fa583e2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3fa583e2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VBtn,VIcon,VMenu})\n","<template>\r\n    <div class=\"toolbar\">\r\n        <logo class=\"logo\" v-if=\"mobile\"></logo>\r\n        <media-controls full class=\"controls\" v-if=\"!mobile && !compact\"></media-controls>\r\n        <div class=\"media-container\" v-if=\"(!compact && !mobile) && $store.getters.isTrackSet\">\r\n            <div class=\"media-info\">\r\n                <media-seek class=\"top-seeker\" no-background small-time></media-seek>\r\n                <media-info small-artists drag class=\"top-info\"></media-info>\r\n            </div>\r\n            <follow-button class=\"favorite-button\" hide-tooltip :item=\"$store.state.media.track\"></follow-button>\r\n            <queue-button class=\"queue-button\"></queue-button>\r\n        </div>\r\n        <div class=\"volume\" v-if=\"!mobile\">\r\n            <v-slider\r\n                    ref=\"volume\"\r\n                    :min=\"0\"\r\n                    :max=\"1\"\r\n                    :step=\"0.01\"\r\n                    v-model=\"volume\"\r\n                    :prepend-icon=\"volumeIcon\"\r\n                    @click:prepend=\"toggleMute\"\r\n            ></v-slider>\r\n        </div>\r\n        <div class=\"buttons\">\r\n            <v-menu offset-y :close-on-content-click=\"true\">\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-btn\r\n                            color=\"primary\"\r\n                            icon\r\n                            v-bind=\"attrs\"\r\n                            v-on=\"on\">\r\n                        <v-icon>mdi-account-circle</v-icon>\r\n                    </v-btn>\r\n                </template>\r\n                <v-list>\r\n                    <v-list-item two-line\r\n                                 v-if=\"$store.getters.isLoggedIn\">\r\n                        <router-link class=\"list-link\"\r\n                                     tag=\"div\"\r\n                                     :to=\"`/user/${$store.getters.urlName($store.state.userInfo.name)}/${$store.state.userInfo.id}`\">\r\n                            <v-list-item-avatar>\r\n                                <img :src=\"$store.state.userInfo.avatar\" alt=\"User Avatar\">\r\n                            </v-list-item-avatar>\r\n                            <v-list-item-content>\r\n                                <v-list-item-title>{{$store.state.userInfo.name}}</v-list-item-title>\r\n                                <v-list-item-subtitle>{{$store.state.userInfo.mail}}</v-list-item-subtitle>\r\n                            </v-list-item-content>\r\n                        </router-link>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item to=\"/downloads\">\r\n                        <v-list-item-icon>\r\n                            <v-icon>mdi-download</v-icon>\r\n                        </v-list-item-icon>\r\n                        <v-list-item-content>\r\n                            <v-list-item-title>Downloads</v-list-item-title>\r\n                        </v-list-item-content>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item to=\"/settings\">\r\n                        <v-list-item-icon>\r\n                            <v-icon>mdi-cog-outline</v-icon>\r\n                        </v-list-item-icon>\r\n                        <v-list-item-content>\r\n                            <v-list-item-title>Settings</v-list-item-title>\r\n                        </v-list-item-content>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item @click=\"$store.dispatch('spotifyLogout')\" color=\"primary\"\r\n                                 v-if=\"$store.getters.isLoggedIn\">\r\n                        <v-list-item-icon>\r\n                            <v-icon>mdi-logout</v-icon>\r\n                        </v-list-item-icon>\r\n                        <v-list-item-content>\r\n                            <v-list-item-title>Logout</v-list-item-title>\r\n                        </v-list-item-content>\r\n                    </v-list-item>\r\n                    <v-list-item @click=\"$store.dispatch('spotifyLogin')\" color=\"primary\"\r\n                                 v-else-if=\"$store.getters.isKeySet\">\r\n                        <v-list-item-icon>\r\n                            <v-icon>mdi-login</v-icon>\r\n                        </v-list-item-icon>\r\n                        <v-list-item-content>\r\n                            <v-list-item-title>Login</v-list-item-title>\r\n                        </v-list-item-content>\r\n                    </v-list-item>\r\n\r\n                    <v-list-item color=\"primary\">\r\n                        <v-list-item-icon>\r\n                            <v-icon>mdi-brightness-6</v-icon>\r\n                        </v-list-item-icon>\r\n                        <v-list-item-content>\r\n                            <v-list-item-title class=\"theme-switch\">\r\n                                <span>Dark theme</span>\r\n                            </v-list-item-title>\r\n                        </v-list-item-content>\r\n                        <v-list-item-action>\r\n                            <v-switch dense inset v-model=\"$vuetify.theme.dark\"></v-switch>\r\n                        </v-list-item-action>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-menu>\r\n\r\n            <v-btn v-if=\"$store.state.platform.type==='electron'\" icon\r\n                   class=\"minimize-button\"\r\n                   @click=\"$store.dispatch('minimizeWindow')\">\r\n                <v-icon>mdi-minus</v-icon>\r\n            </v-btn>\r\n            <v-btn v-if=\"$store.state.platform.type==='electron'\" icon @click=\"$store.dispatch('closeWindow')\">\r\n                <v-icon>mdi-close</v-icon>\r\n            </v-btn>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import MediaInfo from \"./MediaInfo\";\r\n    import MediaControls from \"./MediaControls\";\r\n    import MediaSeek from \"./MediaSeek\";\r\n    import Logo from \"./Logo\";\r\n    import FollowButton from \"./FollowButton\";\r\n    import QueueButton from \"./QueueButton\";\r\n\r\n    export default {\r\n        name: \"ToolBar\",\r\n        components: {QueueButton, FollowButton, Logo, MediaSeek, MediaControls, MediaInfo},\r\n        data: () => ({\r\n            volume: 1,\r\n            prevVolume: 1,\r\n        }),\r\n        props: {\r\n            mobile: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            compact:{\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n        },\r\n        mounted() {\r\n            this.mountVolumeListener();\r\n            this.volume = this.$store.state.media.volume ** 0.5;\r\n        },\r\n        beforeDestroy() {\r\n            this.removeVolumeListener();\r\n        },\r\n        methods: {\r\n            mountVolumeListener() {\r\n                if (this.$refs.volume)\r\n                    this.$refs.volume.$el.addEventListener('wheel', this.volumeScroll, true);\r\n            },\r\n            removeVolumeListener() {\r\n                if (this.$refs.volume)\r\n                    this.$refs.volume.$el.removeEventListener('wheel', this.volumeScroll);\r\n            },\r\n            toggleMute() {\r\n                if (this.volume > 0) {\r\n                    this.prevVolume = this.volume;\r\n                    this.volume = 0;\r\n                } else {\r\n                    this.volume = this.prevVolume;\r\n                }\r\n            },\r\n            volumeScroll(e) {\r\n                let changeAmount = e.deltaY * -0.00025;\r\n                this.volume = Math.min(1, Math.max(0, this.volume + changeAmount));\r\n            },\r\n        },\r\n        watch: {\r\n            '$vuetify.theme.dark'() {\r\n                localStorage.darkTheme = this.$vuetify.theme.dark;\r\n            },\r\n            mobile() {\r\n                if (!this.mobile) {\r\n                    setTimeout(() => {\r\n                        this.mountVolumeListener();\r\n                    }, 100);\r\n                } else {\r\n                    this.removeVolumeListener();\r\n                }\r\n            },\r\n            volume() {\r\n                this.$store.commit('volume', this.volume ** 2);\r\n            },\r\n        },\r\n        computed: {\r\n            volumeIcon() {\r\n                if (this.volume === 0) {\r\n                    return 'mdi-volume-mute';\r\n                } else if (this.volume < 0.5) {\r\n                    return 'mdi-volume-medium';\r\n                } else {\r\n                    return 'mdi-volume-high';\r\n                }\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .toolbar {\r\n        -webkit-app-region: drag;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        width: calc(100% + 32px);\r\n        height: calc(100% + 2px);\r\n        margin: -2px -16px;\r\n        align-items: center;\r\n    }\r\n\r\n    .controls {\r\n        -webkit-app-region: no-drag;\r\n        margin-left: 5px;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        margin-right: 10px;\r\n    }\r\n\r\n    .controls > * {\r\n        -webkit-app-region: no-drag;\r\n    }\r\n\r\n    .media-container {\r\n        display: flex;\r\n        max-width: 550px;\r\n        flex: 1 0 0;\r\n        align-items: center;\r\n        min-width: 100px;\r\n    }\r\n\r\n    .media-info {\r\n        -webkit-app-region: no-drag;\r\n        width: 100%;\r\n        min-width: 100px;\r\n        margin-bottom: -5px;\r\n    }\r\n\r\n    .top-seeker {\r\n        width: calc(100% - 51px);\r\n        margin-left: 51px;\r\n        position: relative;\r\n        top: 40px;\r\n        z-index: 5;\r\n    }\r\n\r\n    .top-info {\r\n        margin-top: -20px;\r\n    }\r\n\r\n    .volume {\r\n        -webkit-app-region: no-drag;\r\n        max-width: 110px;\r\n        height: 32px;\r\n        flex-grow: 1;\r\n        margin-left: 10px;\r\n    }\r\n\r\n    .buttons {\r\n        margin: 0 5px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n\r\n    .buttons > * {\r\n        -webkit-app-region: no-drag;\r\n    }\r\n\r\n    .favorite-button {\r\n        -webkit-app-region: no-drag;\r\n        margin: 0 5px;\r\n    }\r\n\r\n    .queue-button {\r\n        -webkit-app-region: no-drag;\r\n    }\r\n\r\n    .list-link {\r\n        display: inline-flex;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .theme-switch {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n    }\r\n\r\n    @media (max-width: 800px) {\r\n        .favorite-button {\r\n            display: none;\r\n        }\r\n\r\n        .minimize-button {\r\n            display: none;\r\n        }\r\n    }\r\n\r\n    @media (max-width: 710px) {\r\n        .queue-button {\r\n            display: none;\r\n        }\r\n    }\r\n\r\n    @media (max-width: 680px) {\r\n        .minimize-button {\r\n            display: inline-flex !important;\r\n        }\r\n    }\r\n\r\n    @media (max-width: 352px) {\r\n        .logo {\r\n            width: 0;\r\n            overflow: hidden;\r\n            padding: 0;\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ToolBar.vue?vue&type=template&id=3056f1c8&scoped=true&\"\nimport script from \"./ToolBar.vue?vue&type=script&lang=js&\"\nexport * from \"./ToolBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ToolBar.vue?vue&type=style&index=0&id=3056f1c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3056f1c8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VBtn,VIcon,VList,VListItem,VListItemAction,VListItemAvatar,VListItemContent,VListItemIcon,VListItemSubtitle,VListItemTitle,VMenu,VSlider,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('perfect-scrollbar',{staticClass:\"nav-bar\"},[_c('div',{staticClass:\"nav-top\"},[_c('logo'),_c('search-input',{staticClass:\"search-input\"})],1),_c('v-list',{staticClass:\"py-0\",attrs:{\"dense\":\"\",\"nav\":\"\"}},[_c('v-list-item',{attrs:{\"to\":\"/\",\"exact\":\"\"}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-play-circle-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Listen Now\")])],1)],1),_c('v-list-item',{attrs:{\"to\":\"/browse\",\"exact\":\"\"}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-grid-large\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Browse\")])],1)],1),_c('v-subheader',[_vm._v(\"Library\")]),_c('v-list-item',{attrs:{\"to\":\"/library/artists\"}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-microphone-variant\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Artists\")])],1)],1),_c('v-list-item',{attrs:{\"to\":\"/library/albums\"}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-record-circle-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Albums\")])],1)],1),_c('v-list-item',{attrs:{\"to\":\"/library/tracks\"}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-music-note\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Tracks\")])],1)],1),(_vm.$store.state.library.playlists.length > 0)?_c('div',{staticClass:\"playlist-header\"},[_c('v-subheader',[_vm._v(\"Playlists\")]),(!_vm.showPlaylistInput)?_c('v-btn',{staticClass:\"add-playlist\",attrs:{\"icon\":\"\",\"small\":\"\",\"title\":\"Create new playlist\"},on:{\"click\":function($event){_vm.showPlaylistInput=true}}},[_c('v-icon',{attrs:{\"x-small\":\"\"}},[_vm._v(\"mdi-plus\")])],1):_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.showPlaylistInput=false}}},[_vm._v(\"Cancel\")])],1):_vm._e(),(_vm.showPlaylistInput)?_c('v-form',{staticClass:\"create-playlist\",on:{\"submit\":function($event){$event.preventDefault();return _vm.createPlaylist($event)}}},[_c('v-text-field',{attrs:{\"autofocus\":\"\",\"rules\":_vm.playlistRules,\"label\":\"Playlist name\",\"outlined\":\"\",\"dense\":\"\"},model:{value:(_vm.playlistName),callback:function ($$v) {_vm.playlistName=$$v},expression:\"playlistName\"}}),_c('v-btn',{attrs:{\"icon\":\"\",\"type\":\"submit\",\"loading\":_vm.createLoading}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)],1):_vm._e(),_vm._l((_vm.$store.state.library.playlists),function(playlist){return _c('v-list-item',{key:playlist.id,attrs:{\"to\":_vm.$store.getters.relativeItemUrl(playlist),\"exact\":\"\"}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-playlist-music\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(playlist.name))])],1)],1)})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <perfect-scrollbar class=\"nav-bar\">\r\n        <div class=\"nav-top\">\r\n            <logo></logo>\r\n            <search-input class=\"search-input\"></search-input>\r\n        </div>\r\n\r\n        <v-list dense nav class=\"py-0\">\r\n            <v-list-item to=\"/\" exact>\r\n                <v-list-item-icon>\r\n                    <v-icon color=\"primary\">mdi-play-circle-outline</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-content>\r\n                    <v-list-item-title>Listen Now</v-list-item-title>\r\n                </v-list-item-content>\r\n            </v-list-item>\r\n            <v-list-item to=\"/browse\" exact>\r\n                <v-list-item-icon>\r\n                    <v-icon color=\"primary\">mdi-grid-large</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-content>\r\n                    <v-list-item-title>Browse</v-list-item-title>\r\n                </v-list-item-content>\r\n            </v-list-item>\r\n\r\n            <v-subheader>Library</v-subheader>\r\n            <v-list-item to=\"/library/artists\">\r\n                <v-list-item-icon>\r\n                    <v-icon color=\"primary\">mdi-microphone-variant</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-content>\r\n                    <v-list-item-title>Artists</v-list-item-title>\r\n                </v-list-item-content>\r\n            </v-list-item>\r\n            <v-list-item to=\"/library/albums\">\r\n                <v-list-item-icon>\r\n                    <v-icon color=\"primary\">mdi-record-circle-outline</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-content>\r\n                    <v-list-item-title>Albums</v-list-item-title>\r\n                </v-list-item-content>\r\n            </v-list-item>\r\n            <v-list-item to=\"/library/tracks\">\r\n                <v-list-item-icon>\r\n                    <v-icon color=\"primary\">mdi-music-note</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-content>\r\n                    <v-list-item-title>Tracks</v-list-item-title>\r\n                </v-list-item-content>\r\n            </v-list-item>\r\n\r\n            <div class=\"playlist-header\" v-if=\"$store.state.library.playlists.length > 0\">\r\n                <v-subheader>Playlists</v-subheader>\r\n                <v-btn @click=\"showPlaylistInput=true\" v-if=\"!showPlaylistInput\" icon small title=\"Create new playlist\"\r\n                       class=\"add-playlist\">\r\n                    <v-icon x-small>mdi-plus</v-icon>\r\n                </v-btn>\r\n                <v-btn @click=\"showPlaylistInput=false\" small text v-else>Cancel</v-btn>\r\n            </div>\r\n            <v-form v-if=\"showPlaylistInput\" @submit.prevent=\"createPlaylist\"\r\n                    class=\"create-playlist\">\r\n                <v-text-field autofocus :rules=\"playlistRules\" label=\"Playlist name\" outlined dense\r\n                              v-model=\"playlistName\"></v-text-field>\r\n                <v-btn icon type=\"submit\" :loading=\"createLoading\">\r\n                    <v-icon>mdi-plus</v-icon>\r\n                </v-btn>\r\n            </v-form>\r\n\r\n            <v-list-item v-for=\"playlist in $store.state.library.playlists\" :key=\"playlist.id\"\r\n                         :to=\"$store.getters.relativeItemUrl(playlist)\" exact>\r\n                <v-list-item-icon>\r\n                    <v-icon>mdi-playlist-music</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-content>\r\n                    <v-list-item-title>{{playlist.name}}</v-list-item-title>\r\n                </v-list-item-content>\r\n            </v-list-item>\r\n        </v-list>\r\n    </perfect-scrollbar>\r\n</template>\r\n\r\n<script>\r\n    import Logo from \"./Logo\";\r\n    import SearchInput from \"./SearchInput\";\r\n\r\n    export default {\r\n        name: \"NavContent\",\r\n        components: {SearchInput, Logo},\r\n        data: () => ({\r\n            showPlaylistInput: false,\r\n            playlistRules: [\r\n                v => v.length > 0 || \"Name can't be empty\",\r\n            ],\r\n            playlistName: '',\r\n            createLoading: false,\r\n        }),\r\n        mounted() {\r\n        },\r\n        methods: {\r\n            async createPlaylist() {\r\n                this.createLoading = true;\r\n                let playlist = await this.$store.dispatch('createPlaylist', this.playlistName);\r\n                this.createLoading = false;\r\n                this.showPlaylistInput = false;\r\n                this.playlistName = '';\r\n                await this.$router.push($store.getters.relativeItemUrl(playlist));\r\n            }\r\n        },\r\n        watch: {},\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .nav-bar {\r\n        height: 100%;\r\n        width: 100%;\r\n    }\r\n\r\n    .playlist-header {\r\n        display: flex;\r\n        /*justify-content: space-between;*/\r\n        align-items: center;\r\n    }\r\n\r\n    .search-input {\r\n        margin: 15px !important;\r\n        margin-bottom: 0 !important;\r\n    }\r\n\r\n    .add-playlist {\r\n        opacity: 0.7;\r\n    }\r\n\r\n    .create-playlist {\r\n        display: flex;\r\n    }\r\n\r\n    .create-playlist > *:last-child {\r\n        margin-top: 2px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavContent.vue?vue&type=template&id=5cfd90c0&scoped=true&\"\nimport script from \"./NavContent.vue?vue&type=script&lang=js&\"\nexport * from \"./NavContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavContent.vue?vue&type=style&index=0&id=5cfd90c0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5cfd90c0\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VForm,VIcon,VList,VListItem,VListItemContent,VListItemIcon,VListItemTitle,VSubheader,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"MusicPlayer\",\r\n        data: () => ({\r\n            timeInterval: -1,\r\n        }),\r\n        async mounted() {\r\n            this.timeInterval = setInterval(() => {\r\n                let audio = this.$store.state.media.audio;\r\n\r\n                if (!this.$store.state.media.trackLoading)\r\n                    this.$store.commit('currentTime', audio.currentTime);\r\n                if (audio.duration && navigator.mediaSession.hasOwnProperty('setPositionState')) {\r\n                    navigator.mediaSession.setPositionState({\r\n                        duration: audio.duration,\r\n                        playbackRate: 1,\r\n                        position: audio.currentTime,\r\n                    });\r\n                }\r\n            }, 1000 / 30);\r\n\r\n            this.handleVolume();\r\n            if (this.$store.getters.isTrackSet)\r\n                await this.$store.dispatch('setTrack', this.$store.state.media.track);\r\n        },\r\n        beforeDestroy() {\r\n            clearInterval(this.timeInterval);\r\n        },\r\n        methods: {\r\n            handleVolume() {\r\n                let audio = this.$store.state.media.audio;\r\n                let backupAudio = this.$store.state.media.backupAudio;\r\n                audio.volume = this.$store.state.media.volume;\r\n                backupAudio.volume = this.$store.state.media.volume;\r\n            }\r\n        },\r\n        watch: {\r\n            async '$store.state.media.track'() {\r\n                await this.$store.dispatch('setTrack', this.$store.state.media.track);\r\n            },\r\n            '$store.state.media.volume'() {\r\n                this.handleVolume();\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicPlayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicPlayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MusicPlayer.vue?vue&type=template&id=89f71ffc&scoped=true&\"\nimport script from \"./MusicPlayer.vue?vue&type=script&lang=js&\"\nexport * from \"./MusicPlayer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"89f71ffc\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <v-app class=\"app\">\r\n        <v-navigation-drawer\r\n                color=\"navBackground\"\r\n                class=\"navBar\"\r\n                v-if=\"$store.state.windowWidth > 680\"\r\n                v-model=\"drawer\"\r\n                :permanent=\"true\"\r\n                app\r\n                absolute>\r\n            <nav-content></nav-content>\r\n        </v-navigation-drawer>\r\n\r\n        <v-app-bar app class=\"toolbar\" elevation=\"1\">\r\n            <tool-bar :compact=\"$store.state.windowWidth <= 1000\" :mobile=\"$store.state.windowWidth <= 680\"\r\n                      class=\"toolbar-content\"></tool-bar>\r\n        </v-app-bar>\r\n\r\n        <v-main class=\"scroll-container\">\r\n            <div class=\"perfect-scroller\">\r\n                <router-view class=\"router-view\"></router-view>\r\n            </div>\r\n        </v-main>\r\n\r\n        <v-snackbar v-for=\"snack in $store.state.snackbars\" app v-model=\"snack.open\" :timeout=\"snack.timeout\"\r\n                    :outlined=\"!$vuetify.theme.dark\" color=\"primary\">\r\n            {{ snack.text }}\r\n            <template v-slot:action=\"{ attrs }\">\r\n                <v-btn text v-bind=\"attrs\" :color=\"$vuetify.theme.dark ? 'default' : 'primary'\"\r\n                       @click=\"snack.open = false\">\r\n                    Dismiss\r\n                </v-btn>\r\n            </template>\r\n        </v-snackbar>\r\n\r\n        <v-card flat class=\"bottom-media-control\"\r\n                :class=\"{'medium-width': $store.state.windowWidth <= 1000}\"\r\n                v-if=\"$store.state.windowWidth <= 1000 && $store.getters.isTrackSet\"\r\n                color=\"primaryLight\">\r\n            <div class=\"info-pane\">\r\n                <media-info class=\"media-info\"></media-info>\r\n                <follow-button class=\"button\" :item=\"$store.state.media.track\"></follow-button>\r\n                <queue-button class=\"button\"></queue-button>\r\n            </div>\r\n            <div class=\"full-controls\" v-if=\"$route.name !== 'NowPlaying'\">\r\n                <media-controls :full=\"$store.state.windowWidth > 430\"></media-controls>\r\n                <media-seek class=\"seeker\"></media-seek>\r\n            </div>\r\n        </v-card>\r\n\r\n        <v-bottom-navigation\r\n                color=\"primary\"\r\n                grow\r\n                :shift=\"$store.state.windowWidth <= 430\"\r\n                v-if=\"$store.state.windowWidth <= 680\"\r\n                app>\r\n            <v-btn value=\"now\" to=\"/\" exact>\r\n                <span>Listen Now</span>\r\n                <v-icon>mdi-play-circle-outline</v-icon>\r\n            </v-btn>\r\n            <v-btn value=\"browse\" to=\"/browse\" exact>\r\n                <span>Browse</span>\r\n                <v-icon>mdi-grid-large</v-icon>\r\n            </v-btn>\r\n            <v-btn value=\"library\" to=\"/library\">\r\n                <span>Library</span>\r\n                <v-icon>mdi-record-circle-outline</v-icon>\r\n            </v-btn>\r\n            <v-btn value=\"search\" to=\"/search\">\r\n                <span>Search</span>\r\n                <v-icon>mdi-magnify</v-icon>\r\n            </v-btn>\r\n        </v-bottom-navigation>\r\n\r\n        <music-player></music-player>\r\n    </v-app>\r\n</template>\r\n\r\n<script>\r\n    import ToolBar from \"./components/ToolBar\";\r\n    import MediaInfo from \"./components/MediaInfo\";\r\n    import MediaControls from \"./components/MediaControls\";\r\n    import MediaSeek from \"./components/MediaSeek\";\r\n    import NavContent from \"./components/NavContent\";\r\n    import FollowButton from \"./components/FollowButton\";\r\n    import QueueButton from \"./components/QueueButton\";\r\n    import MusicPlayer from \"./components/MusicPlayer\";\r\n\r\n    //TOOD:\r\n    //maybe remove spotify stuff from store.js into spotify-module.js (probably not needed until more stuff starts to clutter base store.js)\r\n    //Delete cache every week or so to prevent massive cache causing lag (see first if lag actually happens)\r\n    //maybe add play/shuffle to track grid/ search results and artist tracks\r\n    //click media notification -> open app (impossible)\r\n\r\n    //break up store.js into some modules\r\n    //change to indexeddb for state cache etc.\r\n    //fullscreen button not clickable when fullscreen xd\r\n\r\n    export default {\r\n        name: 'App',\r\n        components: {MusicPlayer, QueueButton, FollowButton, NavContent, MediaSeek, MediaControls, MediaInfo, ToolBar},\r\n        data: () => ({\r\n            drawer: true,\r\n            cacheInterval: -1,\r\n        }),\r\n        async mounted() {\r\n            await this.$store.dispatch('initialize');\r\n\r\n            document.addEventListener('keypress', this.devListener);\r\n            window.addEventListener('resize', this.resizeListener);\r\n\r\n            window.onbeforeunload = e => {\r\n                if (!this.$store.state.dontCache) {\r\n                    this.$store.dispatch('cacheAll');\r\n                }\r\n                delete e['returnValue'];\r\n            };\r\n\r\n            if (this.$store.state.platform.type === 'electron') {\r\n                //todo move this to electron-module\r\n                window.require('electron').ipcRenderer.on('before-quit', async () => {\r\n                    await this.$store.dispatch('cacheState');\r\n                });\r\n            }\r\n\r\n            this.cacheInterval = setInterval(async () => {\r\n                await this.$store.dispatch('cacheAll');\r\n            }, 1000 * 60 * 5);//Cache every 5 minutes.\r\n\r\n            console.log(this.$store);\r\n            if (!this.$store.getters.isKeySet) {\r\n                if (this.$route.name !== 'Settings') {\r\n                    await this.$router.push('/settings');\r\n                }\r\n            } else if (!this.$store.getters.isLoggedIn && this.$route.name !== 'Settings') {\r\n                await this.$router.push('/settings');\r\n            }\r\n\r\n            if (this.$store.state.platform.type === 'web')\r\n                this.handleCode();\r\n        },\r\n        beforeDestroy() {\r\n            clearInterval(this.cacheInterval);\r\n            document.removeEventListener('keypress', this.devListener);\r\n            window.removeEventListener('resize', this.resizeListener);\r\n        },\r\n        methods: {\r\n            handleCode() {\r\n                if (location.search.includes('?code=')) {\r\n                    let code = location.search.split('?code=')[1].split('&')[0];\r\n\r\n                    let otherTab = new BroadcastChannel('loginCode');\r\n                    otherTab.postMessage(code);\r\n                    otherTab.close();\r\n                    window.close();\r\n                }\r\n            },\r\n            resizeListener() {\r\n                this.$store.commit('windowWidth', window.innerWidth);\r\n            },\r\n            devListener(e) {\r\n                if (e.key === '`')\r\n                    this.$store.dispatch('openDevTools');\r\n                if (e.key === 'r' && e.ctrlKey)\r\n                    location.reload();\r\n            }\r\n        }\r\n    };\r\n</script>\r\n<style>\r\n    @import url('https://fonts.googleapis.com/css?family=Roboto:400,400i,500,600,700,800,900&display=swap');\r\n    @import url('https://cdn.materialdesignicons.com/5.0.45/css/materialdesignicons.min.css');\r\n\r\n    html, body {\r\n        overflow-y: auto;\r\n    }\r\n\r\n    h1 {\r\n        font-size: 1.8rem;\r\n    }\r\n\r\n    h1, h2, h3, h4, h5 {\r\n        font-weight: bold;\r\n    }\r\n\r\n    .app {\r\n        user-select: none;\r\n        font-family: Roboto, Helvetica Neue, Helvetica, Arial, sans-serif;\r\n    }\r\n\r\n    .toolbar {\r\n        display: flex;\r\n        justify-content: left;\r\n        align-items: center;\r\n        padding: 0;\r\n    }\r\n\r\n    .v-toolbar__content {\r\n        width: 100%;\r\n    }\r\n\r\n    .router-view {\r\n        /*position: absolute;*/\r\n        width: 100%;\r\n        height: 100%;\r\n        position: absolute;\r\n        overflow-y: auto;\r\n    }\r\n\r\n    .perfect-scroller {\r\n\r\n        height: 100%;\r\n    }\r\n\r\n    .navBar {\r\n        /*position: fixed;*/\r\n    }\r\n\r\n    .bottom-media-control {\r\n        width: calc(100% - 256px);\r\n        left: 256px;\r\n        bottom: 0;\r\n        padding: 5px;\r\n        position: relative;\r\n    }\r\n\r\n    @media (max-width: 680px) {\r\n        .bottom-media-control {\r\n            width: 100%;\r\n            left: 0;\r\n            bottom: 56px;\r\n        }\r\n    }\r\n\r\n    .info-pane {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n\r\n    .info-pane > .media-info {\r\n        flex-grow: 1;\r\n    }\r\n\r\n    .button {\r\n        min-width: 50px;\r\n        display: flex;\r\n        justify-content: center;\r\n    }\r\n\r\n    .full-controls {\r\n        height: 55px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-around;\r\n    }\r\n\r\n    .seeker {\r\n        margin: 0 20px;\r\n    }\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=1905f5cc&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBottomNavigation } from 'vuetify/lib/components/VBottomNavigation';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VApp,VAppBar,VBottomNavigation,VBtn,VCard,VIcon,VMain,VNavigationDrawer,VSnackbar})\n","/* eslint-disable no-console */\r\n\r\nimport { register } from 'register-service-worker'\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  register(`${process.env.BASE_URL}service-worker.js`, {\r\n    ready () {\r\n      console.log(\r\n        'App is being served from cache by a service worker.\\n' +\r\n        'For more details, visit https://goo.gl/AFskqB'\r\n      )\r\n    },\r\n    registered () {\r\n      console.log('Service worker has been registered.')\r\n    },\r\n    cached () {\r\n      console.log('Content has been cached for offline use.')\r\n    },\r\n    updatefound () {\r\n      console.log('New content is downloading.')\r\n    },\r\n    updated () {\r\n      console.log('New content is available; please refresh.')\r\n    },\r\n    offline () {\r\n      console.log('No internet connection found. App is running in offline mode.')\r\n    },\r\n    error (error) {\r\n      console.error('Error during service worker registration:', error)\r\n    }\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"listen-now\"},[_c('div',{staticClass:\"padded\"},[_c('h2',[_vm._v(_vm._s(_vm.$store.state.homePage.featured.title.replace(/\\\\/gi,'')))])]),_c('item-row',{staticClass:\"item-row\",attrs:{\"items\":_vm.$store.state.homePage.featured.playlists,\"big\":\"\"}}),(_vm.$store.state.media.recentlyPlayed.length > 0)?_c('h2',{staticClass:\"padded\"},[_vm._v(\"Recently played\")]):_vm._e(),(_vm.$store.state.media.recentlyPlayed.length > 0)?_c('item-row',{staticClass:\"item-row\",attrs:{\"items\":_vm.$store.state.media.recentlyPlayed}}):_vm._e(),_c('h2',{staticClass:\"padded\"},[_vm._v(\"Made for you\")]),_c('item-row',{staticClass:\"item-row\",attrs:{\"items\":_vm.$store.state.homePage.personalized,\"type\":\"playlist\"}}),_c('h2',{staticClass:\"padded\"},[_vm._v(\"New releases\")]),_c('item-row',{staticClass:\"item-row\",attrs:{\"items\":_vm.$store.state.homePage.newReleases,\"type\":\"album\",\"rows\":2,\"big\":\"\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"listen-now\">\r\n        <div class=\"padded\">\r\n            <h2>{{$store.state.homePage.featured.title.replace(/\\\\/gi,'')}}</h2>\r\n        </div>\r\n\r\n        <item-row class=\"item-row\"\r\n                  :items=\"$store.state.homePage.featured.playlists\"\r\n                  big\r\n        ></item-row>\r\n\r\n        <h2 class=\"padded\" v-if=\"$store.state.media.recentlyPlayed.length > 0\">Recently played</h2>\r\n        <item-row class=\"item-row\"\r\n                  v-if=\"$store.state.media.recentlyPlayed.length > 0\"\r\n                  :items=\"$store.state.media.recentlyPlayed\"\r\n        ></item-row>\r\n\r\n        <h2 class=\"padded\">Made for you</h2>\r\n        <item-row class=\"item-row\"\r\n                  :items=\"$store.state.homePage.personalized\"\r\n                  type=\"playlist\"\r\n        ></item-row>\r\n\r\n        <h2 class=\"padded\">New releases</h2>\r\n        <item-row class=\"item-row\"\r\n                  :items=\"$store.state.homePage.newReleases\"\r\n                  type=\"album\"\r\n                  :rows=\"2\"\r\n                  big\r\n        ></item-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import ItemSquare from \"../components/ItemSquare\";\r\n    import ItemRow from \"../components/ItemRow\";\r\n\r\n    export default {\r\n        name: 'ListenNow',\r\n        components: {ItemRow, ItemSquare},\r\n        mounted() {\r\n            this.$store.dispatch('refreshHomePage');\r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n    .listen-now {\r\n        padding: 0px;\r\n        padding-top: 20px;\r\n        padding-bottom: 30px;\r\n    }\r\n\r\n    .padded {\r\n        padding: 10px 30px;\r\n    }\r\n\r\n    .item-row {\r\n\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListenNow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListenNow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListenNow.vue?vue&type=template&id=38e1a534&scoped=true&\"\nimport script from \"./ListenNow.vue?vue&type=script&lang=js&\"\nexport * from \"./ListenNow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListenNow.vue?vue&type=style&index=0&id=38e1a534&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38e1a534\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Home from '../views/ListenNow.vue'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        name: 'Home',\r\n        component: Home\r\n    },\r\n    {\r\n        path: '/settings',\r\n        name: 'Settings',\r\n        component: () => import('../views/Settings')\r\n    },\r\n    {\r\n        path: '/downloads',\r\n        name: 'Downloads',\r\n        component: () => import('../views/Downloads')\r\n    },\r\n    {\r\n        path: '/browse',\r\n        name: 'Browse',\r\n        component: () => import('../views/Browse')\r\n    },\r\n    {\r\n        path: '/album/:name/:id/:trackId?',\r\n        name: 'Album',\r\n        component: () => import('../views/Album')\r\n    },\r\n    {\r\n        path: '/playlist/:name/:id',\r\n        name: 'Playlist',\r\n        component: () => import('../views/Playlist')\r\n    },\r\n    {\r\n        path: '/artist/:name/:id',\r\n        name: 'Artist',\r\n        component: () => import('../views/Artist')\r\n    },\r\n    {\r\n        path: '/user/:name/:id',\r\n        name: 'User',\r\n        component: () => import('../views/User')\r\n    },\r\n    {\r\n        path: '/track/:name/:id',\r\n        name: 'Track',\r\n        component: () => import('../views/Track')\r\n    },\r\n    {\r\n        path: '/category/:id',\r\n        name: 'Category',\r\n        component: () => import('../views/Category')\r\n    },\r\n    {\r\n        path: '/library',\r\n        name: 'Library',\r\n        component: () => import('../views/Library')\r\n    },\r\n    {\r\n        path: '/library/artists',\r\n        name: 'Artists',\r\n        component: () => import('../views/Artists')\r\n    },\r\n    {\r\n        path: '/library/albums',\r\n        name: 'Albums',\r\n        component: () => import('../views/Albums')\r\n    },\r\n    {\r\n        path: '/library/playlists',\r\n        name: 'Playlists',\r\n        component: () => import('../views/Playlists')\r\n    },\r\n    {\r\n        path: '/library/tracks',\r\n        name: 'Tracks',\r\n        component: () => import('../views/Tracks')\r\n    },\r\n    {\r\n        path: '/search',\r\n        name: 'Search',\r\n        component: () => import('../views/Search')\r\n    },\r\n    {\r\n        path: '/tune',\r\n        name: 'Tune',\r\n        component: () => import('../views/Tune')\r\n    },\r\n    {\r\n        path: '/radio',\r\n        name: 'Radio',\r\n        component: () => import('../views/Radio')\r\n    },\r\n    {\r\n        path: '/nowplaying',\r\n        name: 'NowPlaying',\r\n        component: () => import('../views/NowPlaying')\r\n    },\r\n]\r\n\r\nconst router = new VueRouter({\r\n    routes\r\n})\r\n\r\nexport default router\r\n","import Utils from \"../../js/Utils\";\r\n\r\nexport default {\r\n    state: {\r\n        recentlyPlayed: [],\r\n        track: null,\r\n        local: false,\r\n        currentTime: 0,\r\n        duration: 1,\r\n        playing: false,\r\n        queue: [],\r\n        shuffledQueue: [],\r\n        contextItem: null,\r\n        shuffle: false,\r\n        repeat: true,\r\n        downloads: [],\r\n        playAfterLoad: false,\r\n        volume: 1,\r\n        trackLoading: true,\r\n        shouldDownload: true,\r\n        audio: document.createElement('audio'),\r\n        backupAudio: document.createElement('audio'),\r\n\r\n        ...(localStorage.getItem('mediaStateCache') === null ? {} : JSON.parse(localStorage.mediaStateCache)),\r\n    },\r\n    mutations: {\r\n        swapAudios: (state) => [state.audio, state.backupAudio] = [state.backupAudio, state.audio],\r\n        local: (state, local) => state.local = local,\r\n        trackLoading: (state, trackLoading) => state.trackLoading = trackLoading,\r\n        volume: (state, volume) => state.volume = volume,\r\n        seekTo: (state, percentage) => {\r\n            if (state.audio.duration)\r\n                state.audio.currentTime = state.audio.duration * percentage;\r\n        },\r\n        duration: (state, duration) => state.duration = duration || 0,\r\n        currentTime: (state, currentTime) => state.currentTime = currentTime || 0,\r\n        playing: (state, playing) => state.playing = playing,\r\n        audioElement: (state, audio) => state.audio = audio,\r\n\r\n        addDownload: (state, download) => {\r\n            let existing = state.downloads.findIndex(d => d.track.id === download.track.id);\r\n            if (existing !== -1)\r\n                state.downloads[existing] = download;\r\n            else\r\n                state.downloads.push(download)\r\n        },\r\n        downloadProgress: (state, {track, progress}) => state.downloads.find(t => t.track.id === track.id).state = progress,\r\n        removeDownload: (state, track) => {\r\n            let index = state.downloads.findIndex(t => t.track.id === track.id);\r\n            if (index !== -1)\r\n                state.downloads.splice(index, 1);\r\n        },\r\n\r\n        toggleShuffle: state => state.shuffle = !state.shuffle,\r\n        toggleRepeat: state => state.repeat = !state.repeat,\r\n        shuffle: (state, shuffle) => state.shuffle = shuffle,\r\n        repeat: (state, repeat) => state.repeat = repeat,\r\n        playAfterLoad: (state, playAfterLoad) => state.playAfterLoad = playAfterLoad,\r\n        track: (state, {track, contextItem}) => {\r\n            state.track = track;\r\n            if (contextItem === undefined)\r\n                return;\r\n            // Replace contextItem when\r\n            if (state.contextItem === null || //No context item is set\r\n                state.contextItem.id !== contextItem.id || //The ID of the new context is different\r\n                state.contextItem.type !== contextItem.type || //The type of the new context is different\r\n                state.queue.findIndex(t => t.id === track) === -1 //The new track is not in the current queue\r\n            ) {\r\n                if (contextItem.type !== 'radio' && contextItem.type !== 'search') {\r\n                    let index = state.recentlyPlayed.findIndex(i => i.id === contextItem.id);\r\n                    if (index !== -1)\r\n                        state.recentlyPlayed.splice(index, 1);\r\n                    state.recentlyPlayed.unshift(contextItem);\r\n                    state.recentlyPlayed = state.recentlyPlayed.slice(0, 10);\r\n                }\r\n\r\n                state.contextItem = contextItem;\r\n                state.queue = contextItem.tracks;\r\n                state.shuffledQueue = Utils.shuffleArray([...contextItem.tracks]);\r\n            }\r\n        },\r\n        playNext: (state, tracks) => {\r\n            let queues = [state.queue, state.shuffledQueue];\r\n            //Add tracks as \"Play next\" to both queues, remove duplicate tracks\r\n            for (let queue of queues) {\r\n                let currentIndex = queue.findIndex(t => t.id === state.track.id);\r\n                for (let track of tracks) {\r\n                    let index = queue.findIndex(t => t.id === track.id);\r\n                    if (index === currentIndex)\r\n                        continue;\r\n                    if (index !== -1)\r\n                        queue.splice(index, 1);\r\n                    queue.splice(currentIndex + 1, 0, track);\r\n                }\r\n            }\r\n        },\r\n        addToQueue: (state, tracks) => {\r\n            let queues = [state.queue, state.shuffledQueue];\r\n            //Add tracks as \"Play next\" to both queues, remove duplicate tracks\r\n            for (let queue of queues) {\r\n                let currentIndex = queue.findIndex(t => t.id === state.track.id);\r\n                for (let track of tracks) {\r\n                    let index = queue.findIndex(t => t.id === track.id);\r\n                    if (index === currentIndex)\r\n                        continue;\r\n                    if (index !== -1)\r\n                        queue.splice(index, 1);\r\n                    queue.push(track);\r\n                }\r\n            }\r\n        },\r\n        removeFromQueue: (state, track) => {\r\n            if (track.id === state.track.id)\r\n                return;\r\n            let index = state.queue.findIndex(t => t.id === track.id);\r\n            let indexShuffle = state.shuffledQueue.findIndex(t => t.id === track.id);\r\n            if (index !== -1)\r\n                state.queue.splice(index, 1);\r\n            if (indexShuffle !== -1)\r\n                state.shuffledQueue.splice(indexShuffle, 1);\r\n        },\r\n        clearQueue: (state) => {\r\n            state.queue = [state.track];\r\n            state.shuffledQueue = [state.track];\r\n        },\r\n\r\n        cacheMedia: state => {\r\n            let cachedFields = [\"shouldDownload\", \"recentlyPlayed\", \"track\", \"queue\",\r\n                \"shuffledQueue\", \"contextItem\", \"shuffle\", \"repeat\", \"volume\"];\r\n            let cache = {};\r\n            for (let field of cachedFields) {\r\n                if (field === 'library') {\r\n                    let lib = state[field];\r\n                    lib.tracks = lib.tracks.map(Utils.reduceTrackSize);\r\n                    cache[field] = lib;\r\n                } else {\r\n                    cache[field] = state[field];\r\n                }\r\n            }\r\n            localStorage.mediaStateCache = JSON.stringify(cache);\r\n            console.log(\"Media state cache complete\");\r\n        },\r\n    },\r\n    getters: {\r\n        trackIndex: (state, getters) => {\r\n            return getters.isTrackSet ? getters.currentQueue.findIndex(t => t.id === state.track.id) : -1\r\n        },\r\n        currentQueue: state => {\r\n            return state.shuffle ? state.shuffledQueue : state.queue;\r\n        },\r\n        isTrackSet: state => {\r\n            return state.track !== null;\r\n        },\r\n        durationHms: (state) => {\r\n            return Utils.secondsToHms(state.duration);\r\n        },\r\n        currentTimeHms: state => {\r\n            return Utils.secondsToHms(state.currentTime);\r\n        },\r\n        progress: (state) => {\r\n            if (!state.duration)\r\n                return 0;\r\n            return state.currentTime / state.duration;\r\n        },\r\n    },\r\n    actions: {\r\n        initializeMedia: ({state, dispatch}) => {\r\n            dispatch('initAudios');\r\n        },\r\n\r\n        isTrackAvailableOffline: async ({rootState}, track) => {\r\n            return await rootState.platform.downloader.isTrackOffline(track);\r\n        },\r\n        removeCached: async ({rootState, commit}, track) => {\r\n            await rootState.platform.downloader.removeCached(track);\r\n        },\r\n        downloadTrackByUrl: async ({rootState, state, commit}, {track, url}) => {\r\n            if (!state.shouldDownload)\r\n                return;\r\n\r\n            let abortController = new AbortController();\r\n            commit('addDownload', {track, state: 'Preparing', abortController: abortController})\r\n            await rootState.platform.downloader.downloadTrack(url, track,\r\n                progress => commit('downloadProgress', {track, progress}),\r\n                abortController.signal,\r\n            );\r\n        },\r\n        getTrackUrls({rootState}, track) {\r\n            return rootState.platform.downloader.getTrackUrls(track);\r\n        },\r\n\r\n        async setTrack({dispatch, state, commit}, track) {\r\n            dispatch('setMetadata', track);\r\n            commit('trackLoading', true);\r\n            commit('currentTime', 0);\r\n            await dispatch('pause');\r\n            for await(let {url, local} of await dispatch('getTrackUrls', track)) {\r\n                if (state.track.id !== track.id)\r\n                    return; // Don't set src when track has been skipped while loading\r\n\r\n                commit('local', local);\r\n                let success = await dispatch('setTrackUrl', url);\r\n                if (success) {\r\n                    commit('trackLoading', false);\r\n                    if (!local)\r\n                        await dispatch('downloadTrackByUrl', {track, url});\r\n                    return;\r\n                } else {\r\n                    if (local) {\r\n                        await dispatch('removeCached', track);\r\n                    }\r\n                }\r\n            }\r\n            // Failed to load track\r\n            await dispatch('skip', 1);\r\n        },\r\n        initAudios({state, commit, dispatch}) {\r\n            for (let audio of [state.audio, state.backupAudio]) {\r\n                audio.onloadedmetadata = () => {\r\n                    if (audio === state.audio)\r\n                        commit('duration', audio.duration);\r\n                };\r\n                audio.onended = () => {\r\n                    if (audio === state.audio)\r\n                        dispatch('skip', 1);\r\n                }\r\n                audio.onplay = () => {\r\n                    if (audio === state.audio) {\r\n                        navigator.mediaSession.playbackState = 'playing';\r\n                        dispatch('setPlatformPlaying', true);\r\n                        commit('playing', true);\r\n                    }\r\n                };\r\n                audio.onpause = () => {\r\n                    if (audio === state.audio) {\r\n                        navigator.mediaSession.playbackState = 'paused';\r\n                        dispatch('setPlatformPlaying', false);\r\n                        commit('playing', false);\r\n                    }\r\n                };\r\n            }\r\n        },\r\n        async setTrackUrl({dispatch, state, commit}, url) {\r\n            return new Promise((resolve, reject) => {\r\n                let playAfterLoad = state.playAfterLoad;\r\n                commit('playAfterLoad', false);\r\n\r\n                console.log(\" Now playing \", url)\r\n                commit('swapAudios');\r\n                state.backupAudio.pause();\r\n                state.audio.src = url;\r\n                if (playAfterLoad)\r\n                    state.audio.play();\r\n\r\n                let loadTimeout = setTimeout(() => {\r\n                    //if url doesn't load in time, go next url\r\n                    console.warn(\"Can't play\");\r\n                    resolve(false);\r\n                }, 3500);\r\n                let canplayFired = false;\r\n                state.backupAudio.oncanplay = () => 0;\r\n                state.audio.oncanplay = async () => {\r\n                    if (canplayFired)\r\n                        return;\r\n                    canplayFired = true; //Don't run this when seeking through a track, which also fires oncanplay\r\n\r\n                    clearTimeout(loadTimeout);\r\n                    resolve(true);\r\n                }\r\n            });\r\n        },\r\n        async play({state}) {\r\n            if (state.audio.paused)\r\n                await state.audio.play();\r\n        },\r\n        async pause({state}) {\r\n            if (!state.audio.paused)\r\n                await state.audio.pause();\r\n        },\r\n        async skip({state, getters, commit, dispatch}, n) {\r\n            if (n === -1 && state.currentTime > 5) {\r\n                state.audio.currentTime = 0;\r\n                return;\r\n            }\r\n\r\n            let newIndex = getters.trackIndex + n;\r\n            if (newIndex >= state.queue.length)\r\n                if (state.repeat)\r\n                    newIndex -= state.queue.length;\r\n                else\r\n                    return await dispatch('pause');\r\n            if (newIndex < 0)\r\n                if (state.repeat)\r\n                    newIndex += state.queue.length;\r\n                else\r\n                    return await dispatch('pause');\r\n\r\n            commit('playAfterLoad', true);\r\n            commit('track', {track: getters.currentQueue[newIndex]});\r\n        },\r\n        setMetadata({dispatch, getters, state, commit}, track) {\r\n            let artistsString = track.artists.map(a => a.name).join(', ');\r\n            document.title = 'Vue Music  ' + track.name + ' - ' + artistsString;\r\n\r\n            if (!('mediaSession' in navigator))\r\n                return;\r\n\r\n            let artwork = [{\r\n                src: getters.notFoundImage,\r\n                type: 'image/png',\r\n                sizes: '512x512',\r\n            }];\r\n            if (track.album.images.length > 0)\r\n                artwork = track.album.images.map(i => ({\r\n                    src: i.url,\r\n                    type: 'image/png',\r\n                    sizes: `${i.width}x${i.height}`,\r\n                }));\r\n\r\n            navigator.mediaSession.metadata = new MediaMetadata({\r\n                title: track.name,\r\n                artist: artistsString,\r\n                album: track.album.name,\r\n                artwork\r\n            });\r\n\r\n            navigator.mediaSession.setActionHandler('previoustrack', () => {\r\n                dispatch('skip', -1);\r\n            });\r\n\r\n            navigator.mediaSession.setActionHandler('nexttrack', () => {\r\n                dispatch('skip', 1);\r\n            });\r\n\r\n            let defaultSkipTime = 10;\r\n            navigator.mediaSession.setActionHandler('seekbackward', (event) => {\r\n                const skipTime = event.seekOffset || defaultSkipTime;\r\n                state.audio.currentTime = Math.max(state.audio.currentTime - skipTime, 0);\r\n            });\r\n\r\n            navigator.mediaSession.setActionHandler('seekforward', (event) => {\r\n                const skipTime = event.seekOffset || defaultSkipTime;\r\n                state.audio.currentTime = Math.min(state.audio.currentTime + skipTime, state.audio.duration);\r\n            });\r\n\r\n            navigator.mediaSession.setActionHandler('play', () => {\r\n                dispatch('play');\r\n            });\r\n\r\n            navigator.mediaSession.setActionHandler('pause', () => {\r\n                dispatch('pause');\r\n            });\r\n\r\n            try {\r\n                navigator.mediaSession.setActionHandler('stop', () => {\r\n                    dispatch('pause');\r\n                });\r\n            } catch (error) {\r\n                console.warn('Warning! The \"stop\" media session action is not supported.');\r\n            }\r\n\r\n            try {\r\n                navigator.mediaSession.setActionHandler('seekto', (event) => {\r\n                    commit('seekTo', event.seekTime / state.duration);\r\n                });\r\n            } catch (error) {\r\n                console.warn('Warning! The \"seekto\" media session action is not supported.');\r\n            }\r\n        },\r\n\r\n        playItem: async ({state, commit, dispatch}, {item, shuffle = false}) => {\r\n            let context = await dispatch('getContextItem', item);\r\n            if (!context.tracks || context.tracks.length === 0) {\r\n                return dispatch(\"addSnack\", {text: \"This item has no tracks\"});\r\n            }\r\n            let startTrack;\r\n            if (shuffle)\r\n                startTrack = context.tracks[Math.floor(Math.random() * context.tracks.length)];\r\n            else\r\n                startTrack = context.tracks[0];\r\n            if (item.type === 'track')\r\n                console.warn(\"Setting track item as context item, this should probably not happen\");\r\n\r\n            commit('playAfterLoad', true);\r\n            commit('track', {contextItem: context, track: startTrack});\r\n            commit('shuffle', shuffle);\r\n        },\r\n    },\r\n}","import Vue from 'vue'\r\n\r\nexport default {\r\n    state: {\r\n        liveTerm: '',\r\n        term: '',\r\n        results: {},\r\n        recent: localStorage.getItem('recentSearch') === null ?\r\n            [] : JSON.parse(localStorage.recentSearch),\r\n    },\r\n    mutations: {\r\n        searchTerm: (state, searchResult) => {\r\n            state.term = searchResult.term;\r\n            if (state.recent.includes(state.term))\r\n                state.recent.splice(state.recent.indexOf(state.term), 1);\r\n            state.recent = [state.term, ...state.recent.slice(0, 5)];\r\n            localStorage.recentSearch = JSON.stringify(state.recent);\r\n            Vue.set(state.results, searchResult.term, searchResult);\r\n        },\r\n        liveTerm: (state, liveTerm) => state.liveTerm = liveTerm,\r\n    },\r\n    getters: {},\r\n    actions: {\r\n        search: async ({state, commit, rootState}, term) => {\r\n            let result = await rootState.api.search(term, ['album', 'artist', 'playlist', 'track']);\r\n            commit('searchTerm', {\r\n                term,\r\n                albums: result.albums.items,\r\n                artists: result.artists.items,\r\n                playlists: result.playlists.items,\r\n                tracks: result.tracks.items,\r\n            });\r\n        },\r\n    }\r\n}","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport SpotifyWebApi from 'spotify-web-api-js';\r\nimport media from './media-module';\r\nimport search from './search-module';\r\nimport EventEmitter from 'events';\r\nimport Utils from \"../../js/Utils\";\r\n\r\nlet isElectron = window && window.process !== undefined && window.process.type !== undefined;\r\nconsole.log(\"is electron?\", isElectron);\r\nconst platform = require(isElectron ? './electron-module' : './web-module').default;\r\n\r\nif (document.querySelectorAll(`head link[rel='manifest']`).length === 0) {\r\n    let manifestLink = document.createElement('link');\r\n    manifestLink.setAttribute('rel', 'manifest');\r\n    manifestLink.setAttribute('href', './manifest.json');\r\n    document.querySelector('head').appendChild(manifestLink);\r\n}\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n    state: {\r\n        spotifyId: 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',\r\n        spotifySecret: 'bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb',\r\n        youtubeKey: 'cccccccccccc-dddddddddddddddddddddddddd',\r\n        requestedScopes: \"ugc-image-upload user-read-email user-read-private playlist-read-collaborative playlist-modify-public playlist-read-private playlist-modify-private user-library-modify user-library-read user-top-read user-read-recently-played user-follow-read user-follow-modify\",\r\n        authUrl: 'https://accounts.spotify.com/',\r\n\r\n        isTouch: Utils.isTouchDevice(),\r\n        dontCache: false,\r\n        events: new EventEmitter(),\r\n        windowWidth: window.innerWidth,\r\n        timeout: -1,\r\n        snackbars: [],\r\n        api: new SpotifyWebApi(),\r\n        isRefreshing: {\r\n            playlist: false,\r\n            album: false,\r\n            artist: false,\r\n            track: false,\r\n        },\r\n        auth: {\r\n            code: null,\r\n            token: null,\r\n            refresh: null,\r\n            expiryDate: null,\r\n        },\r\n        homePage: {\r\n            featured: {title: '', playlists: []},\r\n            newReleases: [],\r\n            personalized: [],\r\n        },\r\n        browse: {\r\n            categories: [],\r\n            genres: [],\r\n        },\r\n        userInfo: {\r\n            id: '',\r\n            name: '',\r\n            mail: '',\r\n            country: '',\r\n            followers: 0,\r\n            avatar: 'img/no-user.jpg',\r\n        },\r\n        library: {\r\n            playlists: [],\r\n            artists: [],\r\n            albums: [],\r\n            tracks: [],\r\n        },\r\n        playlist: {},\r\n        album: {},\r\n        artist: {},\r\n        category: {},\r\n        user: {},\r\n\r\n        ...(localStorage.getItem('stateCache') === null ? {} : JSON.parse(localStorage.stateCache)),\r\n    },\r\n    mutations: {\r\n        spotifyId: (state, id) => {\r\n            state.spotifyId = id\r\n        },\r\n        spotifySecret: (state, secret) => {\r\n            state.spotifySecret = secret\r\n        },\r\n        youtubeKey: (state, key) => {\r\n            state.youtubeKey = key;\r\n            state.platform.downloader.apiKey = key;\r\n        },\r\n\r\n        cacheState: state => {\r\n            let cachedFields = [\"auth\", \"homePage\", \"browse\", \"userInfo\", \"library\", \"playlist\",\r\n                \"album\", \"artist\", \"category\", \"user\", \"spotifyId\", \"spotifySecret\", \"youtubeKey\"];\r\n            let cache = {};\r\n            for (let field of cachedFields) {\r\n                if (field === 'library') {\r\n                    let lib = state[field];\r\n                    lib.tracks = lib.tracks.map(Utils.reduceTrackSize);\r\n                    cache[field] = lib;\r\n                } else {\r\n                    cache[field] = state[field];\r\n                }\r\n            }\r\n            localStorage.stateCache = JSON.stringify(cache);\r\n\r\n            console.log(\"State cache complete\");\r\n        },\r\n        clearCache: state => {\r\n            state.dontCache = true;\r\n            localStorage.clear();\r\n            location.reload();\r\n        },\r\n        addSnackObject: (state, snack) => state.snackbars.push(snack),\r\n        removeSnack: (state, snack) => state.snackbars.splice(state.snackbars.indexOf(snack), 1),\r\n\r\n        loadCategory: (state, {id, category}) => Vue.set(state.category, id, category),\r\n        extendCategory: (state, {id, playlists}) => state.category[id].playlists.push(...playlists),\r\n        loadPlaylist: (state, {id, playlist}) => Vue.set(state.playlist, id, playlist),\r\n        extendPlaylist: (state, {id, tracks}) => state.playlist[id].tracks.push(...tracks),\r\n        loadAlbum: (state, {id, album}) => Vue.set(state.album, id, album),\r\n        extendAlbum: (state, {id, tracks}) => state.album[id].tracks.push(...tracks),\r\n        loadInitialArtist: (state, {id, artist}) => Vue.set(state.artist, id, {\r\n            artist,\r\n            related: [],\r\n            tracks: [],\r\n            albums: {},\r\n        }),\r\n        loadArtist: (state, {id, artist}) => state.artist[id].artist = artist,\r\n        loadArtistRelated: (state, {id, related}) => state.artist[id].related = related,\r\n        loadArtistTracks: (state, {id, tracks}) => state.artist[id].tracks = tracks,\r\n        loadArtistAlbums: (state, {id, albums}) => state.artist[id].albums = albums,\r\n        loadUser: (state, {id, user}) => Vue.set(state.user, id, user),\r\n        extendUser: (state, {id, playlists}) => state.user[id].playlists.push(...playlists),\r\n\r\n        browseCategories: (state, categories) => state.browse.categories = categories,\r\n        browseGenres: (state, genres) => state.browse.genres = genres,\r\n\r\n        homeFeatured: (state, featured) => state.homePage.featured = featured,\r\n        homeRecent: (state, recent) => state.homePage.recent = recent,\r\n        homeNew: (state, newReleases) => state.homePage.newReleases = newReleases,\r\n        homePersonalized: (state, personalized) => state.homePage.personalized = personalized,\r\n\r\n        isRefreshing: (state, {type, value}) => state.isRefreshing[type] = value,\r\n        addUserPlaylist: (state, playlist) => state.library.playlists.push(playlist),\r\n        userPlaylists: (state, playlists) => state.library.playlists = playlists,\r\n\r\n        addToLibrary: (state, {type, item, addAtStart = false}) => state.library[type + 's'][addAtStart ? 'unshift' : 'push'](item),\r\n        removeFromLibrary: (state, {type, id}) => {\r\n            let index = state.library[type + 's'].findIndex(i => i.id === id)\r\n            if (index !== -1)\r\n                state.library[type + 's'].splice(index, 1)\r\n        },\r\n        setLibrary: (state, {type, items}) => state.library[type + 's'] = items,\r\n        userInfo: (state, userInfo) => state.userInfo = userInfo,\r\n\r\n        timeout: (state, id) => state.timeout = id,\r\n        windowWidth: (state, windowWidth) => state.windowWidth = windowWidth,\r\n        server: (state, server) => state.server = server,\r\n        auth: (state, auth) => state.auth = auth,\r\n    },\r\n    getters: {\r\n        isValidKeySet: () => ({spotifyId, spotifySecret, youtubeKey}) =>\r\n            spotifyId !== \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\" &&\r\n            spotifySecret !== \"bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb\" &&\r\n            youtubeKey !== \"cccccccccccc-dddddddddddddddddddddddddd\" &&\r\n            spotifyId.length === 32 &&\r\n            spotifySecret.length === 32 &&\r\n            youtubeKey.length === 39 &&\r\n            youtubeKey.indexOf('-') === 12,\r\n        isKeySet: (state, getters) => getters.isValidKeySet({...state}),\r\n\r\n        notFoundUser: () => {\r\n            let i = Math.floor(Math.random() * 7) + 1;\r\n            return `img/user/${i}.png`;\r\n        },\r\n        notFoundImage: () => {\r\n            let i = Math.floor(Math.random() * 7) + 1;\r\n            return `img/notfound/${i}.png`;\r\n        },\r\n        likedImage: () => {\r\n            let i = Math.floor(Math.random() * 7) + 1;\r\n            return `img/liked/${i}.png`;\r\n        },\r\n        itemImage: (state, getters) => item => {\r\n            let type = item.type || 'category';\r\n            if (type === 'category') {\r\n                if (item.icons.length > 0)\r\n                    return item.icons[0].url;\r\n                else\r\n                    return getters.notFoundImage;\r\n            } else if (type === 'track') {\r\n                if (item.album && item.album.images && item.album.images.length > 0)\r\n                    return item.album.images[0].url;\r\n                else\r\n                    return getters.notFoundImage;\r\n            } else if (type === 'search') {\r\n                console.warn(\"Tried getting image for search\");\r\n                return '';\r\n            } else if (type === 'radio') {\r\n                console.warn(\"Tried getting image for radio\");\r\n                return '';\r\n            } else if (type === 'liked') {\r\n                return getters.likedImage;\r\n            } else {\r\n                if (item.images.length > 0)\r\n                    return item.images[0].url;\r\n                else\r\n                    return type === 'user' ? getters.notFoundUser : getters.notFoundImage;\r\n            }\r\n        },\r\n        isLoggedIn: state => {\r\n            return state.auth.code !== null &&\r\n                state.auth.token !== null &&\r\n                state.auth.refresh !== null &&\r\n                state.auth.expiryDate !== null;\r\n        },\r\n        isAuthExpired: (state, getters) => {\r\n            if (!getters.isLoggedIn) {\r\n                console.warn(\"Auth expiry check warning: User is not logged in\");\r\n                return true;\r\n            }\r\n            return new Date > state.auth.expiryDate;\r\n        },\r\n        urlName: () => name => {\r\n            return encodeURIComponent(name.toLowerCase().replace(/ /gi, '-').slice(0, 36));\r\n        },\r\n        relativeItemUrl: (state, getters) => item => {\r\n            let type = item.type || 'category';\r\n            let name = type === 'user' ? item.display_name : item.name;\r\n            if (type === 'category')\r\n                return `${type}/${item.id}`;\r\n            if (type === 'radio')\r\n                return null;\r\n            if (type === 'search')\r\n                return item.to;\r\n            if (type === 'liked')\r\n                return '/library/tracks';\r\n            return `/${type}/${getters.urlName(name)}/${item.id}`;\r\n        },\r\n        shareUrl: (state, getters) => item => {\r\n            let baseUrl = state.platform.type === 'web' ?\r\n                `${location.origin}${location.pathname}` :\r\n                'https://ruurd.dev/vuemusic/';\r\n            return `${baseUrl}#${getters.relativeItemUrl(item)}`;\r\n        },\r\n        isArtistFollowed: state => artist => state.library.artists.find(a => a.id === artist.id),\r\n        isTrackFollowed: state => track => state.library.tracks.find(a => a.id === track.id),\r\n        isPlaylistFollowed: state => playlist => state.library.playlists.find(a => a.id === playlist.id),\r\n        isAlbumFollowed: state => album => state.library.albums.find(a => a.id === album.id),\r\n    },\r\n    actions: {\r\n        initialize: async ({commit, state, dispatch}) => {\r\n            state.platform.downloader.apiKey = state.youtubeKey;\r\n            await dispatch('processAuth');\r\n            await dispatch('initializeMedia');\r\n            await dispatch('initializePlatform');\r\n        },\r\n\r\n        cacheAll: async ({commit, dispatch}) => {\r\n            commit('cacheState');\r\n            commit('cacheMedia');\r\n            await dispatch('exportCache');\r\n        },\r\n        cacheState: async ({commit, dispatch}) => {\r\n            commit('cacheState');\r\n            await dispatch('exportCache');\r\n        },\r\n\r\n        getAuthByRefreshToken: async ({state}, refreshToken) => {\r\n            console.log('Refresh using refreshToken', refreshToken);\r\n            let result = await (await fetch('https://accounts.spotify.com/api/token', {\r\n                method: 'post',\r\n                body: `grant_type=refresh_token&refresh_token=${refreshToken}&client_id=${state.spotifyId}&client_secret=${state.spotifySecret}`,\r\n                headers: {'Content-Type': 'application/x-www-form-urlencoded',}\r\n            })).text();\r\n            try {\r\n                return JSON.parse(result);\r\n            } catch (e) {\r\n                console.log(\"Error\", e.message, \"result = \", result);\r\n            }\r\n        },\r\n        getAuthByCode: async ({state}, {redirectUrl, code}) => {\r\n            console.log('Getting auth using code', {redirectUrl, code});\r\n            let result = await (await fetch(`${state.authUrl}api/token`, {\r\n                method: 'post',\r\n                body: `grant_type=authorization_code&code=${code}&redirect_uri=${redirectUrl}&client_id=` +\r\n                    `${state.spotifyId}&client_secret=${state.spotifySecret}`,\r\n                headers: {'Content-Type': 'application/x-www-form-urlencoded',}\r\n            })).text();\r\n            try {\r\n                console.log(result);\r\n                return JSON.parse(result);\r\n            } catch (e) {\r\n                console.log(\"Error\", e.message, \"t = \", result);\r\n            }\r\n        },\r\n\r\n        spotifyLogin: async ({dispatch, commit}) => {\r\n            let auth = await dispatch('firstLogin');\r\n            console.log(\"Auth result from 'firstLogin'\", auth);\r\n            commit('auth', auth);\r\n            await dispatch('cacheState');\r\n            await dispatch('processAuth');\r\n        },\r\n        loginByRefreshToken: async ({state, dispatch, commit}) => {\r\n            if (!state.auth.refresh) {\r\n                console.warn(\"Couldn't get new token, refresh token isn't set\", state.auth);\r\n                return;\r\n            }\r\n            let {access_token, expires_in} = await dispatch('getAuthByRefreshToken', state.auth.refresh);\r\n            let auth = {...state.auth};\r\n            auth.token = access_token;\r\n            auth.expiryDate = (+new Date) + expires_in * 1000;\r\n            commit('auth', auth);\r\n            await dispatch('cacheState');\r\n            await dispatch('processAuth');\r\n        },\r\n        spotifyLogout: async ({state, commit, dispatch}) => {\r\n            commit('auth', {\r\n                code: null,\r\n                token: null,\r\n                refresh: null,\r\n                expiryDate: null,\r\n            });\r\n            commit('userInfo', {\r\n                id: '',\r\n                name: '',\r\n                mail: '',\r\n                country: '',\r\n                followers: 0,\r\n                avatar: 'img/no-user.jpg',\r\n            });\r\n            await dispatch('cacheState');\r\n            clearTimeout(state.timeout);\r\n        },\r\n        addSnack: async ({state, commit}, {text, timeout = 3000}) => {\r\n            let snack = {text, open: true, timeout};\r\n            commit('addSnackObject', snack);\r\n            return new Promise(resolve => {\r\n                setTimeout(() => {\r\n                    commit('removeSnack', snack);\r\n                    resolve();\r\n                }, timeout + 500);\r\n            });\r\n        },\r\n        share: async ({dispatch, getters}, {item, copy}) => {\r\n            let url = getters.shareUrl(item);\r\n            if (navigator.share instanceof Function) {\r\n                let type = item.type ?? 'category';\r\n                try {\r\n                    await navigator.share({\r\n                        title: type.substr(0, 1).toUpperCase() + type.substr(1),\r\n                        text: item.name ?? item.display_name,\r\n                        url,\r\n                    });\r\n                } catch (e) {\r\n                    console.warn(e)\r\n                }\r\n            } else {\r\n                await copy(url);\r\n                await dispatch('addSnack', {text: 'Share URL copied to clipboard!'});\r\n            }\r\n        },\r\n        processAuth: async ({dispatch, commit, state}) => {\r\n            let now = new Date();\r\n            if (state.auth.expiryDate > now) {\r\n                state.api.setAccessToken(state.auth.token);\r\n                state.events.emit('accessToken');\r\n\r\n                let msUntilExpire = state.auth.expiryDate - now;\r\n                await dispatch('initializeSpotify');\r\n                commit('timeout', setTimeout(async () => {\r\n                    await dispatch('loginByRefreshToken');\r\n                }, msUntilExpire - 1000 * 60 * 5));\r\n            } else {\r\n                console.warn(\"Auth has expired, getting new token\");\r\n                //auth is expired\r\n                await dispatch('loginByRefreshToken');\r\n            }\r\n        },\r\n        waitFor: async ({state}, event) => {\r\n            return new Promise(resolve => {\r\n                state.events.on(event, resolve);\r\n            });\r\n        },\r\n        awaitAuth: async ({dispatch, commit, state}) => {\r\n            if (state.api.getAccessToken() !== null)\r\n                return;\r\n            return await dispatch('waitFor', 'accessToken');\r\n        },\r\n        findPagination: ({}, object) => {\r\n            if (object === null)\r\n                return false;\r\n\r\n            let getKeyPath;\r\n            getKeyPath = ({keys: keyPath = [], o}) => {\r\n                if (o !== null && o.hasOwnProperty('next') && o.hasOwnProperty('items'))\r\n                    return [true, keyPath];\r\n                if (typeof o !== 'object' || o === null)\r\n                    return [false, keyPath.slice(0, -1)];\r\n\r\n                for (let key in o) {\r\n                    if (!o.hasOwnProperty(key))\r\n                        continue;\r\n                    let result;\r\n                    [result, keyPath] = getKeyPath({keys: keyPath.concat(key), o: o[key]});\r\n                    if (result)\r\n                        return [true, keyPath];\r\n                }\r\n                return [false, keyPath.slice(0, -1)];\r\n            }\r\n\r\n            let [success, keyPath] = getKeyPath({o: object});\r\n\r\n            if (!success)\r\n                return false;\r\n            return r => {\r\n                for (let key of keyPath)\r\n                    r = r[key];\r\n                return r;\r\n            }\r\n        },\r\n        async * retrieveSpotifyArray({state, dispatch}, apiFunction) {\r\n            let getData = () => apiFunction()\r\n\r\n            while (true) {\r\n                let result = await getData();\r\n                let pageObject = await dispatch('findPagination', result);\r\n\r\n                if (result !== null)\r\n                    yield result;\r\n\r\n                if (result === null || pageObject === false || pageObject(result).next === null)\r\n                    break;\r\n\r\n                let nextUrl = pageObject(result).next;\r\n                if (nextUrl === undefined)\r\n                    console.warn(\"next url is undefined\");\r\n\r\n                getData = () => state.api.getGeneric(nextUrl);\r\n            }\r\n        },\r\n        initializeSpotify: async ({state, commit, dispatch}) => {\r\n            await dispatch('refreshUserInfo');\r\n            let doneCount = 0;\r\n            let libLoaded = state.library.tracks.length !== 0;\r\n            let checkDone = async () => {\r\n                doneCount++;\r\n                if (doneCount === (libLoaded ? 3 : 4)) {\r\n                    await dispatch('cacheState');\r\n                }\r\n            }\r\n            dispatch('refreshUserData').then(checkDone);\r\n            dispatch('refreshUserData', 'artist').then(checkDone);\r\n            dispatch('refreshUserData', 'album').then(checkDone);\r\n            if (!libLoaded) {\r\n                dispatch('refreshUserData', 'track').then(checkDone);\r\n            }\r\n        },\r\n        refreshUserInfo: async ({commit, state, getters}) => {\r\n            let me = await state.api.getMe();\r\n            commit('userInfo', {\r\n                id: me.id,\r\n                name: me.display_name,\r\n                mail: me.email,\r\n                country: me.country,\r\n                followers: me.followers,\r\n                avatar: me.images.length === 0 ? getters.notFoundUser : me.images[0].url,\r\n            });\r\n        },\r\n        refreshUserData: async ({commit, state, dispatch}, type = 'playlist') => {\r\n            if (!['playlist', 'album', 'track', 'artist'].includes(type))\r\n                console.warn(\"Wrong type set for refreshUserData!\");\r\n\r\n            if (state.isRefreshing[type]) {\r\n                console.info(\"This library type is already refreshing, waiting for that to finish\");\r\n                await dispatch('waitFor', 'refreshed' + type);\r\n                return;\r\n            }\r\n            await dispatch('awaitAuth');\r\n            commit('isRefreshing', {type, value: true});\r\n\r\n            let isInitial = state.library[type + 's'].length === 0;\r\n\r\n            if (state.userInfo.id === '')\r\n                await dispatch('refreshUserInfo');\r\n\r\n            let retrieval, page = r => r;\r\n            switch (type) {\r\n                case 'playlist':\r\n                    retrieval = () => state.api.getUserPlaylists(state.userInfo.id, {limit: 50});\r\n                    break;\r\n                case 'album':\r\n                    retrieval = () => state.api.getMySavedAlbums();\r\n                    break;\r\n                case 'artist':\r\n                    retrieval = () => state.api.getFollowedArtists();\r\n                    page = r => r.artists;\r\n                    break;\r\n                case 'track':\r\n                    retrieval = () => state.api.getMySavedTracks({limit: 50});\r\n                    break;\r\n            }\r\n\r\n            let items = [];\r\n            let addToLib = item => {\r\n                if (isInitial)\r\n                    commit('addToLibrary', {type, item});\r\n                else items.push(item);\r\n            }\r\n\r\n            for await(let batch of await dispatch('retrieveSpotifyArray', retrieval)) {\r\n                for (let item of page(batch).items) {\r\n                    if (type === 'track')\r\n                        addToLib(item.track);\r\n                    else if (type === 'album')\r\n                        addToLib(item.album);\r\n                    else\r\n                        addToLib(item);\r\n                }\r\n            }\r\n            if (!isInitial)\r\n                commit('setLibrary', {type, items});\r\n\r\n            state.events.emit('refreshed' + type);\r\n            commit('isRefreshing', {type, value: false});\r\n        },\r\n        refreshHomePage: async ({commit, state, dispatch}) => {\r\n            await dispatch('awaitAuth');\r\n\r\n            //Featured playlists\r\n            let featured = await state.api.getFeaturedPlaylists({limit: 50});\r\n            commit('homeFeatured', {\r\n                title: featured.message,\r\n                playlists: featured.playlists.items,\r\n            });\r\n\r\n            //Personalized playlists\r\n            let personalized;\r\n            if (state.library.playlists.length === 0) {\r\n                await dispatch('refreshUserData');\r\n            }\r\n            const discoverNames = ['Discover Weekly', 'Release Radar', ...[...Array(10)].map((_, i) => 'Daily Mix ' + (i + 1))];\r\n\r\n            personalized = state.library.playlists.filter(playlist => discoverNames\r\n                    .findIndex(name => playlist.name.includes(name)) !== -1 &&\r\n                playlist.owner.display_name === 'Spotify'\r\n            );\r\n            personalized.sort((a, b) => {\r\n                let aI = discoverNames.findIndex(name => a.name.includes(name));\r\n                let bI = discoverNames.findIndex(name => b.name.includes(name));\r\n                return aI - bI;\r\n            });\r\n            if (personalized.length > 0) {\r\n                commit('homePersonalized', personalized);\r\n            }\r\n\r\n            //New releases\r\n            let newReleases = await state.api.getNewReleases({limit: 50});\r\n            commit('homeNew', newReleases.albums.items);\r\n\r\n            //Recently played playlists or albums\r\n            if (localStorage.getItem('recentlyPlayed') !== null)\r\n                commit('homeRecent', JSON.parse(localStorage.recentlyPlayed));\r\n        },\r\n        refreshBrowsePage: async ({dispatch, commit, state}) => {\r\n            await dispatch('awaitAuth');\r\n\r\n            state.api.getCategories({limit: 50})\r\n                .then(c => commit('browseCategories', c.categories.items));\r\n            state.api.getAvailableGenreSeeds().then(g => {\r\n                commit('browseGenres', g.genres.map(genre =>\r\n                    genre.split('-')\r\n                        .map(w => w\r\n                                .substr(0, 1)\r\n                                .toUpperCase() +\r\n                            w.substr(1))\r\n                        .join(' ')\r\n                ));\r\n            });\r\n        },\r\n        loadPlaylist: async ({dispatch, commit, state}, id) => {\r\n            await dispatch('awaitAuth');\r\n\r\n            let retrieval = () => state.api.getPlaylist(id);\r\n            for await(let batch of await dispatch('retrieveSpotifyArray', retrieval)) {\r\n                if (batch.items) {\r\n                    commit('extendPlaylist', {\r\n                        id, tracks: batch.items\r\n                            .map(t => t.track)\r\n                            .filter(t => t !== null)\r\n                    });\r\n                } else {\r\n                    commit('loadPlaylist', {\r\n                        id, playlist: {\r\n                            ...batch, tracks: batch.tracks.items\r\n                                .map(t => t.track)\r\n                                .filter(t => t !== null)\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        },\r\n        loadAlbum: async ({dispatch, commit, state}, id) => {\r\n            await dispatch('awaitAuth');\r\n            let retrieval = () => state.api.getAlbum(id);\r\n            for await(let batch of await dispatch('retrieveSpotifyArray', retrieval)) {\r\n                if (batch.items) {\r\n                    batch.items.forEach(i => i.album = {\r\n                        images: state.album[id].images,\r\n                        name: state.album[id].name,\r\n                        id: state.album[id].id,\r\n                    });\r\n                    commit('extendAlbum', {id, tracks: batch.items});\r\n                } else {\r\n                    let album = {...batch};\r\n                    album.tracks = album.tracks.items;\r\n                    album.tracks.forEach(i => i.album = {\r\n                        images: album.images,\r\n                        name: album.name,\r\n                        id: album.id,\r\n                    });\r\n                    commit('loadAlbum', {id, album});\r\n                }\r\n            }\r\n        },\r\n        loadCategory: async ({state, commit, dispatch}, id) => {\r\n            await dispatch('awaitAuth');\r\n            if (!state.category.hasOwnProperty(id)) {\r\n                let category = {playlists: [], ...(await state.api.getCategory(id))};\r\n                commit('loadCategory', {id, category});\r\n            }\r\n\r\n            let retrieval = () => state.api.getCategoryPlaylists(id);\r\n            for await(let batch of await dispatch('retrieveSpotifyArray', retrieval)) {\r\n                if (batch.playlists) {\r\n                    commit('extendCategory', {id, playlists: batch.playlists.items});\r\n                } else {\r\n                    commit('extendCategory', {id, playlists: batch.items});\r\n                }\r\n            }\r\n        },\r\n        loadArtist: async ({dispatch, commit, state}, id) => {\r\n            await dispatch('awaitAuth');\r\n            let isInitial = !state.artist.hasOwnProperty(id);\r\n\r\n            let artist = await state.api.getArtist(id);\r\n            if (isInitial)\r\n                commit('loadInitialArtist', {id, artist});\r\n            else\r\n                commit('loadArtist', {id, artist});\r\n\r\n            state.api.getArtistRelatedArtists(id).then(related => {\r\n                commit('loadArtistRelated', {id, related: related.artists});\r\n            });\r\n\r\n            state.api.getArtistTopTracks(id, 'from_token').then(tracks => {\r\n                commit('loadArtistTracks', {id, tracks: tracks.tracks});\r\n            });\r\n\r\n            let retrieval = () => state.api.getArtistAlbums(id);\r\n            let albums = []\r\n            for await(let batch of await dispatch('retrieveSpotifyArray', retrieval)) {\r\n                albums.push(...batch.items);\r\n            }\r\n            commit('loadArtistAlbums', {id, albums});\r\n        },\r\n        loadUser: async ({dispatch, commit, state}, id) => {\r\n            await dispatch('awaitAuth');\r\n            let isInitial = state.user[id] === undefined;\r\n            let user = await state.api.getUser(id);\r\n\r\n            if (isInitial)\r\n                commit('loadUser', {id, user: {...user, playlists: []}});\r\n            let playlists = (await state.api.getUserPlaylists(id, {limit: 50})).items;\r\n            if (isInitial)\r\n                commit('extendUser', {id, playlists});\r\n            else\r\n                commit('loadUser', {id, user: {...user, playlists}});\r\n        },\r\n        loadTrack: async ({state, dispatch}, id) => {\r\n            await dispatch('awaitAuth');\r\n            return await state.api.getTrack(id);\r\n        },\r\n        followPlaylist: async ({state, dispatch}, playlist) => {\r\n            await state.api.followPlaylist(playlist.id);\r\n            await dispatch('refreshUserData', 'playlist');\r\n        },\r\n        unfollowPlaylist: async ({state, dispatch}, playlist) => {\r\n            await state.api.unfollowPlaylist(playlist.id);\r\n            await dispatch('refreshUserData', 'playlist');\r\n            await dispatch('loadUser', state.userInfo.id);\r\n        },\r\n        followArtist: async ({state, dispatch}, artist) => {\r\n            await state.api.followArtists([artist.id]);\r\n            await dispatch('refreshUserData', 'artist');\r\n        },\r\n        unfollowArtist: async ({state, dispatch}, artist) => {\r\n            await state.api.unfollowArtists([artist.id]);\r\n            await dispatch('refreshUserData', 'artist');\r\n        },\r\n        followAlbum: async ({state, dispatch}, album) => {\r\n            await state.api.addToMySavedAlbums([album.id]);\r\n            await dispatch('refreshUserData', 'album');\r\n        },\r\n        unfollowAlbum: async ({state, dispatch}, album) => {\r\n            await state.api.removeFromMySavedAlbums([album.id]);\r\n            await dispatch('refreshUserData', 'album');\r\n        },\r\n        toggleFollowCurrentTrack: async ({state, dispatch}) => {\r\n            let track = state.media.track;\r\n            if (track === null) return;\r\n\r\n            let [saved] = await state.api.containsMySavedTracks([track.id]);\r\n            if (saved)\r\n                await dispatch('unfollowTrack', track);\r\n            else\r\n                await dispatch('followTrack', track);\r\n            return !saved;\r\n        },\r\n        followTrack: async ({state, dispatch, commit}, track) => {\r\n            await state.api.addToMySavedTracks([track.id]);\r\n            commit('addToLibrary', {type: 'track', item: track, addAtStart: true});\r\n        },\r\n        unfollowTrack: async ({state, dispatch, commit}, track) => {\r\n            await state.api.removeFromMySavedTracks([track.id]);\r\n            commit('removeFromLibrary', {type: 'track', id: track.id});\r\n        },\r\n        addToPlaylist: async ({state, dispatch}, {track, playlist}) => {\r\n            await dispatch('loadPlaylist', playlist.id);\r\n            let existingTracks = state.playlist[playlist.id].tracks;\r\n\r\n            if (existingTracks.findIndex(t => t.id === track.id) !== -1) {\r\n                dispatch('addSnack', {text: 'Track is already in playlist'}).then();\r\n                return;\r\n            }\r\n            try {\r\n                await state.api.addTracksToPlaylist(playlist.id, [track.uri]);\r\n                await dispatch('loadPlaylist', playlist.id);\r\n                dispatch('addSnack', {text: 'Added to playlist!'}).then();\r\n            } catch (e) {\r\n                console.warn(e);\r\n                dispatch('addSnack', {text: 'Could not add track to this playlist'}).then();\r\n            }\r\n        },\r\n        removeFromPlaylist: async ({state, dispatch}, {track, playlist}) => {\r\n            try {\r\n                await state.api.removeTracksFromPlaylist(playlist.id, [track.uri]);\r\n                await dispatch('loadPlaylist', playlist.id);\r\n            } catch (e) {\r\n                console.warn(e);\r\n                dispatch('addSnack', {text: 'Could not remove track from this playlist'}).then();\r\n            }\r\n        },\r\n        createPlaylist: async ({state, dispatch, commit}, name) => {\r\n            let playlist = await state.api.createPlaylist(state.userInfo.id, {name});\r\n            await dispatch('loadPlaylist', playlist.id);\r\n            await dispatch('refreshUserData', 'playlist');\r\n            return state.playlist[playlist.id];\r\n        },\r\n        getRadioTracks: async ({state, dispatch}, options) => {\r\n            let firstTrack = null;\r\n            let keys = Object.keys(options);\r\n            if (keys.length === 1 && keys[0] === 'seed_tracks') {\r\n                let tracks = options['seed_tracks'].split(',');\r\n                if (tracks.length === 1)\r\n                    firstTrack = await dispatch('loadTrack', tracks[0]);\r\n            }\r\n            options.limit = firstTrack ? 99 : 100;\r\n            let radioTracks = (await state.api.getRecommendations(options)).tracks;\r\n            if (firstTrack)\r\n                return [firstTrack, ...radioTracks];\r\n            return radioTracks;\r\n        },\r\n        getItem: async ({state, dispatch}, item) => {\r\n            let type = item.type || 'category';\r\n            if (item.tracks && item.tracks.length > 0)\r\n                return item;\r\n            if (!state[type][item.id]) {\r\n                await dispatch('load' + type[0].toUpperCase() + type.slice(1), item.id);\r\n            }\r\n            return state[type][item.id];\r\n        },\r\n        getContextItem: async ({state, dispatch}, item) => {\r\n            if (item.type === 'track') {\r\n                return {...item, tracks: [item]};\r\n            }\r\n            if (item.tracks && item.tracks.length > 0)\r\n                return item;\r\n            let completeItem = await dispatch('getItem', item);\r\n            let type = item.type || 'category';\r\n            if (type === 'category') {\r\n                let randomPlaylist = completeItem.playlists[Math.floor(Math.random() * completeItem.playlists.length)];\r\n                return await dispatch('getContextItem', randomPlaylist);\r\n            }\r\n            if (type === 'artist') {\r\n                return {...completeItem.artist, tracks: completeItem.tracks};\r\n            }\r\n            return completeItem;\r\n        },\r\n    },\r\n    modules: {platform, media, search}\r\n})\r\n","import Vue from 'vue';\r\nimport Vuetify from 'vuetify/lib';\r\n\r\nVue.use(Vuetify);\r\n\r\nexport default new Vuetify({\r\n    theme: {\r\n        dark: localStorage.darkTheme === 'true',\r\n        themes: {\r\n            dark: {\r\n                primary: '#ef2d46',\r\n                foreground: '#ffffff',\r\n                primarySeek: '#c9c9c9',\r\n                navBackground: '#1b1b1c',\r\n                primaryLight: '#2a2a2b',\r\n                secondary: '#de901a',\r\n            },\r\n            light: {\r\n                primary: '#e7474c',\r\n                foreground: '#1a1a1a',\r\n                primarySeek: '#e7474c',\r\n                navBackground: '#ffffff',\r\n                primaryLight: '#f1efef',\r\n                secondary: '#ffcf84',\r\n            },\r\n        },\r\n    }\r\n});\r\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport './registerServiceWorker'\r\nimport router from './plugins/router'\r\nimport store from './plugins/vuex/store'\r\nimport vuetify from './plugins/vuetify';\r\n\r\nimport PerfectScrollbar from 'vue2-perfect-scrollbar'\r\nimport 'vue2-perfect-scrollbar/dist/vue2-perfect-scrollbar.css'\r\n\r\nVue.use(PerfectScrollbar)\r\n\r\nimport {RecycleScroller} from 'vue-virtual-scroller';\r\n\r\nVue.component('RecycleScroller', RecycleScroller);\r\nimport 'vue-virtual-scroller/dist/vue-virtual-scroller.css';\r\n\r\n\r\nimport VueClipboard from 'vue-clipboard2'\r\n\r\nVue.use(VueClipboard)\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n    router,\r\n    store,\r\n    vuetify,\r\n    render: h => h(App)\r\n}).$mount('#app')\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaSeek.vue?vue&type=style&index=0&id=5dfc6138&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaSeek.vue?vue&type=style&index=0&id=5dfc6138&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-lazy',{staticClass:\"item-square\",attrs:{\"width\":(_vm.big ? 240 : _vm.small ? 80 : 180),\"min-height\":_vm.big ? 240 : _vm.small ? 80 : 180}},[_c('router-link',{attrs:{\"tag\":\"span\",\"to\":_vm.$store.getters.relativeItemUrl(_vm.item)}},[_c('div',{staticClass:\"image\",class:{big: _vm.big, small: _vm.small},style:({\n                backgroundImage: (\"url(\" + (_vm.$store.getters.itemImage(_vm.item)) + \")\"),\n                borderRadius: _vm.type === 'artist' ? '50%' : '5px',\n             })}),_c('div',{staticClass:\"play-button\",class:{big: _vm.big, small: _vm.small},style:({\n                borderRadius: _vm.type === 'artist' ? '50%' : '5px',\n             })},[(!_vm.itemIsPlaying && !_vm.$store.state.isTouch)?_c('v-btn',{attrs:{\"loading\":_vm.playLoading,\"fab\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.play}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-play\")])],1):(!_vm.$store.state.isTouch)?_c('v-btn',{attrs:{\"loading\":_vm.playLoading,\"fab\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.pause}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-pause\")])],1):_vm._e(),(!_vm.hideMenu && !_vm.$store.state.isTouch)?_c('item-menu',{attrs:{\"color\":_vm.type==='artist' ? 'default' : 'white',\"fab\":_vm.type==='artist',\"item\":_vm.item}}):_vm._e()],1),(!_vm.noTitle)?_c('div',{staticClass:\"text\",class:{big: _vm.big,small: _vm.small},style:({textAlign: _vm.type==='artist'?'center':'left'})},[_c('p',{staticClass:\"preview-title\"},[_vm._v(_vm._s(_vm.item.name))]),(_vm.item.hasOwnProperty('description'))?_c('p',{staticClass:\"preview-description\",attrs:{\"title\":_vm.item.description},domProps:{\"innerHTML\":_vm._s(_vm.item.description)}}):_vm._e(),(_vm.showYear)?_c('p',{staticClass:\"preview-year\"},[_vm._v(_vm._s(new Date(_vm.item.release_date).getFullYear()))]):_vm._e()]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-lazy class=\"item-square\" :width=\"(big ? 240 : small ? 80 : 180)\" :min-height=\"big ? 240 : small ? 80 : 180\">\r\n        <router-link tag=\"span\" :to=\"$store.getters.relativeItemUrl(item)\">\r\n            <div class=\"image\" :class=\"{big, small}\"\r\n                 :style=\"{\r\n                    backgroundImage: `url(${$store.getters.itemImage(item)})`,\r\n                    borderRadius: type === 'artist' ? '50%' : '5px',\r\n                 }\">\r\n            </div>\r\n            <div class=\"play-button\" :class=\"{big, small}\"\r\n                 :style=\"{\r\n                    borderRadius: type === 'artist' ? '50%' : '5px',\r\n                 }\">\r\n                <v-btn :loading=\"playLoading\" fab small color=\"primary\" @click=\"play\" v-if=\"!itemIsPlaying && !$store.state.isTouch\">\r\n                    <v-icon color=\"white\">mdi-play</v-icon>\r\n                </v-btn>\r\n                <v-btn :loading=\"playLoading\" fab small color=\"primary\" @click=\"pause\" v-else-if=\"!$store.state.isTouch\">\r\n                    <v-icon color=\"white\">mdi-pause</v-icon>\r\n                </v-btn>\r\n                <item-menu :color=\"type==='artist' ? 'default' : 'white'\"\r\n                           :fab=\"type==='artist'\"\r\n                           v-if=\"!hideMenu && !$store.state.isTouch\"\r\n                           :item=\"item\"></item-menu>\r\n            </div>\r\n            <div class=\"text\" v-if=\"!noTitle\" :class=\"{big,small}\"\r\n                 :style=\"{textAlign: type==='artist'?'center':'left'}\">\r\n                <p class=\"preview-title\">{{item.name}}</p>\r\n                <p\r\n                        :title=\"item.description\"\r\n                        v-if=\"item.hasOwnProperty('description')\"\r\n                        class=\"preview-description\"\r\n                        v-html=\"item.description\"/>\r\n                <p class=\"preview-year\" v-if=\"showYear\">{{new Date(item.release_date).getFullYear()}}</p>\r\n            </div>\r\n        </router-link>\r\n    </v-lazy>\r\n</template>\r\n\r\n<script>\r\n    import ShareMenuItem from \"./ShareMenuItem\";\r\n    import FollowMenuItem from \"./FollowMenuItem\";\r\n    import ItemMenu from \"./ItemMenu\";\r\n\r\n    export default {\r\n        name: \"ItemSquare\",\r\n        components: {ItemMenu, FollowMenuItem, ShareMenuItem},\r\n        props: {\r\n            big: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            small: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            item: {\r\n                type: Object,\r\n                default: null,\r\n            },\r\n            showYear: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            noTitle: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            hideMenu: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n        },\r\n        data: () => ({\r\n            playLoading: false,\r\n        }),\r\n        methods: {\r\n            async pause(e) {\r\n                e.stopPropagation();\r\n                await this.$store.dispatch('pause');\r\n            },\r\n            async play(e) {\r\n                e.stopPropagation();\r\n                if (this.itemIsLoaded) {\r\n                    return await this.$store.dispatch('play');\r\n                }\r\n                this.playLoading = true;\r\n                await this.$store.dispatch('playItem', {item: this.item});\r\n                this.playLoading = false;\r\n            },\r\n        },\r\n        computed: {\r\n            itemIsLoaded() {\r\n                if (!this.$store.getters.isTrackSet)\r\n                    return false;\r\n                let contextItem = this.$store.state.media.contextItem;\r\n                return contextItem.type === this.item.type && contextItem.id === this.item.id;\r\n            },\r\n            itemIsPlaying() {\r\n                if (!this.itemIsLoaded)\r\n                    return false;\r\n                if (this.$store.state.media.playing)\r\n                    return true;\r\n            },\r\n            type() {\r\n                if (!this.item.type)\r\n                    return 'category';\r\n                return this.item.type;\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .item-square {\r\n        cursor: pointer;\r\n        display: inline-flex;\r\n    }\r\n\r\n    .image {\r\n        width: 180px;\r\n        height: 180px;\r\n        background-size: cover;\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n        border-radius: 5px;\r\n        box-shadow: 0 4px 10px 0 rgba(0, 0, 0, 0.1);\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    .image.big {\r\n        height: 240px !important;\r\n        width: 240px !important;\r\n    }\r\n\r\n    .image.small {\r\n        height: 80px !important;\r\n        width: 80px !important;\r\n    }\r\n\r\n    .play-button:hover {\r\n        opacity: 1;\r\n    }\r\n\r\n    .play-button {\r\n        background-color: rgba(0, 0, 0, 0.2);\r\n        border-radius: 5px;\r\n        opacity: 0;\r\n        width: 180px;\r\n        height: 180px;\r\n        margin-top: -180px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: flex-end;\r\n        transition: opacity 0.2s;\r\n        padding: 15px;\r\n    }\r\n\r\n    .play-button.small {\r\n        height: 80px !important;\r\n        width: 80px !important;\r\n        margin-top: -80px;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    .play-button.big {\r\n        height: 240px !important;\r\n        width: 240px !important;\r\n        margin-top: -240px;\r\n    }\r\n\r\n    .text {\r\n        max-width: 180px;\r\n        padding: 5px;\r\n    }\r\n\r\n    .text.big {\r\n        max-width: 240px;\r\n        line-height: 14px;\r\n    }\r\n\r\n    .text.small {\r\n        max-width: 80px;\r\n        line-height: 14px;\r\n    }\r\n\r\n    .preview-title {\r\n        font-weight: bold;\r\n        font-size: 14px;\r\n        margin: 0;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n    }\r\n\r\n    .preview-description {\r\n        font-size: 14px;\r\n        opacity: 0.7;\r\n        font-weight: normal;\r\n        margin-top: 3px;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        margin-bottom: 0px;\r\n    }\r\n\r\n    .preview-year {\r\n        font-size: 14px;\r\n        opacity: 0.7;\r\n        font-weight: normal;\r\n        margin-top: 3px;\r\n        margin-bottom: 0px;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n    }\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemSquare.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemSquare.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemSquare.vue?vue&type=template&id=da72ae1e&scoped=true&\"\nimport script from \"./ItemSquare.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemSquare.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ItemSquare.vue?vue&type=style&index=0&id=da72ae1e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"da72ae1e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLazy } from 'vuetify/lib/components/VLazy';\ninstallComponents(component, {VBtn,VIcon,VLazy})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list-item',{on:{\"click\":_vm.share}},[_c('v-list-item-icon',[(_vm.loading)?_c('v-progress-circular',{attrs:{\"size\":\"20\",\"indeterminate\":\"\",\"width\":\"1\"}}):_c('v-icon',[_vm._v(\"mdi-share\")])],1),_c('v-list-item-title',[_vm._v(\"Share\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-list-item @click=\"share\">\r\n        <v-list-item-icon>\r\n            <v-progress-circular size=\"20\" indeterminate width=\"1\" v-if=\"loading\"></v-progress-circular>\r\n            <v-icon v-else>mdi-share</v-icon>\r\n        </v-list-item-icon>\r\n        <v-list-item-title>Share</v-list-item-title>\r\n    </v-list-item>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"ShareMenuItem\",\r\n        props: {\r\n            item: {\r\n                type: Object,\r\n                default: null,\r\n            }\r\n        },\r\n        data: () => ({\r\n            loading: false,\r\n        }),\r\n        methods: {\r\n            async share() {\r\n                this.loading = true;\r\n                await this.$store.dispatch('share', {\r\n                    item: this.item,\r\n                    copy: this.$copyText,\r\n                });\r\n                this.loading = false;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareMenuItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareMenuItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShareMenuItem.vue?vue&type=template&id=01884d2e&scoped=true&\"\nimport script from \"./ShareMenuItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ShareMenuItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01884d2e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VIcon,VListItem,VListItemIcon,VListItemTitle,VProgressCircular})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArtistsSpan.vue?vue&type=style&index=0&id=40e503f8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArtistsSpan.vue?vue&type=style&index=0&id=40e503f8&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$store.getters.isTrackSet)?_c('div',{staticClass:\"controls\",class:_vm.large ? 'large' : '',style:({minWidth: _vm.full? '156px':'96px'})},[(_vm.full)?_c('v-btn',{attrs:{\"color\":_vm.$store.state.media.shuffle ? 'primary' : 'default',\"icon\":\"\",\"small\":!_vm.large},on:{\"click\":function($event){return _vm.$store.commit('toggleShuffle')}}},[_c('v-icon',{attrs:{\"small\":!_vm.large}},[_vm._v(\"mdi-shuffle\")])],1):_vm._e(),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":!_vm.large,\"large\":_vm.large},on:{\"click\":function($event){return _vm.$store.dispatch('skip', -1)}}},[_c('v-icon',[_vm._v(\"mdi-rewind\")])],1),_c('v-btn',{attrs:{\"loading\":_vm.$store.state.media.trackLoading,\"icon\":!_vm.large,\"fab\":_vm.large,\"color\":(_vm.large && _vm.fgLegible) ? 'primary' : 'default',\"large\":\"\"},on:{\"click\":function($event){return _vm.$store.dispatch(_vm.playing ? 'pause' : 'play')}}},[(_vm.playing)?_c('v-icon',{attrs:{\"large\":_vm.large}},[_vm._v(\"mdi-pause\")]):_c('v-icon',{attrs:{\"large\":_vm.large}},[_vm._v(\"mdi-play\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":!_vm.large,\"large\":_vm.large},on:{\"click\":function($event){return _vm.$store.dispatch('skip', 1)}}},[_c('v-icon',[_vm._v(\"mdi-fast-forward\")])],1),(_vm.full)?_c('v-btn',{attrs:{\"color\":_vm.$store.state.media.repeat ? 'primary' : 'default',\"icon\":\"\",\"small\":!_vm.large},on:{\"click\":function($event){return _vm.$store.commit('toggleRepeat')}}},[_c('v-icon',{attrs:{\"small\":!_vm.large}},[_vm._v(\"mdi-repeat\")])],1):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"controls\" :class=\"large ? 'large' : ''\" :style=\"{minWidth: full? '156px':'96px'}\"\r\n         v-if=\"$store.getters.isTrackSet\">\r\n        <v-btn :color=\"$store.state.media.shuffle ? 'primary' : 'default'\"\r\n               @click=\"$store.commit('toggleShuffle')\"\r\n               icon\r\n               :small=\"!large\"\r\n               v-if=\"full\">\r\n            <v-icon :small=\"!large\">mdi-shuffle</v-icon>\r\n        </v-btn>\r\n        <v-btn icon\r\n               :small=\"!large\"\r\n               :large=\"large\"\r\n               @click=\"$store.dispatch('skip', -1)\">\r\n            <v-icon>mdi-rewind</v-icon>\r\n        </v-btn>\r\n        <v-btn :loading=\"$store.state.media.trackLoading\"\r\n               :icon=\"!large\"\r\n               :fab=\"large\"\r\n               :color=\"(large && fgLegible) ? 'primary' : 'default'\"\r\n               large\r\n               @click=\"$store.dispatch(playing ? 'pause' : 'play')\">\r\n            <v-icon :large=\"large\" v-if=\"playing\">mdi-pause</v-icon>\r\n            <v-icon :large=\"large\" v-else>mdi-play</v-icon>\r\n        </v-btn>\r\n        <v-btn icon\r\n               :small=\"!large\"\r\n               :large=\"large\"\r\n               @click=\"$store.dispatch('skip', 1)\">\r\n            <v-icon>mdi-fast-forward</v-icon>\r\n        </v-btn>\r\n        <v-btn :color=\"$store.state.media.repeat ? 'primary' : 'default'\"\r\n               @click=\"$store.commit('toggleRepeat')\"\r\n               icon\r\n               :small=\"!large\"\r\n               v-if=\"full\">\r\n            <v-icon :small=\"!large\">mdi-repeat</v-icon>\r\n        </v-btn>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"MediaControls\",\r\n        props: {\r\n            full: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            large: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            fgLegible: {\r\n                type: Boolean,\r\n                default: true,\r\n            },\r\n        },\r\n        computed: {\r\n            playing() {\r\n                return this.$store.state.media.playing;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .controls {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n\r\n    .large > * {\r\n        margin: 0 6px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaControls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaControls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MediaControls.vue?vue&type=template&id=3b52fd61&scoped=true&\"\nimport script from \"./MediaControls.vue?vue&type=script&lang=js&\"\nexport * from \"./MediaControls.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MediaControls.vue?vue&type=style&index=0&id=3b52fd61&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b52fd61\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VIcon})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListenNow.vue?vue&type=style&index=0&id=38e1a534&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListenNow.vue?vue&type=style&index=0&id=38e1a534&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"artists\",attrs:{\"title\":_vm.artists.map(function (a){ return a.name; }).join(', ')}},_vm._l((_vm.artists),function(artist,i){return _c('span',{key:artist.id},[_c('router-link',{staticClass:\"artist\",style:({opacity: _vm.grey ? 0.7 : 1}),attrs:{\"tag\":_vm.grey ? 'span' : 'a',\"to\":_vm.$store.getters.relativeItemUrl(artist)}},[_vm._v(_vm._s(artist.name))]),(i !== _vm.artists.length - 1)?_c('span',[_vm._v(\", \")]):_vm._e()],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <span class=\"artists\"\r\n          :title=\"artists.map(a=>a.name).join(', ')\">\r\n        <span v-for=\"(artist, i) in artists\" :key=\"artist.id\">\r\n            <router-link\r\n                    :tag=\"grey ? 'span' : 'a'\"\r\n                    :style=\"{opacity: grey ? 0.7 : 1}\"\r\n                    class=\"artist\"\r\n                    :to=\"$store.getters.relativeItemUrl(artist)\">{{artist.name}}</router-link>\r\n            <span v-if=\"i !== artists.length - 1\">, </span>\r\n        </span>\r\n    </span>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"ArtistsSpan\",\r\n        props: {\r\n            grey: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            artists: {\r\n                type: Array,\r\n                default: () => [],\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .artists {\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n        display: block;\r\n    }\r\n\r\n    .artist {\r\n        font-weight: 500 !important;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .artist * {\r\n        text-decoration: none !important;\r\n    }\r\n\r\n    .artist:hover {\r\n        text-decoration: underline;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArtistsSpan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArtistsSpan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArtistsSpan.vue?vue&type=template&id=40e503f8&scoped=true&\"\nimport script from \"./ArtistsSpan.vue?vue&type=script&lang=js&\"\nexport * from \"./ArtistsSpan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArtistsSpan.vue?vue&type=style&index=0&id=40e503f8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40e503f8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackRow.vue?vue&type=style&index=0&id=5c3d0966&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackRow.vue?vue&type=style&index=0&id=5c3d0966&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemMenu.vue?vue&type=style&index=0&id=58545d72&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemMenu.vue?vue&type=style&index=0&id=58545d72&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavContent.vue?vue&type=style&index=0&id=5cfd90c0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavContent.vue?vue&type=style&index=0&id=5cfd90c0&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-menu',{attrs:{\"close-on-content-click\":true,\"close-on-click\":true},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g({attrs:{\"color\":_vm.color,\"fab\":_vm.fab,\"icon\":!_vm.fab,\"small\":_vm.fab}},on),[_c('v-icon',[_vm._v(\"mdi-dots-horizontal\")])],1)]}}])},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('share-menu-item',{attrs:{\"item\":_vm.item}}),(_vm.type!=='category' && _vm.type!=='user' && _vm.type !== 'liked')?_c('follow-menu-item',{attrs:{\"item\":_vm.item}}):_vm._e(),(_vm.type === 'track' || _vm.type === 'artist')?_c('v-list-item',{attrs:{\"exact\":\"\",\"to\":(\"/radio?seed_\" + _vm.type + \"s=\" + (_vm.item.id))}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-radio-tower\")])],1),_c('v-list-item-title',[_vm._v(\"Go to \"+_vm._s(_vm.type)+\" radio\")])],1):_vm._e(),(!_vm.queueTrack && _vm.type !== 'category' && _vm.type !== 'liked')?_c('v-list-item',{on:{\"click\":function($event){return _vm.playNext(_vm.item)}}},[_c('v-list-item-icon',[(_vm.nextQueueLoading)?_c('v-progress-circular',{attrs:{\"size\":\"20\",\"indeterminate\":\"\",\"width\":\"1\"}}):_c('v-icon',[_vm._v(\"mdi-play-circle-outline\")])],1),_c('v-list-item-title',[_vm._v(\"Play next\")])],1):_vm._e(),(!_vm.queueTrack && _vm.type !== 'category' && _vm.type !== 'liked')?_c('v-list-item',{on:{\"click\":function($event){return _vm.addToQueue(_vm.item)}}},[_c('v-list-item-icon',[(_vm.addQueueLoading)?_c('v-progress-circular',{attrs:{\"size\":\"20\",\"indeterminate\":\"\",\"width\":\"1\"}}):_c('v-icon',[_vm._v(\"mdi-plus\")])],1),_c('v-list-item-title',[_vm._v(\"Add to queue\")])],1):_vm._e(),(_vm.editablePlaylist)?_c('v-list-item',{on:{\"click\":function($event){return _vm.remove(_vm.item, _vm.contextItem)}}},[_c('v-list-item-icon',[(_vm.removeLoading)?_c('v-progress-circular',{attrs:{\"size\":\"20\",\"indeterminate\":\"\",\"width\":\"1\"}}):_c('v-icon',[_vm._v(\"mdi-playlist-minus\")])],1),_c('v-list-item-title',[_vm._v(\"Remove from \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.contextItem.name))])])],1):_vm._e(),(_vm.type === 'track' && _vm.queueTrack && _vm.$store.getters.isTrackSet && _vm.item.id !== _vm.$store.state.media.track.id)?_c('v-list-item',{on:{\"click\":function($event){return _vm.$store.commit('removeFromQueue', _vm.item)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-playlist-minus\")])],1),_c('v-list-item-title',[_vm._v(\"Remove from queue\")])],1):_vm._e(),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(_vm.item.type === 'track')?_c('v-list-item',_vm._g(_vm._b({},'v-list-item',attrs,false),on),[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-playlist-plus\")])],1),_c('v-list-item-title',[_vm._v(\"Add to playlist\")])],1):_vm._e()]}}])},[_c('v-list',{staticClass:\"playlist-menu\",attrs:{\"dense\":\"\"}},_vm._l((_vm.myPlaylists),function(playlist){return _c('v-list-item',{key:playlist.id,on:{\"click\":function($event){return _vm.add(_vm.item, playlist)}}},[_c('v-list-item-icon',[(_vm.addLoading[playlist.id])?_c('v-progress-circular',{attrs:{\"size\":\"20\",\"indeterminate\":\"\",\"width\":\"1\"}}):_c('v-icon',[_vm._v(\"mdi-playlist-music\")])],1),_c('v-list-item-title',[_vm._v(_vm._s(playlist.name))])],1)}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-menu :close-on-content-click=\"true\" :close-on-click=\"true\">\r\n        <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-btn :color=\"color\" :fab=\"fab\" :icon=\"!fab\" :small=\"fab\" v-on=\"on\">\r\n                <v-icon>mdi-dots-horizontal</v-icon>\r\n            </v-btn>\r\n        </template>\r\n        <v-list dense>\r\n            <share-menu-item :item=\"item\"></share-menu-item>\r\n            <follow-menu-item v-if=\"type!=='category' && type!=='user' && type !== 'liked'\"\r\n                              :item=\"item\"></follow-menu-item>\r\n            <v-list-item v-if=\"type === 'track' || type === 'artist'\" exact :to=\"`/radio?seed_${type}s=${item.id}`\">\r\n                <v-list-item-icon>\r\n                    <v-icon>mdi-radio-tower</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-title>Go to {{type}} radio</v-list-item-title>\r\n            </v-list-item>\r\n            <v-list-item v-if=\"!queueTrack && type !== 'category' && type !== 'liked'\" @click=\"playNext(item)\">\r\n                <v-list-item-icon>\r\n                    <v-progress-circular size=\"20\" indeterminate width=\"1\"\r\n                                         v-if=\"nextQueueLoading\"></v-progress-circular>\r\n                    <v-icon v-else>mdi-play-circle-outline</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-title>Play next</v-list-item-title>\r\n            </v-list-item>\r\n            <v-list-item v-if=\"!queueTrack && type !== 'category' && type !== 'liked'\" @click=\"addToQueue(item)\">\r\n                <v-list-item-icon>\r\n                    <v-progress-circular size=\"20\" indeterminate width=\"1\"\r\n                                         v-if=\"addQueueLoading\"></v-progress-circular>\r\n                    <v-icon v-else>mdi-plus</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-title>Add to queue</v-list-item-title>\r\n            </v-list-item>\r\n            <v-list-item v-if=\"editablePlaylist\" @click=\"remove(item, contextItem)\">\r\n                <v-list-item-icon>\r\n                    <v-progress-circular size=\"20\" indeterminate width=\"1\" v-if=\"removeLoading\"></v-progress-circular>\r\n                    <v-icon v-else>mdi-playlist-minus</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-title>Remove from <span class=\"font-weight-bold\">{{contextItem.name}}</span>\r\n                </v-list-item-title>\r\n            </v-list-item>\r\n            <v-list-item v-if=\"type === 'track' && queueTrack && $store.getters.isTrackSet && item.id !== $store.state.media.track.id\"\r\n                         @click=\"$store.commit('removeFromQueue', item)\">\r\n                <v-list-item-icon>\r\n                    <v-icon>mdi-playlist-minus</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-title>Remove from queue</v-list-item-title>\r\n            </v-list-item>\r\n            <v-menu offset-y>\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-list-item v-if=\"item.type === 'track'\" v-on=\"on\" v-bind=\"attrs\">\r\n                        <v-list-item-icon>\r\n                            <v-icon>mdi-playlist-plus</v-icon>\r\n                        </v-list-item-icon>\r\n                        <v-list-item-title>Add to playlist</v-list-item-title>\r\n                    </v-list-item>\r\n                </template>\r\n                <v-list dense class=\"playlist-menu\">\r\n                    <v-list-item @click=\"add(item, playlist)\" v-for=\"playlist of myPlaylists\" :key=\"playlist.id\">\r\n                        <v-list-item-icon>\r\n                            <v-progress-circular size=\"20\" indeterminate width=\"1\"\r\n                                                 v-if=\"addLoading[playlist.id]\"></v-progress-circular>\r\n                            <v-icon v-else>mdi-playlist-music</v-icon>\r\n                        </v-list-item-icon>\r\n                        <v-list-item-title>{{playlist.name}}</v-list-item-title>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-menu>\r\n        </v-list>\r\n    </v-menu>\r\n</template>\r\n\r\n<script>\r\n    import ShareMenuItem from \"./ShareMenuItem\";\r\n    import FollowMenuItem from \"./FollowMenuItem\";\r\n    import Vue from 'vue';\r\n\r\n    export default {\r\n        name: \"ItemMenu\",\r\n        components: {FollowMenuItem, ShareMenuItem},\r\n        props: {\r\n            item: {\r\n                type: Object,\r\n                default: null,\r\n            },\r\n            fab: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            color: {\r\n                type: String,\r\n                default: 'default',\r\n            },\r\n            contextItem: {\r\n                type: Object,\r\n                default: null,\r\n            },\r\n            queueTrack: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n        },\r\n        data: () => ({\r\n            addLoading: {},\r\n            removeLoading: false,\r\n            addQueueLoading: false,\r\n            nextQueueLoading: false,\r\n        }),\r\n        methods: {\r\n            async add(track, playlist) {\r\n                Vue.set(this.addLoading, playlist.id, true);\r\n                await this.$store.dispatch('addToPlaylist', {track, playlist});\r\n                Vue.set(this.addLoading, playlist.id, false);\r\n            },\r\n            async remove(track, playlist) {\r\n                this.removeLoading = true;\r\n                await this.$store.dispatch('removeFromPlaylist', {track, playlist});\r\n                this.removeLoading = false;\r\n            },\r\n            async playNext(item) {\r\n                let context = await this.$store.dispatch('getContextItem', item);\r\n                this.$store.commit('playNext', context.tracks);\r\n            },\r\n            async addToQueue(item) {\r\n                let context = await this.$store.dispatch('getContextItem', item);\r\n                this.$store.commit('addToQueue', context.tracks);\r\n            },\r\n        },\r\n        computed: {\r\n            editablePlaylist() {\r\n                if (this.contextItem === null || this.contextItem.type !== 'playlist')\r\n                    return false;\r\n                return this.contextItem.collaborative || this.contextItem.owner.id === this.$store.state.userInfo.id;\r\n            },\r\n            myPlaylists() {\r\n                return this.$store.state.library.playlists.filter(p =>\r\n                    p.owner.id === this.$store.state.userInfo.id ||\r\n                    p.collaborative\r\n                );\r\n            },\r\n            type() {\r\n                if (!this.item.type)\r\n                    return 'category';\r\n                return this.item.type;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .playlist-menu {\r\n        max-height: 90vh;\r\n        overflow-y: auto;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemMenu.vue?vue&type=template&id=58545d72&scoped=true&\"\nimport script from \"./ItemMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ItemMenu.vue?vue&type=style&index=0&id=58545d72&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58545d72\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VBtn,VIcon,VList,VListItem,VListItemIcon,VListItemTitle,VMenu,VProgressCircular})\n","export default class Utils {\r\n    static isTouchDevice() {\r\n        return ('ontouchstart' in window) ||\r\n            (navigator.maxTouchPoints > 0) ||\r\n            (navigator.msMaxTouchPoints > 0);\r\n    }\r\n\r\n    static reduceTrackSize(track) {\r\n        return {\r\n            album: {\r\n                images: track.album.images,\r\n                name: track.album.name,\r\n                type: track.album.type,\r\n                id: track.album.id,\r\n                release_date: track.album.release_date,\r\n            },\r\n            artists: track.artists,\r\n            name: track.name,\r\n            duration_ms: track.duration_ms,\r\n            id: track.id,\r\n            is_local: track.is_local,\r\n            type: track.type,\r\n            disc_number: track.disc_number,\r\n        }\r\n    }\r\n\r\n    static isLegible(hexColor, theme) {\r\n        let currentTheme = theme.themes[theme.dark ? 'dark' : 'light'];\r\n        let background = currentTheme.navBackground;\r\n        let foreground = currentTheme.foreground;\r\n\r\n        let contrastOnBg = Utils.hexContrast(hexColor, background);\r\n        let contrastOnFg = Utils.hexContrast(hexColor, foreground);\r\n        return {bgLegible: contrastOnBg > 3, fgLegible: contrastOnFg > 2};\r\n    }\r\n\r\n    static hexToRgb(hex) {\r\n        if (hex[0] === '#')\r\n            hex = hex.slice(1);\r\n        let r = hex.slice(0, 2);\r\n        let g = hex.slice(2, 4);\r\n        let b = hex.slice(4, 6);\r\n        return [parseInt(r, 16), parseInt(g, 16), parseInt(b, 16)];\r\n    }\r\n\r\n    static hexContrast(hex1, hex2) {\r\n        return Utils.contrast(Utils.hexToRgb(hex1), Utils.hexToRgb(hex2));\r\n    }\r\n\r\n    static luminance(r, g, b) {\r\n        const a = [r, g, b].map(v => {\r\n            v /= 255;\r\n            return v <= 0.03928\r\n                ? v / 12.92\r\n                : Math.pow((v + 0.055) / 1.055, 2.4);\r\n        });\r\n        return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;\r\n    }\r\n\r\n    static contrast(rgb1, rgb2) {\r\n        const lum1 = Utils.luminance(rgb1[0], rgb1[1], rgb1[2]);\r\n        const lum2 = Utils.luminance(rgb2[0], rgb2[1], rgb2[2]);\r\n        const brightest = Math.max(lum1, lum2);\r\n        const darkest = Math.min(lum1, lum2);\r\n        return (brightest + 0.05) / (darkest + 0.05);\r\n    }\r\n\r\n    static secondsToHms(seconds) {\r\n        if (isNaN(seconds) || seconds === undefined)\r\n            return '0:00';\r\n\r\n        seconds = Math.round(seconds);\r\n        let h = Math.floor(seconds / 3600);\r\n        let m = Math.floor((seconds % 3600) / 60);\r\n        let s = seconds % 60;\r\n        h = h.toString();\r\n        m = m.toString();\r\n        s = s.toString();\r\n        if (h !== '0') {\r\n            m = m.padStart(2, '0');\r\n            s = s.padStart(2, '0');\r\n        }\r\n        s = s.padStart(2, '0');\r\n\r\n        if (h === '0')\r\n            return `${m}:${s}`;\r\n        else return `${h}:${m}:${s}`;\r\n    }\r\n\r\n    static shuffleArray(array) {\r\n        for (let i = array.length - 1; i > 0; i--) {\r\n            const j = Math.floor(Math.random() * (i + 1));\r\n            [array[i], array[j]] = [array[j], array[i]];\r\n        }\r\n        return array;\r\n    }\r\n\r\n    static bytesToReadable(bytes) {\r\n        let length = Math.log10(bytes);\r\n        if (length < 2) {\r\n            return bytes + ' B';\r\n        } else if (length < 5) {\r\n            return (bytes / 1024).toFixed(2) + ' kB';\r\n        } else if (length < 8) {\r\n            return (bytes / (1024 ** 2)).toFixed(2) + ' MB';\r\n        } else if (length < 12) {\r\n            return (bytes / (1024 ** 3)).toFixed(2) + ' GB';\r\n        } else if (length < 15) {\r\n            return (bytes / (1024 ** 4)).toFixed(2) + ' TB';\r\n        }\r\n        return 'very bige bytes';\r\n    }\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('perfect-scrollbar',{staticClass:\"item-container\"},_vm._l((_vm.itemGroups),function(itemGroup,i){return _c('div',{staticClass:\"column\",class:{last: i===_vm.items.length-1}},_vm._l((itemGroup),function(item){return _c('item-square',{staticClass:\"single-item\",attrs:{\"big\":_vm.big,\"small\":_vm.small,\"show-year\":_vm.showYear,\"item\":item}})}),1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <perfect-scrollbar class=\"item-container\">\r\n        <div class=\"column\" v-for=\"(itemGroup, i) in itemGroups\"\r\n             :class=\"{last: i===items.length-1}\">\r\n            <item-square v-for=\"item in itemGroup\"\r\n                          :big=\"big\"\r\n                          :small=\"small\"\r\n                          :show-year=\"showYear\"\r\n                          class=\"single-item\"\r\n                          :item=\"item\"></item-square>\r\n        </div>\r\n    </perfect-scrollbar>\r\n</template>\r\n\r\n<script>\r\n    import ItemSquare from \"./ItemSquare\";\r\n\r\n    export default {\r\n        name: \"ItemRow\",\r\n        components: {ItemSquare},\r\n        props: {\r\n            items: {\r\n                type: Array,\r\n                default: () => [],\r\n            },\r\n            small: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            big: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            rows: {\r\n                type: Number,\r\n                default: 1,\r\n            },\r\n            showYear: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n        },\r\n        computed: {\r\n            itemGroups() {\r\n                let groups = [];\r\n                for (let i = 0; i < this.items.length; i += this.rows) {\r\n                    groups.push(this.items.slice(i, i + this.rows));\r\n                }\r\n                return groups;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .item-container {\r\n        position: relative;\r\n        width: 100%;\r\n        display: flex;\r\n        padding: 0 15px;\r\n        padding-bottom: 15px;\r\n    }\r\n\r\n    .single-item {\r\n        display: inline-block;\r\n        margin: 5px 15px;\r\n    }\r\n\r\n    .single-item.last {\r\n        padding-right: 30px;\r\n    }\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemRow.vue?vue&type=template&id=27043fbc&scoped=true&\"\nimport script from \"./ItemRow.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ItemRow.vue?vue&type=style&index=0&id=27043fbc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27043fbc\",\n  null\n  \n)\n\nexport default component.exports","import path from 'path';\r\nimport ffbinaries from \"ffbinaries\";\r\nimport fs from \"fs\";\r\nimport child_process from \"child_process\";\r\nimport fileNamify from 'filenamify';\r\nimport MusicDownloader from \"./MusicDownloader\";\r\n\r\nexport default class NodeMusicDownloader extends MusicDownloader {\r\n    constructor(musicDir = './', filesDir = './', tempDir = './') {\r\n        super();\r\n\r\n        this.directories = {\r\n            music: musicDir,\r\n            files: filesDir,\r\n            temp: tempDir,\r\n        }\r\n\r\n        this.ffmpegPath = null;\r\n        this.downloadingFfmpeg = false;\r\n    }\r\n\r\n    async isTrackOffline(track) {\r\n        let fileName = fileNamify(this.getSearchString(track));\r\n        let filePath = path.join(this.directories.music, fileName + '.mp3');\r\n        if (await this.fileExists(filePath)) {\r\n            return filePath;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    async removeCached(track) {\r\n        let fileName = fileNamify(this.getSearchString(track));\r\n        let filePath = path.join(this.directories.music, fileName + '.mp3');\r\n        if (await this.fileExists(filePath)) {\r\n            await this.deleteFile(filePath);\r\n            console.warn(`Deleted cache ${filePath} for`, track);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    async downloadTrack(url, track, progress = () => 0, abortSignal = null) {\r\n        abortSignal.addEventListener('abort', () => progress('Cancelled'));\r\n\r\n        let fileName = fileNamify(this.getSearchString(track));\r\n\r\n        let downloadedTrackFile = path.join(this.directories.temp, fileName);\r\n        progress('Downloading');\r\n        try {\r\n            await this.downloadFile(url, downloadedTrackFile, abortSignal);\r\n        } catch (e) {\r\n            return progress('Failed');\r\n        }\r\n        progress('Processing metadata');\r\n        let processedFile = await this.ffmpegProcessing(track, downloadedTrackFile, () => 0, abortSignal);\r\n        progress('Downloaded');\r\n        console.log(\"Downloaded track and converted to mp3 \", processedFile);\r\n    }\r\n\r\n    async ffmpegProcessing(track, trackInputFile, progress = () => 0, abortSignal = null) {\r\n        let baseFileName = path.basename(trackInputFile);\r\n        let tags = {\r\n            title: track.name,\r\n            artist: track.artists.map(a => a.name),\r\n            disc: track.disc_number,\r\n            track: track.track_number,\r\n        };\r\n        if (track.hasOwnProperty('album')) {\r\n            tags.album = track.album.name;\r\n            tags.year = new Date(track.album.release_date).getFullYear();\r\n        }\r\n\r\n        let hasImage = track.hasOwnProperty('album') && track.album.images.length > 0;\r\n        let imageFile = path.join(this.directories.temp, `image-${baseFileName}.jpg`);\r\n        if (hasImage)\r\n            await this.downloadFile(track.album.images[0].url, imageFile, abortSignal);\r\n\r\n        let outputFile = path.join(this.directories.temp, baseFileName + '.mp3');\r\n\r\n        try {\r\n            await this.ffmpegMetadata(trackInputFile, outputFile, hasImage ? imageFile : '', tags, abortSignal);\r\n        } catch (e) {\r\n            progress('Failed');\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n            let destinationFile = path.join(this.directories.music, baseFileName + '.mp3');\r\n            fs.rename(outputFile, destinationFile, err => {\r\n                this.deleteFile(trackInputFile).then();\r\n                if (hasImage)\r\n                    this.deleteFile(imageFile).then();\r\n                resolve(destinationFile)\r\n            });\r\n        });\r\n    }\r\n\r\n    async downloadFile(url, destinationFile, abortSignal = null) {\r\n        let res = await fetch(url, {signal: abortSignal});\r\n        let blob = await res.blob();\r\n        let writer = fs.createWriteStream(destinationFile);\r\n        writer.write(Buffer.from(await blob.arrayBuffer()));\r\n    }\r\n\r\n    async ffmpegMetadata(fileInput, fileOutput, coverImageFile, tags, abortSignal = null) {\r\n        return new Promise(async (resolve, reject) => {\r\n            let ffmpegPath = await this.getFfmpegPath();\r\n            let command;\r\n            if (coverImageFile) {\r\n                command = `${ffmpegPath} -y -i \"${fileInput}\" -i \"${coverImageFile}\"` +\r\n                    ` -map 0:0 -map 1:0 -id3v2_version 3 -metadata:s:v title=\"Album cover\" -metadata:s:v comment=\"Cover (Front)\" ` +\r\n                    `${this.tagsToString(tags)} \"${fileOutput}\"`;\r\n            } else {\r\n                command = `${ffmpegPath} -y -i \"${fileInput}\"` +\r\n                    `${this.tagsToString(tags)} \"${fileOutput}\"`;\r\n            }\r\n            if (await this.fileExists(fileOutput))\r\n                await this.deleteFile(fileOutput);\r\n            await this.waitForFileUnlock(fileInput);\r\n            await this.waitForFileUnlock(coverImageFile);\r\n            await this.waitForFileUnlock(ffmpegPath);\r\n\r\n            if (!abortSignal.aborted) {\r\n                let process = child_process.exec(command, (error, stdout, stderr) => {\r\n                    if (error)\r\n                        return reject(error);\r\n                    resolve({err: stderr, out: stdout});\r\n                });\r\n                abortSignal.addEventListener('abort', () => process.kill());\r\n            }\r\n        })\r\n    }\r\n\r\n    tagsToString(tags) {\r\n        let result = [];\r\n        for (let tag in tags)\r\n            if (tags.hasOwnProperty(tag))\r\n                if (tags[tag] instanceof Array)\r\n                    for (let part of tags[tag])\r\n                        result.push(`-metadata ${tag}=\"${part}\"`);\r\n                else\r\n                    result.push(`-metadata ${tag}=\"${tags[tag]}\"`);\r\n        return result.join(' ');\r\n    }\r\n\r\n    async deleteFile(filePath) {\r\n        return new Promise((resolve, reject) => {\r\n            fs.unlink(filePath, err => {\r\n                if (err)\r\n                    return reject(err);\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    async fileExists(filePath) {\r\n        return new Promise((resolve, reject) => {\r\n            fs.access(filePath, fs.F_OK, err => {\r\n                if (err)\r\n                    resolve(false)\r\n                resolve(true);\r\n            });\r\n        });\r\n    }\r\n\r\n    async waitSleep(ms) {\r\n        return new Promise(resolve => setTimeout(resolve, ms));\r\n    }\r\n\r\n    async waitForFileUnlock(filePath, timeout = 10000) {\r\n        let startTime = performance.now();\r\n        while (true) {\r\n            if (performance.now() > startTime + timeout)\r\n                throw \"Timeout waiting for file to unlock\";\r\n            let isFileLocked = await this.isFileLocked(filePath);\r\n            if (!isFileLocked)\r\n                return true;\r\n            await this.waitSleep(250);\r\n        }\r\n    }\r\n\r\n    async isFileLocked(filePath) {\r\n        return new Promise((resolve, reject) => {\r\n            fs.open(filePath, 'r+', (err, fd) => {\r\n                if (err && err.code === 'EBUSY') {\r\n                    resolve(true);\r\n                } else if (err && err.code === 'ENOENT') {\r\n                    reject(\"File does not exist\");\r\n                } else {\r\n                    fs.close(fd, err => {\r\n                        if (err)\r\n                            return reject(err);\r\n                        resolve(false);\r\n                    })\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    async getFfmpegPath() {\r\n        return new Promise(async (resolve, reject) => {\r\n            if (this.ffmpegPath)\r\n                return resolve(this.ffmpegPath);\r\n            if (this.downloadingFfmpeg)\r\n                return this.once('downloadFFMPEG', resolve);\r\n\r\n            this.downloadingFfmpeg = true;\r\n            ffbinaries.downloadBinaries(['ffmpeg'], {destination: this.directories.files}, () => {\r\n                this.ffmpegPath = path.join(this.directories.files, ffbinaries.getBinaryFilename('ffmpeg', ffbinaries.detectPlatform()))\r\n                resolve(this.ffmpegPath);\r\n                this.emit('downloadFFMPEG');\r\n                this.downloadingFfmpeg = false;\r\n            });\r\n        });\r\n\r\n    }\r\n}","import electron from 'electron';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nclass Directories {\r\n    constructor() {\r\n        this.temp = this.initializeDir('temp', 'vuemusic');\r\n        this.files = this.initializeDir('appData', 'vuemusic-files');\r\n        this.music = this.getDir('music', '');\r\n    }\r\n\r\n    initializeDir(base, dir) {\r\n        let fullDir = this.getDir(base, dir);\r\n        this.createDir(fullDir);\r\n        return fullDir;\r\n    }\r\n\r\n    getDir(base = 'music', dir = 'files') {\r\n        let app = electron.app;\r\n        if (electron.hasOwnProperty('remote'))\r\n            app = electron.remote.app;\r\n        return path.join(app.getPath(base), dir);\r\n    }\r\n\r\n    createDir(dir) {\r\n        if (!fs.existsSync(dir))\r\n            fs.mkdirSync(dir);\r\n    }\r\n\r\n    importLSFile() {\r\n        let localStorageFile = path.join(this.files, 'localStorage.json');\r\n\r\n        if (fs.existsSync(localStorageFile)) {\r\n            let ls = JSON.parse(fs.readFileSync(localStorageFile));\r\n            for (let key in ls)\r\n                if (ls.hasOwnProperty(key))\r\n                    localStorage[key] = ls[key];\r\n        }\r\n    }\r\n\r\n    exportLSToFile() {\r\n        let localStorageFile = path.join(this.files, 'localStorage.json');\r\n\r\n        let localData = JSON.stringify(localStorage);\r\n        fs.writeFileSync(localStorageFile, localData);\r\n    }\r\n}\r\n\r\nexport default new Directories();","import NodeMusicDownloader from '../../js/music-downloader/NodeMusicDownloader'\r\nimport electron, {remote} from 'electron'\r\nimport http from \"http\";\r\nimport Directories from \"../../js/Directories\";\r\nimport path from \"path\";\r\n\r\nconst express = window.require('express')\r\nDirectories.importLSFile();\r\n\r\nexport default {\r\n    state: {\r\n        type: 'electron',\r\n        server: null,\r\n        downloader: new NodeMusicDownloader(Directories.music, Directories.files, Directories.temp),\r\n        downloads: [],\r\n        playingIcons: [],\r\n        pausedIcons: [],\r\n    },\r\n    mutations: {\r\n        playIcons: (state, {playIcon, pauseIcon, prevIcon, nextIcon}) => {\r\n            state.playingIcons = [prevIcon, pauseIcon, nextIcon];\r\n            state.pausedIcons = [prevIcon, playIcon, nextIcon];\r\n        },\r\n    },\r\n    getters: {},\r\n    actions: {\r\n        initializePlatform: async ({state, commit, dispatch, getters, rootState}) => {\r\n            const likeShortcut = 'Shift+Alt+L';\r\n            if (remote.globalShortcut.isRegistered(likeShortcut))\r\n                remote.globalShortcut.unregister(likeShortcut);\r\n            let regResult = remote.globalShortcut.register(likeShortcut, async () => {\r\n                let added = await dispatch('toggleFollowCurrentTrack');\r\n                let speech = added ? 'Added to favorites' : 'Removed from favorites';\r\n                let voices = speechSynthesis.getVoices();\r\n                let voice = voices[Math.floor(Math.random() * voices.length)];\r\n                let utterance = new SpeechSynthesisUtterance(speech);\r\n                utterance.voice = voice;\r\n                speechSynthesis.speak(utterance);\r\n            });\r\n            if (regResult)\r\n                console.log(\"Registered global shortcut \")\r\n            else\r\n                console.log(\"Failed to register global shortcut \")\r\n\r\n\r\n            let playIcon = {\r\n                tooltip: 'Play',\r\n                icon: path.join(__static, '/img/playicon.png'),\r\n                click: () => dispatch('play'),\r\n            };\r\n            let pauseIcon = {\r\n                tooltip: 'Play',\r\n                icon: path.join(__static, '/img/pauseicon.png'),\r\n                click: () => dispatch('pause'),\r\n            };\r\n            let prevIcon = {\r\n                tooltip: 'Previous Song',\r\n                icon: path.join(__static, '/img/previcon.png'),\r\n                click: () => dispatch('skip', -1),\r\n            };\r\n            let nextIcon = {\r\n                tooltip: 'Next Song',\r\n                icon: path.join(__static, '/img/nexticon.png'),\r\n                click: () => dispatch('skip', 1),\r\n            };\r\n            commit('playIcons', {playIcon, pauseIcon, prevIcon, nextIcon});\r\n        },\r\n        setPlatformPlaying: ({state}, playing) => {\r\n            const win = remote.getCurrentWindow();\r\n            let thumbAdded = win.setThumbarButtons(playing ? state.playingIcons : state.pausedIcons);\r\n        },\r\n        openDevTools: async ({}) => {\r\n            remote.getCurrentWindow().openDevTools();\r\n        },\r\n        closeWindow: async ({}) => {\r\n            remote.getCurrentWindow().close();\r\n        },\r\n        minimizeWindow: async ({}) => {\r\n            remote.getCurrentWindow().minimize();\r\n        },\r\n\r\n        exportCache: ({}) => {\r\n            Directories.exportLSToFile();\r\n        },\r\n\r\n        resetSpotifyLogin({state, commit}) {\r\n            if (state.server !== null) {\r\n                state.server.close();\r\n                commit('server', null);\r\n            }\r\n        },\r\n        firstLogin: async ({rootState, getters, state, commit, dispatch}) => {\r\n            return new Promise(async resolve => {\r\n                if (!getters.isKeySet) {\r\n                    console.warn(\"Can't log in, keys are not set\");\r\n                    return;\r\n                }\r\n                const port = 38900;\r\n                const redirectUrl = 'http://localhost:' + port;\r\n                const url = `${rootState.authUrl}authorize?client_id=${rootState.spotifyId}&response_type=code&redirect_uri=${redirectUrl}&scope=${encodeURIComponent(rootState.requestedScopes)}`;\r\n                let {shell} = electron;\r\n                await shell.openExternal(url);\r\n\r\n                if (state.server !== null)\r\n                    state.server.close();\r\n\r\n                const app = express();\r\n                const server = http.createServer(app);\r\n\r\n                app.get('/', async (req, res) => {\r\n                    if (req.query.hasOwnProperty('code')) {\r\n                        server.close()\r\n                        commit('server', null);\r\n                        console.log(\"Stopped listening on *:\" + port);\r\n                        dispatch('getAuthByCode', {redirectUrl, code: req.query.code}).then(auth => {\r\n                            remote.getCurrentWindow().focus();\r\n                            resolve({\r\n                                code: req.query.code,\r\n                                token: auth.access_token,\r\n                                refresh: auth.refresh_token,\r\n                                expiryDate: (+new Date) + auth.expires_in * 1000,\r\n                            });\r\n                        });\r\n                    }\r\n                    res.send(`\r\n                        <html lang=\"en\">\r\n                            <head><title>Logging in...</title></head>\r\n                            <body>\r\n                                <script>\r\n                                    window.close();\r\n                                </script>\r\n                            </body>\r\n                        </html>\r\n                    `);\r\n                });\r\n\r\n                commit('server', http);\r\n                server.listen(port, () => {\r\n                    console.log('listening on *:' + port);\r\n                });\r\n            })\r\n        },\r\n    },\r\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemSquare.vue?vue&type=style&index=0&id=da72ae1e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemSquare.vue?vue&type=style&index=0&id=da72ae1e&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueueButton.vue?vue&type=style&index=0&id=3fa583e2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueueButton.vue?vue&type=style&index=0&id=3fa583e2&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaControls.vue?vue&type=style&index=0&id=3b52fd61&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaControls.vue?vue&type=style&index=0&id=3b52fd61&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueueList.vue?vue&type=style&index=0&id=df5ea7c4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueueList.vue?vue&type=style&index=0&id=df5ea7c4&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo-small-v.bd740031.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"seek\",on:{\"mousedown\":_vm.seekDown,\"touchstart\":_vm.touchDown}},[_c('span',{staticClass:\"time\",class:_vm.smallTime ? 'smallTime':''},[_vm._v(_vm._s(_vm.$store.getters.currentTimeHms))]),_c('v-sheet',{ref:\"seekBar\",staticClass:\"seek-background\",style:({margin: _vm.smallTime ? '0 -50px' : '0 5px'}),attrs:{\"flat\":\"\",\"color\":_vm.noBackground ? 'transparent' : 'default'}},[_c('v-sheet',{staticClass:\"seek-progress\",style:({width: Math.round(_vm.$store.getters.progress * 10000)/100+'%'}),attrs:{\"color\":\"primarySeek\"}}),_c('v-sheet',{staticClass:\"seek-thumb\",style:({left:'calc('+ Math.round(_vm.$store.getters.progress * 10000)/100+'% - 5px)'}),attrs:{\"color\":\"primarySeek\"}})],1),_c('span',{staticClass:\"time\",class:_vm.smallTime ? 'smallTime':''},[_vm._v(_vm._s(_vm.$store.getters.durationHms))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"seek\"\r\n         @mousedown=\"seekDown\"\r\n         @touchstart=\"touchDown\">\r\n        <span class=\"time\" :class=\"smallTime ? 'smallTime':''\">{{$store.getters.currentTimeHms}}</span>\r\n        <v-sheet flat\r\n                 class=\"seek-background\"\r\n                 :color=\"noBackground ? 'transparent' : 'default'\"\r\n                 ref=\"seekBar\"\r\n                 :style=\"{margin: smallTime ? '0 -50px' : '0 5px'}\">\r\n            <v-sheet color=\"primarySeek\" class=\"seek-progress\"\r\n                     :style=\"{width: Math.round($store.getters.progress * 10000)/100+'%'}\"\r\n            ></v-sheet>\r\n            <v-sheet color=\"primarySeek\" class=\"seek-thumb\"\r\n                     :style=\"{left:'calc('+ Math.round($store.getters.progress * 10000)/100+'% - 5px)'}\"\r\n            ></v-sheet>\r\n        </v-sheet>\r\n        <span class=\"time\" :class=\"smallTime ? 'smallTime':''\">{{$store.getters.durationHms}}</span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"MediaSeek\",\r\n        props: {\r\n            smallTime: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            noBackground: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n        },\r\n        data: () => ({\r\n            seeking: false,\r\n        }),\r\n        mounted() {\r\n            document.addEventListener('mousemove', this.seekMove);\r\n            document.addEventListener('mouseup', this.seekUp);\r\n            document.addEventListener('touchmove', this.touchMove);\r\n            document.addEventListener('touchend', this.touchEnd);\r\n        },\r\n        beforeDestroy() {\r\n            document.removeEventListener('mousemove', this.seekMove);\r\n            document.removeEventListener('mouseup', this.seekUp);\r\n            document.removeEventListener('touchmove', this.touchMove);\r\n            document.removeEventListener('touchend', this.touchEnd);\r\n        },\r\n        methods: {\r\n            touchDown(e) {\r\n                this.seekDown(e.touches[0]);\r\n            },\r\n            touchMove(e) {\r\n                this.seekMove(e.touches[0]);\r\n            },\r\n            touchEnd(e) {\r\n                this.seekUp(e.touches[0]);\r\n            },\r\n            seekDown(e) {\r\n                this.seeking = true;\r\n                this.seekByEvent(e);\r\n            },\r\n            seekMove(e) {\r\n                if (this.seeking) {\r\n                    this.seekByEvent(e);\r\n                }\r\n            },\r\n            seekByEvent(e) {\r\n                let {left, width} = this.$refs.seekBar.$el.getBoundingClientRect();\r\n                let x = e.pageX - left;\r\n                let percentage = Math.max(Math.min(1, x / width), 0);\r\n                this.$store.commit('seekTo', percentage);\r\n            },\r\n            seekUp(e) {\r\n                this.seeking = false;\r\n            }\r\n        },\r\n        watch: {\r\n            '$store.state.media.track'() {\r\n                this.seeking = false;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .seek {\r\n        -webkit-app-region: no-drag;\r\n        display: flex;\r\n        align-items: center;\r\n        width: 100%;\r\n        min-height: 20px;\r\n        cursor: grab;\r\n    }\r\n\r\n    .seek:active {\r\n        cursor: grabbing;\r\n    }\r\n\r\n    .seek > * {\r\n        pointer-events: none;\r\n    }\r\n\r\n    .time {\r\n        min-width: 40px;\r\n        font-size: 13px;\r\n        opacity: 0.6;\r\n        font-weight: 500;\r\n    }\r\n\r\n    .time:last-child {\r\n        text-align: right;\r\n    }\r\n\r\n    .smallTime {\r\n        opacity: 0.5;\r\n        font-size: 12px;\r\n        margin: -15px 5px 0;\r\n        min-width: 40px !important;\r\n    }\r\n\r\n    .seek-background {\r\n        flex-grow: 1;\r\n        height: 3px;\r\n        border-radius: 2px;\r\n    }\r\n\r\n    .seek-progress {\r\n        height: 100%;\r\n        border-radius: 2px;\r\n    }\r\n\r\n    .seek-thumb {\r\n        height: 7px;\r\n        width: 7px;\r\n        top: -5px;\r\n        position: relative;\r\n        border-radius: 50%;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaSeek.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaSeek.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MediaSeek.vue?vue&type=template&id=5dfc6138&scoped=true&\"\nimport script from \"./MediaSeek.vue?vue&type=script&lang=js&\"\nexport * from \"./MediaSeek.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MediaSeek.vue?vue&type=style&index=0&id=5dfc6138&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5dfc6138\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSheet } from 'vuetify/lib/components/VSheet';\ninstallComponents(component, {VSheet})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolBar.vue?vue&type=style&index=0&id=3056f1c8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolBar.vue?vue&type=style&index=0&id=3056f1c8&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.item !== null)?_c('div',{staticClass:\"follow-button\"},[(!_vm.hideTooltip)?_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(_vm.isFollowed)?_c('v-btn',_vm._g(_vm._b({attrs:{\"loading\":_vm.loading,\"icon\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.unfollow}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-heart-outline\")])],1):_c('v-btn',_vm._g(_vm._b({attrs:{\"loading\":_vm.loading,\"icon\":\"\"},on:{\"click\":_vm.follow}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-heart-outline\")])],1)]}}],null,false,2796376417)},[(_vm.isFollowed)?_c('span',[_vm._v(\"Remove from library\")]):_c('span',[_vm._v(\"Add to library\")])]):_c('div',[(_vm.isFollowed)?_c('v-btn',{attrs:{\"loading\":_vm.loading,\"icon\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.unfollow}},[_c('v-icon',[_vm._v(\"mdi-heart-outline\")])],1):_c('v-btn',{attrs:{\"loading\":_vm.loading,\"icon\":\"\"},on:{\"click\":_vm.follow}},[_c('v-icon',[_vm._v(\"mdi-heart-outline\")])],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"follow-button\" v-if=\"item !== null\">\r\n        <v-tooltip top v-if=\"!hideTooltip\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn :loading=\"loading\" icon v-if=\"isFollowed\" @click=\"unfollow\" color=\"primary\"\r\n                       v-bind=\"attrs\"\r\n                       v-on=\"on\">\r\n                    <v-icon>mdi-heart-outline</v-icon>\r\n                </v-btn>\r\n                <v-btn :loading=\"loading\" icon v-else @click=\"follow\"\r\n                       v-bind=\"attrs\"\r\n                       v-on=\"on\">\r\n                    <v-icon>mdi-heart-outline</v-icon>\r\n                </v-btn>\r\n            </template>\r\n            <span v-if=\"isFollowed\">Remove from library</span>\r\n            <span v-else>Add to library</span>\r\n        </v-tooltip>\r\n        <div v-else>\r\n            <v-btn :loading=\"loading\" icon v-if=\"isFollowed\" @click=\"unfollow\" color=\"primary\">\r\n                <v-icon>mdi-heart-outline</v-icon>\r\n            </v-btn>\r\n            <v-btn :loading=\"loading\" icon v-else @click=\"follow\">\r\n                <v-icon>mdi-heart-outline</v-icon>\r\n            </v-btn>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"FollowButton\",\r\n        props: {\r\n            item: {\r\n                type: Object,\r\n                default: null,\r\n            },\r\n            hideTooltip: {\r\n                type: Boolean,\r\n                default: false,\r\n            }\r\n        },\r\n        data: () => ({\r\n            loading: false,\r\n        }),\r\n        methods: {\r\n            async follow() {\r\n                this.loading = true;\r\n                await this.$store.dispatch('follow' + this.typeCapitalized, this.item);\r\n                this.loading = false;\r\n            },\r\n            async unfollow() {\r\n                this.loading = true;\r\n                await this.$store.dispatch('unfollow' + this.typeCapitalized, this.item);\r\n                this.loading = false;\r\n            },\r\n        },\r\n        computed: {\r\n            typeCapitalized() {\r\n                return this.item.type.substring(0, 1).toUpperCase() + this.item.type.substring(1);\r\n            },\r\n            isFollowed() {\r\n                return this.$store.getters[`is${this.typeCapitalized}Followed`](this.item);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FollowButton.vue?vue&type=template&id=663a8aa8&scoped=true&\"\nimport script from \"./FollowButton.vue?vue&type=script&lang=js&\"\nexport * from \"./FollowButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"663a8aa8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VIcon,VTooltip})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemRow.vue?vue&type=style&index=0&id=27043fbc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemRow.vue?vue&type=style&index=0&id=27043fbc&scoped=true&lang=css&\"","export default {\r\n    api: 'https://api.ruurd.dev',\r\n    // api: 'http://localhost:3000',\r\n}","import config from './config'\r\n\r\nclass FetchInterceptor {\r\n    constructor() {\r\n        this._fetch = window.fetch;\r\n    }\r\n\r\n    start() {\r\n        let originalFetch = this._fetch;\r\n        window.fetch = function () {\r\n            let [url, options] = arguments;\r\n\r\n            let interceptUrls = [\"https://www.youtube.com\", \"https://manifest.googlevideo.com\",\r\n                \"https://r1---\", \"https://r2---\", \"https://r3---\", \"https://r4---\", \"https://r5---\",\r\n                \"https://r6---\", \"https://r7---\", \"https://r8---\", \"https://r9---\"]\r\n            for (let interceptUrl of interceptUrls) {\r\n                if (url.startsWith(interceptUrl)) {\r\n                    console.log(\"INTERCEPT\", url, options);\r\n                    url = `${config.api}/proxy?url=${encodeURIComponent(url)}`;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return originalFetch.apply(this, [url, options]);\r\n        };\r\n    }\r\n\r\n    stop() {\r\n        window.fetch = this._fetch;\r\n    }\r\n}\r\n\r\nexport default new FetchInterceptor();","export default class XMLHttpRequestInterceptor {\r\n    constructor() {\r\n        this.options = {\r\n        };\r\n        this.url = '';\r\n        this.readyState = 0;\r\n        this.status = 0;\r\n        this.onreadystatechange = () => {\r\n        };\r\n        this.responseText = '';\r\n    }\r\n\r\n    static start() {\r\n        this._XMLHttpRequest = window.XMLHttpRequest;\r\n        window.XMLHttpRequest = XMLHttpRequestInterceptor;\r\n    }\r\n\r\n    static stop() {\r\n        window.XMLHttpRequest = this._XMLHttpRequest;\r\n    }\r\n\r\n    async send(postData) {\r\n        this.options.body = postData;\r\n        await this.sendLive();\r\n    }\r\n\r\n    async sendLive() {\r\n        let response = await fetch(this.url, this.options);\r\n        this.readyState = 4;\r\n        this.status = response.status;\r\n        this.responseText = await response.text();\r\n        this.onreadystatechange();\r\n    }\r\n\r\n    open(type, url) {\r\n        this.options.method = type;\r\n        this.url = url;\r\n    }\r\n\r\n    abort(...args) {\r\n        console.info(\"abort\", ...args);\r\n    }\r\n\r\n    setRequestHeader(key, value) {\r\n        if (!this.options.hasOwnProperty('headers'))\r\n            this.options.headers = {};\r\n        this.options.headers[key] = value;\r\n    }\r\n}","import MusicDownloader from \"./MusicDownloader\";\r\nimport FetchInterceptor from \"./FetchInterceptor\";\r\nimport XMLHttpRequestInterceptor from \"./XMLHttpRequestInterceptor\";\r\nimport config from './config'\r\n\r\nexport default class BrowserMusicDownloader extends MusicDownloader {\r\n    constructor() {\r\n        super();\r\n        this.cacheName = 'vue-music';\r\n        FetchInterceptor.start();\r\n        XMLHttpRequestInterceptor.start();\r\n    }\r\n\r\n    async getYtdlInfo(id) {\r\n        // sadly we must move ytdl to the server, because the IP of the ytdl requester has to match the client requesting it\r\n        let response = await fetch(config.api + '/ytdl?id=' + id, {method: \"POST\"});\r\n        return await response.json();\r\n    }\r\n\r\n    async removeCached(track) {\r\n        let trackString = this.getSearchString(track);\r\n        const cacheStorage = await caches.open('vue-music');\r\n        console.warn(`Deleted cache ${trackString} for`, track);\r\n        return await cacheStorage.delete(trackString);\r\n    }\r\n\r\n    async isTrackOffline(track) {\r\n        let trackString = this.getSearchString(track);\r\n        const cacheStorage = await caches.open('vue-music');\r\n        let response = await cacheStorage.match(trackString);\r\n        if (response === undefined)\r\n            return false;\r\n        let blob = await response.blob();\r\n        return URL.createObjectURL(blob);\r\n    }\r\n\r\n    async downloadTrack(url, track, progress = () => 0, abortSignal = null) {\r\n        progress('Downloading');\r\n        let trackString = this.getSearchString(track);\r\n        try {\r\n            let res = await fetch(url, {signal: abortSignal});\r\n            const cacheStorage = await caches.open(this.cacheName);\r\n            await cacheStorage.put(trackString, res);\r\n            progress('Downloaded');\r\n        } catch (e) {\r\n            return progress('Failed');\r\n        }\r\n    }\r\n}","import BrowserMusicDownloader from \"../../js/music-downloader/BrowserMusicDownloader\";\r\n\r\nexport default {\r\n    state: {\r\n        type: 'web',\r\n        channel: null,\r\n        downloads: [],\r\n        playingIcons: [],\r\n        pausedIcons: [],\r\n        downloader: new BrowserMusicDownloader(),\r\n    },\r\n    mutations: {\r\n        channel: (state, channel) => state.channel = channel,\r\n    },\r\n    getters: {},\r\n    actions: {\r\n        exportCache() {\r\n            //Not needed\r\n        },\r\n\r\n        initializePlatform: async ({state, commit, dispatch, getters, rootState}) => {\r\n        },\r\n        setPlatformPlaying: ({state}, playing) => {\r\n        },\r\n\r\n        resetSpotifyLogin({state, commit}) {\r\n            if (state.channel !== null) {\r\n                state.channel.close();\r\n                commit('server', null);\r\n            }\r\n        },\r\n        firstLogin: async ({rootState, getters, state, commit, dispatch}) => {\r\n            return new Promise(async resolve => {\r\n                if (!getters.isKeySet) {\r\n                    console.warn(\"Can't log in, keys are not set\");\r\n                    return;\r\n                }\r\n                let redirectUrl = location.origin + (location.pathname + (location.pathname.endsWith('/') ? '' : '/')).replace(/\\/\\//gi, '/');\r\n                console.log(\"REDIRECT URL:\", redirectUrl);\r\n                redirectUrl = encodeURIComponent(redirectUrl);\r\n                const url = `${rootState.authUrl}authorize?client_id=${rootState.spotifyId}&response_type=code&redirect_uri=${redirectUrl}&scope=${encodeURIComponent(rootState.requestedScopes)}`;\r\n                window.open(url);\r\n\r\n                if (state.channel)\r\n                    state.channel.close();\r\n                let channel = new BroadcastChannel('loginCode');\r\n                commit('channel', channel);\r\n                channel.onmessage = msg => {\r\n                    channel.close();\r\n                    commit('channel', null);\r\n\r\n                    dispatch('getAuthByCode', {redirectUrl, code: msg.data}).then(auth => {\r\n                        resolve({\r\n                            code: msg.data,\r\n                            token: auth.access_token,\r\n                            refresh: auth.refresh_token,\r\n                            expiryDate: (+new Date) + auth.expires_in * 1000,\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n        },\r\n    },\r\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackItem.vue?vue&type=style&index=0&id=1fe4c2ac&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackItem.vue?vue&type=style&index=0&id=1fe4c2ac&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logo.vue?vue&type=style&index=0&id=e229bb10&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logo.vue?vue&type=style&index=0&id=e229bb10&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaInfo.vue?vue&type=style&index=0&id=6d9950ca&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaInfo.vue?vue&type=style&index=0&id=6d9950ca&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list',{ref:\"list\",staticClass:\"queue-list\",style:({\n    height: _vm.height,\n})},[_c('h5',{staticClass:\"context\"},[_vm._v(_vm._s(_vm.context.name))]),_c('recycle-scroller',{ref:\"scroller\",staticClass:\"scroller\",style:({\n                height: _vm.scrollerHeight + 'px',\n            }),attrs:{\"items\":_vm.queue,\"item-size\":51},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n            var item = ref.item;\n            var index = ref.index;\nreturn [_c('div',{staticClass:\"scroll-item\"},[_c('v-divider'),_c('track-row',{key:item.id,attrs:{\"queue-track\":\"\",\"context-item\":_vm.$store.state.media.contextItem,\"track\":item}})],1)]}}])}),_c('div',{staticClass:\"bottom-buttons\"},[(_vm.context.to !== null)?_c('v-btn',{staticClass:\"view-more\",attrs:{\"disabled\":_vm.$route.fullPath === _vm.context.to,\"color\":\"primary\",\"text\":\"\",\"small\":\"\",\"to\":_vm.context.to,\"title\":'Visit ' + _vm.$store.state.media.contextItem.name}},[_vm._v(\"View \"+_vm._s(_vm.contextItem.type)+\" \")]):_vm._e(),_c('v-btn',{staticClass:\"view-more\",attrs:{\"small\":\"\",\"text\":\"\"},on:{\"click\":function($event){return _vm.$store.commit('clearQueue')}}},[_vm._v(\"Clear queue\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-list class=\"queue-list\" ref=\"list\" :style=\"{\r\n        height: height,\r\n    }\">\r\n        <h5 class=\"context\">{{context.name}}</h5>\r\n        <recycle-scroller\r\n                ref=\"scroller\"\r\n                class=\"scroller\"\r\n                :items=\"queue\"\r\n                :item-size=\"51\"\r\n                :style=\"{\r\n                    height: scrollerHeight + 'px',\r\n                }\"\r\n                v-slot=\"{item, index}\">\r\n            <div class=\"scroll-item\">\r\n                <v-divider></v-divider>\r\n                <track-row\r\n                        queue-track\r\n                        :context-item=\"$store.state.media.contextItem\"\r\n                        :key=\"item.id\"\r\n                        :track=\"item\"></track-row>\r\n            </div>\r\n        </recycle-scroller>\r\n        <div class=\"bottom-buttons\">\r\n            <v-btn v-if=\"context.to !== null\" :disabled=\"$route.fullPath === context.to\" color=\"primary\" text\r\n                   class=\"view-more\" small :to=\"context.to\"\r\n                   :title=\"'Visit ' + $store.state.media.contextItem.name\">View {{contextItem.type}}\r\n            </v-btn>\r\n            <v-btn small text class=\"view-more\" @click=\"$store.commit('clearQueue')\">Clear queue</v-btn>\r\n        </div>\r\n    </v-list>\r\n</template>\r\n\r\n<script>\r\n    import TrackRow from \"./TrackRow\";\r\n\r\n    export default {\r\n        name: \"QueueList\",\r\n        components: {TrackRow},\r\n        props: {\r\n            height: {\r\n                type: [Number, String],\r\n                default: '90vh',\r\n            },\r\n        },\r\n        data: () => ({\r\n            scrollerHeight: window.innerHeight - 110 - 150,\r\n        }),\r\n        mounted() {\r\n            this.calculateHeight();\r\n            window.addEventListener('resize', this.calculateHeight);\r\n        },\r\n        beforeDestroy() {\r\n            window.removeEventListener('resize', this.calculateHeight);\r\n        },\r\n        methods: {\r\n            calculateHeight() {\r\n                if (!this.$refs.list)\r\n                    return;\r\n                let {height} = this.$refs.list.$el.getBoundingClientRect();\r\n                this.scrollerHeight = height - 110;\r\n            },\r\n            scrollToItem() {\r\n                setTimeout(() => {\r\n                    this.calculateHeight();\r\n                    if (this.$refs.scroller)\r\n                        this.$refs.scroller.scrollToItem(this.$store.getters.trackIndex);\r\n                }, 100);\r\n            },\r\n        },\r\n        computed: {\r\n            contextItem() {\r\n                return this.$store.state.media.contextItem;\r\n            },\r\n            context() {\r\n                return {\r\n                    name: this.contextItem.name,\r\n                    to: this.$store.getters.relativeItemUrl(this.contextItem)\r\n                };\r\n            },\r\n            queue() {\r\n                return this.$store.getters.currentQueue;\r\n            }\r\n        },\r\n        watch: {\r\n            '$store.getters.trackIndex'() {\r\n                if (this.$refs.scroller)\r\n                    this.$refs.scroller.scrollToItem(this.$store.getters.trackIndex);\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .queue-list {\r\n        overflow-y: auto;\r\n    }\r\n\r\n    .context {\r\n        padding: 15px 20px;\r\n    }\r\n\r\n    .view-more {\r\n        margin: 13px 15px 2px;\r\n    }\r\n\r\n    .scroller {\r\n        height: 51px;\r\n        padding: 0 15px;\r\n    }\r\n\r\n    .bottom-buttons {\r\n        display: flex;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueueList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueueList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QueueList.vue?vue&type=template&id=df5ea7c4&scoped=true&\"\nimport script from \"./QueueList.vue?vue&type=script&lang=js&\"\nexport * from \"./QueueList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QueueList.vue?vue&type=style&index=0&id=df5ea7c4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df5ea7c4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VList } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VBtn,VDivider,VList})\n"],"sourceRoot":""}