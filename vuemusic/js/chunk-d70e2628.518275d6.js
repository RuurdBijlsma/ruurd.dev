(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d70e2628"],{"185b":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"nowPlaying",staticClass:"now-playing"},[e.track?s("v-sheet",{staticClass:"left"},[s("div",{staticClass:"blur-background",style:{backgroundImage:"url("+e.image+")"}}),s("div",{staticClass:"media"},[s("div",{staticClass:"media-container"},[s("div",{staticClass:"media-center"},[s("div",{staticClass:"swipe-container",on:{touchstart:e.startSwipe}},[s("glow-image",{staticClass:"album-image",attrs:{size:e.$store.state.windowWidth<400?200:300,url:e.image}}),s("div",{staticClass:"track-info"},[s("span",{staticClass:"track-title"},[e._v(e._s(e.track.name))]),s("artists-span",{staticClass:"track-artists",attrs:{artists:e.track.artists,grey:""}})],1)],1),s("media-seek",{staticClass:"seek"}),s("media-controls",{staticClass:"controls",attrs:{"fg-legible":e.$store.state.theme.fgLegible,full:"",large:""}})],1)]),s("div",{staticClass:"fsb-container"},[s("v-btn",{staticClass:"fullscreen-button",attrs:{title:"Toggle fullscreen",icon:"",small:""},on:{click:e.toggleFullScreen}},[s("v-icon",[e._v("mdi-fullscreen")])],1),e.mountQueue&&!e.hideQueue?s("v-btn",{staticClass:"fullscreen-button",attrs:{title:"Close queue list",icon:"",small:""},on:{click:function(t){e.hideQueue=!0}}},[s("v-icon",[e._v("mdi-menu-right")])],1):e.mountQueue?s("v-btn",{staticClass:"fullscreen-button",attrs:{title:"Open queue list",icon:"",small:""},on:{click:function(t){e.hideQueue=!1}}},[s("v-icon",[e._v("mdi-menu-left")])],1):e._e()],1)])]):e._e(),e.mountQueue?s("queue-list",{directives:[{name:"show",rawName:"v-show",value:!e.hideQueue,expression:"!hideQueue"}],ref:"list",staticClass:"queue",attrs:{height:"100%"}}):e._e()],1)},a=[],n=s("f966"),r=s("506b"),l=s("6e9c"),o=s("7628"),u=s("d498"),c={name:"NowPlaying",components:{MediaSeek:u["a"],ArtistsSpan:o["a"],MediaControls:l["a"],GlowImage:r["a"],QueueList:n["a"]},data:()=>({hideQueue:null!==localStorage.getItem("hideNPQueue")&&JSON.parse(localStorage.hideNPQueue),startSwipeInfo:null}),mounted(){this.$store.dispatch("setThemeToItem",this.track),document.addEventListener("touchend",this.swipeEnd)},beforeDestroy(){document.removeEventListener("touchend",this.swipeEnd)},methods:{startSwipe(e){this.startSwipeInfo={down:!0,x:e.touches[0].pageX,y:e.touches[0].pageY,time:performance.now()}},swipeEnd(e){if(this.startSwipeInfo&&!this.startSwipeInfo.down)return;this.startSwipeInfo.down=!1;let t=this.startSwipeInfo.x,s=this.startSwipeInfo.y,i=e.changedTouches[0].pageX,a=e.changedTouches[0].pageY,n=Math.abs(a-s);if(n>150)return;let r=i-t,l=performance.now()-this.startSwipeInfo.time;console.log(n,r,l),Math.abs(r)>150&&l<700&&(r>0?this.$store.dispatch("skip",-1):this.$store.dispatch("skip",1))},toggleFullScreen(){document.fullscreenElement?document.exitFullscreen():this.$refs.nowPlaying.requestFullscreen()},scrollToItem(){this.intervals.push(setInterval(()=>{this.$refs.list&&(this.$refs.list.scrollToItem(),this.clearIntervals())},50))}},watch:{hideQueue(){localStorage.hideNPQueue=this.hideQueue,!1===this.hideQueue&&this.$refs.list.scrollToItem()},track(){this.$store.dispatch("setThemeToItem",this.track)}},computed:{mountQueue(){return this.$store.state.windowWidth>=1080},track(){return this.$store.state.media.track},image(){return this.$store.getters.itemImage(this.track)}},beforeRouteLeave(e,t,s){this.$store.dispatch("leavePage"),s()}},d=c,h=(s("faa4"),s("2877")),m=s("6544"),f=s.n(m),p=s("8336"),g=s("132d"),w=s("8dd9"),v=Object(h["a"])(d,i,a,!1,null,"3b3ed8df",null);t["default"]=v.exports;f()(v,{VBtn:p["a"],VIcon:g["a"],VSheet:w["a"]})},"506b":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"glow-image",style:{width:e.size+"px"}},[s("div",{staticClass:"album-art album-background",style:{backgroundImage:"url("+e.image+")",opacity:e.$vuetify.theme.dark?.4:.7,minWidth:e.size+"px",height:e.size+"px",right:-e.size/2+"px",borderRadius:e.rounded?"50%":"5px",top:e.size/16+"px",filter:"blur("+e.size/16+"px)"}}),s("div",{staticClass:"album-art album-normal",style:{backgroundImage:"url("+e.image+")",minWidth:e.size+"px",height:e.size+"px",left:-e.size/2+"px",borderRadius:e.rounded?"50%":"5px"}})])},a=[],n={name:"GlowImage",props:{url:{type:String,default:void 0},size:{type:Number,default:300},rounded:{type:Boolean,default:!1}},computed:{image(){return this.url?this.url:this.$store.getters.notFoundImage}}},r=n,l=(s("cfff"),s("2877")),o=Object(l["a"])(r,i,a,!1,null,"881e9648",null);t["a"]=o.exports},"55a0":function(e,t,s){},b5f96:function(e,t,s){},cfff:function(e,t,s){"use strict";s("b5f96")},faa4:function(e,t,s){"use strict";s("55a0")}}]);
//# sourceMappingURL=chunk-d70e2628.518275d6.js.map