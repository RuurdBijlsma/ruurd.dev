(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76968ffa"],{"286b":function(t,e,s){"use strict";s("3383")},3383:function(t,e,s){},ac6c:function(t,e,s){"use strict";s.r(e);var a=s("8336"),r=s("ce7e"),i=s("4bd4"),l=s("132d"),c=s("490a"),n=s("8654"),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tracks"},[e("recycle-scroller",{staticClass:"scroller",attrs:{items:t.scrollItems,"key-field":"id","size-field":"size"},scopedSlots:t._u([{key:"default",fn:function({item:s,index:o}){return[0===o?e("div",{staticClass:"page-title-container"},[e(i["a"],{staticClass:"title-container",on:{submit:function(e){return e.preventDefault(),t.filter.apply(null,arguments)}}},[e("h1",{staticClass:"page-title"},[t._v("Tracks")]),e(n["a"],{ref:"filterInput",staticClass:"filter-term",attrs:{outlined:"",rounded:"",dense:"",label:"Filter tracks",clearable:""},on:{"click:clear":t.clearFilter},model:{value:t.liveFilter,callback:function(e){t.liveFilter=e},expression:"liveFilter"}})],1),e(r["a"],{staticClass:"divider"}),e("div",{staticClass:"buttons"},[e(a["a"],{attrs:{small:"",color:"primary"},on:{click:function(e){return t.$store.dispatch("playItem",{item:t.context})}}},[e(l["a"],{staticClass:"mr-2",attrs:{small:""}},[t._v("mdi-play")]),t._v(" Play ")],1),t.tracks.length>1?e(a["a"],{attrs:{small:"",color:"primary"},on:{click:function(e){return t.$store.dispatch("playItem",{item:t.context,shuffle:!0})}}},[e(l["a"],{staticClass:"mr-2",attrs:{small:""}},[t._v("mdi-shuffle")]),t._v(" Shuffle ")],1):t._e()],1),e("div",{staticClass:"sub-caption"},[e("span",[t._v(t._s(t.tracks.length)+" tracks")]),e("span",{staticClass:"dot"},[t._v("•")]),e("span",[t._v(t._s(t.fullDuration))]),t.loading?e("span",{staticClass:"loading-indicator"},[e("span",{staticClass:"dot"},[t._v("•")]),e(c["a"],{staticClass:"spinner",attrs:{indeterminate:"",size:"10",width:"1"}}),e("span",[t._v("Refreshing")])],1):t._e()]),e(r["a"],{staticClass:"mr-1 ml-1"})],1):t._e(),o>0?e("div",{staticClass:"scroll-item"},[e("track-row",{key:s.id,attrs:{"no-album":t.hideAlbum,"compact-menu":t.compactMenu,"context-item":t.context,"album-list":!1,track:s}}),e(r["a"],{staticClass:"mr-1 ml-1"})],1):t._e()]}}])})],1)},u=[],d=(s("13d5"),s("1344")),m=s("a123"),f={name:"Tracks",components:{TrackRow:d["a"]},data:()=>({liveFilter:"",filterTerm:"",focusInterval:-1}),async mounted(){await this.$store.dispatch("refreshUserData","track")},beforeDestroy(){clearInterval(this.focusInterval)},methods:{clearFilter(){this.liveFilter="",this.filter(!1)},filter(t=!0){if(this.filterTerm=this.liveFilter,!t)return;let e=!1,s=800,a=10,r=0;clearInterval(this.focusInterval),this.focusInterval=setInterval(()=>{let t=this.$refs.filterInput.$el.querySelector("input");t!==document.activeElement&&(e=!0,this.$refs.filterInput.focus(),clearInterval(this.focusInterval),console.log("Stop due to focus called")),r++>s/a&&(clearInterval(this.focusInterval),console.log("Stop due to timeout"))},a)}},computed:{lowerFilterTerm(){return this.filterTerm.toLowerCase()},context(){return{type:"liked",id:"liked",name:"Liked tracks",tracks:this.tracks}},loading(){return this.$store.state.isRefreshing.track},compactMenu(){let t=this.$store.state.windowWidth;return t<735&&(t>680||t<436)},hideAlbum(){let t=this.$store.state.windowWidth;return t<950},scrollItems(){let t=this.tracks.map(t=>({...t,size:51})),e=142;return[{id:"0",size:e},...t]},tracks(){return""===this.filterTerm?this.$store.state.library.tracks.filter(t=>!t.is_local):this.$store.state.library.tracks.filter(t=>!t.is_local&&t.name.toLowerCase().includes(this.lowerFilterTerm)||t.artists.map(t=>t.name).join(" ").toLowerCase().includes(this.lowerFilterTerm))},fullDuration(){return 0===this.tracks.length?m["a"].secondsToHms(0):m["a"].secondsToHms(this.tracks.map(t=>t.duration_ms/1e3).reduce((t,e)=>t+e))}}},h=f,p=(s("286b"),s("2877")),v=Object(p["a"])(h,o,u,!1,null,"2b6d4f20",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-76968ffa.f42807fb.js.map