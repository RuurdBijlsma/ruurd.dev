(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b10b9fa"],{"36aa":function(t,s,e){},"43e3":function(t,s,e){"use strict";e("d071")},"506b":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"glow-image",style:{width:t.size+"px"}},[e("div",{staticClass:"album-art album-background",style:{backgroundImage:"url("+t.image+")",opacity:t.$vuetify.theme.dark?.4:.7,minWidth:t.size+"px",height:t.size+"px",right:-t.size/2+"px",borderRadius:t.rounded?"50%":"5px",top:t.size/16+"px",filter:"blur("+t.size/16+"px)"}}),e("div",{staticClass:"album-art album-normal",style:{backgroundImage:"url("+t.image+")",minWidth:t.size+"px",height:t.size+"px",left:-t.size/2+"px",borderRadius:t.rounded?"50%":"5px"}})])},i=[],l={name:"GlowImage",props:{url:{type:String,default:void 0},size:{type:Number,default:300},rounded:{type:Boolean,default:!1}},computed:{image(){return this.url?this.url:this.$store.getters.notFoundImage}}},r=l,o=(e("cfff"),e("2877")),n=Object(o["a"])(r,a,i,!1,null,"881e9648",null);s["a"]=n.exports},ac16:function(t,s,e){},b5f96:function(t,s,e){},c489:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.playlist?e("div",{staticClass:"playlist"},[t.$store.state.windowWidth>1030?e("glow-image",{staticClass:"art-section",attrs:{url:t.$store.getters.itemImage(t.playlist),size:t.imageSize}}):t._e(),e("track-section",{attrs:{"highlight-id":t.highlightId,"show-art":t.$store.state.windowWidth<=1030,playlist:t.playlist}})],1):t._e()},i=[],l=(e("a123"),e("dea7")),r=e("506b"),o={name:"PlaylistPage",components:{GlowImage:r["a"],TrackSection:l["a"]},data:()=>({}),props:{type:{type:String,default:"playlist"},id:{type:String,default:"playlist"},playlist:{type:Object,default:null},highlightId:{type:String,default:void 0}},methods:{checkForThemeColorChange(){this.playlist&&this.playlist.primary_color&&this.$store.dispatch("applyThemeColor",this.playlist.primary_color)}},watch:{playlist(){this.checkForThemeColorChange()}},computed:{imageSize(){let t=this.$store.state.windowWidth;return t<1030?350:t<1287?250:t<1450?300:350}}},n=o,c=(e("e588"),e("2877")),u=Object(c["a"])(n,a,i,!1,null,"9458d022",null);s["a"]=u.exports},cfff:function(t,s,e){"use strict";e("b5f96")},d071:function(t,s,e){},dea7:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.playlist?e("div",{staticClass:"track-section"},[e("recycle-scroller",{ref:"scroller",staticClass:"scroller",attrs:{items:t.tracks.filter((function(t){return!t.is_local})),"key-field":"id","size-field":"size"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.item,i=s.index;return[0===i?e("playlist-meta",{staticClass:"playlist-meta",style:{paddingTop:t.showArt?"0":"30px"},attrs:{"show-art":t.showArt,playlist:t.playlist}}):t._e(),i>0?e("div",{staticClass:"scroll-item"},[e("v-divider",{staticClass:"mr-1 ml-1"}),e("track-row",{key:a.id,attrs:{"context-item":t.playlist,"no-album":t.hideAlbum||t.isAlbum,"compact-menu":t.compactMenu,"album-list":t.isAlbum,track:a}})],1):t._e()]}}],null,!1,4027253943)})],1):t._e()},i=[],l=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"playlist-meta"},[t.showArt?e("glow-image",{staticClass:"art-section",attrs:{size:t.imageSize,url:t.$store.getters.itemImage(t.playlist)}}):t._e(),e("h2",{staticClass:"name",attrs:{title:t.playlist.name}},[t._v(t._s(t.playlist.name))]),t.isAlbum?e("h2",{staticClass:"album-artist",attrs:{title:t.playlist.artists.map((function(t){return t.name})).join(", ")}},t._l(t.playlist.artists,(function(s,a){return e("span",{key:s.id},[e("router-link",{staticClass:"artist-link",attrs:{to:t.$store.getters.relativeItemUrl(s)}},[t._v(t._s(s.name))]),a<t.playlist.artists.length-1?e("span",[t._v(", ")]):t._e()],1)})),0):t._e(),e("p",{staticClass:"sub-caption"},[t.isAlbum?e("span",[e("span",{attrs:{title:"Year of release"}},[t._v(t._s(t.releaseYear))]),e("span",{staticClass:"dot"},[t._v("•")])]):t._e(),t.isAlbum&&t.playlist.genres.length>0?e("span",[e("span",[t._v(t._s(t.playlist.genres.join("/")))]),e("span",{staticClass:"dot"},[t._v("•")])]):t.isAlbum?t._e():e("span",[e("span",[e("span",[t._v("Created by ")]),e("router-link",{staticClass:"user-link",attrs:{to:t.$store.getters.relativeItemUrl(t.playlist.owner)}},[t._v(t._s(t.playlist.owner.display_name))])],1),e("span",{staticClass:"dot"},[t._v("•")])]),e("span",[t._v(t._s(t.playlist.tracks.length)+" tracks")]),e("span",{staticClass:"dot"},[t._v("•")]),e("span",[t._v(t._s(t.fullDuration))]),t.playlist.followers?e("span",[e("span",{staticClass:"dot"},[t._v("•")]),e("span",[t._v(t._s(t.playlist.followers.total)+" followers")])]):t._e()]),e("div",{staticClass:"buttons"},[e("div",[e("v-btn",{staticClass:"play-button",attrs:{small:"",color:t.$store.state.theme.fgLegible?"primary":"default"},on:{click:function(s){return t.$store.dispatch("playItem",{item:t.playlist})}}},[e("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("mdi-play")]),t._v(" Play ")],1),t.playlist.tracks.length>1?e("v-btn",{attrs:{small:"",color:t.$store.state.theme.fgLegible?"primary":"default"},on:{click:function(s){return t.$store.dispatch("playItem",{item:t.playlist,shuffle:!0})}}},[e("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("mdi-shuffle")]),t._v(" Shuffle ")],1):t._e()],1),e("div",{staticClass:"right-buttons"},[e("follow-button",{attrs:{item:t.playlist}}),e("item-menu",{attrs:{item:t.playlist}})],1)]),t.isAlbum?t._e():e("p",{staticClass:"description",domProps:{innerHTML:t._s(t.playlist.description)}})],1)},r=[],o=e("a123"),n=e("5dd2"),c=e("e292"),u=e("190f"),p=e("9bcd"),h=e("506b"),d={name:"PlaylistMeta",components:{GlowImage:h["a"],ItemMenu:p["a"],FollowMenuItem:u["a"],FollowButton:c["a"],ShareMenuItem:n["a"]},props:{playlist:{type:Object,default:null},showArt:{type:Boolean,default:!1}},data:()=>({}),async mounted(){},methods:{},computed:{releaseYear(){return this.isAlbum?new Date(this.playlist.release_date).getFullYear():0},tracks(){return this.playlist.tracks},isAlbum(){return"album"===this.playlist.type},fullDuration(){return 0===this.tracks.length?o["a"].secondsToHms(0):o["a"].secondsToHms(this.tracks.map(t=>t.duration_ms/1e3).reduce((t,s)=>t+s))},imageSize(){let t=this.$store.state.windowWidth;return t<400?250:t<450?300:t<1030?350:t<1287?250:t<1450?300:350}}},m=d,y=(e("f53b"),e("2877")),g=e("6544"),f=e.n(g),b=e("8336"),v=e("132d"),_=Object(y["a"])(m,l,r,!1,null,"ec8c6e7e",null),w=_.exports;f()(_,{VBtn:b["a"],VIcon:v["a"]});var k=e("1344"),$={name:"TrackSection",components:{TrackRow:k["a"],PlaylistMeta:w},props:{playlist:{type:Object,default:null},showArt:{type:Boolean,default:!1},highlightId:{type:String,default:void 0}},data:()=>({hasHighlighted:!1}),mounted(){this.highlight()},methods:{async highlight(){if(void 0!==this.highlightId&&this.playlist&&this.playlist.tracks){let t=this.playlist.tracks.findIndex(t=>t.id===this.highlightId);-1!==t&&!1===this.hasHighlighted&&(this.hasHighlighted=!0,this.$refs.scroller.scrollToItem(t+1))}}},watch:{"playlist.tracks"(){this.highlight()}},computed:{compactMenu(){return this.$store.state.windowWidth<759&&this.$store.state.windowWidth>680||this.$store.state.windowWidth<430},hideAlbum(){let t=this.$store.state.windowWidth;return t<960||t>=1030&&t<1237},isAlbum(){return"album"===this.playlist.type},tracks(){let t=this.playlist.tracks.map(t=>({...t,size:51})),s=this.showArt?380:0,e=this.isAlbum||0===this.playlist.description.length?0:80,a=150,i=this.isAlbum?36:0,l=1;return[{id:"0",size:s+e+a+i+l},...t]}}},C=$,I=(e("43e3"),e("ce7e")),A=Object(y["a"])(C,a,i,!1,null,"5a0c44e7",null);s["a"]=A.exports;f()(A,{VDivider:I["a"]})},e588:function(t,s,e){"use strict";e("ac16")},ee18:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("playlist-page",{ref:"playlistPage",attrs:{"highlight-id":t.$route.params.trackId,type:"album",id:t.id,playlist:t.playlist}})},i=[],l=e("dea7"),r=e("c489"),o={name:"Album",components:{PlaylistPage:r["a"],TrackSection:l["a"]},data:()=>({}),async mounted(){if(await this.$store.dispatch("loadAlbum",this.id),void 0!==this.$route.params.trackId){console.log(this.$route.params);let t=this.$route.params.trackId;if(this.$store.getters.isTrackSet&&t===this.$store.state.media.track.id)return this.$store.dispatch("play");let s=this.playlist.tracks.find(s=>s.id===t);this.$store.commit("dontOverwriteTrackFromCache",!0),this.$store.commit("playAfterLoad",!0),this.$store.commit("track",{track:s,contextItem:this.playlist})}},computed:{id(){return this.$route.params.id},playlist(){return console.log("Album",this.$store.state.album[this.id]),this.$store.state.album[this.id]}},watch:{async"$route.params.id"(){await this.$store.dispatch("leavePage"),await this.$store.dispatch("loadAlbum",this.id)}},beforeRouteLeave(t,s,e){this.$store.dispatch("leavePage"),e()}},n=o,c=e("2877"),u=Object(c["a"])(n,a,i,!1,null,null,null);s["default"]=u.exports},f53b:function(t,s,e){"use strict";e("36aa")}}]);
//# sourceMappingURL=chunk-2b10b9fa.fdeda581.js.map