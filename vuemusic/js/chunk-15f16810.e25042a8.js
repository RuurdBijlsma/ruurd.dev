(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15f16810"],{"036e":function(e,t,s){},"185b":function(e,t,s){"use strict";s.r(t);var i=s("8336"),a=s("132d"),r=s("8dd9"),l=function(){var e=this,t=e._self._c;return t("div",{ref:"nowPlaying",staticClass:"now-playing"},[e.track?t(r["a"],{staticClass:"left"},[t("div",{staticClass:"blur-background",style:{backgroundImage:`url(${e.image})`}}),t("div",{staticClass:"media"},[t("div",{staticClass:"media-container"},[t("div",{staticClass:"media-center"},[t("div",{staticClass:"swipe-container",on:{touchstart:e.startSwipe}},[t("glow-image",{staticClass:"album-image",attrs:{size:e.$store.state.windowWidth<400?200:300,url:e.image}}),t("div",{staticClass:"track-info"},[t("span",{staticClass:"track-title"},[e._v(e._s(e.track.name))]),t("artists-span",{staticClass:"track-artists",attrs:{artists:e.track.artists,grey:""}})],1)],1),t("media-seek",{staticClass:"seek"}),t("media-controls",{staticClass:"controls",attrs:{"fg-legible":e.$store.state.theme.fgLegible,full:"",large:""}})],1)]),t("div",{staticClass:"fsb-container"},[t(i["a"],{staticClass:"fullscreen-button",attrs:{title:"Toggle fullscreen",icon:"",small:""},on:{click:e.toggleFullScreen}},[t(a["a"],[e._v("mdi-fullscreen")])],1),e.mountQueue&&!e.hideQueue?t(i["a"],{staticClass:"fullscreen-button",attrs:{title:"Close queue list",icon:"",small:""},on:{click:function(t){e.hideQueue=!0}}},[t(a["a"],[e._v("mdi-menu-right")])],1):e.mountQueue?t(i["a"],{staticClass:"fullscreen-button",attrs:{title:"Open queue list",icon:"",small:""},on:{click:function(t){e.hideQueue=!1}}},[t(a["a"],[e._v("mdi-menu-left")])],1):e._e()],1)])]):e._e(),e.mountQueue?t("queue-list",{directives:[{name:"show",rawName:"v-show",value:!e.hideQueue,expression:"!hideQueue"}],ref:"list",staticClass:"queue",attrs:{height:"100%"}}):e._e()],1)},n=[],o=(s("14d9"),s("f966")),u=s("506b"),c=s("6e9c"),d=s("7628"),h=s("d498"),m={name:"NowPlaying",components:{MediaSeek:h["a"],ArtistsSpan:d["a"],MediaControls:c["a"],GlowImage:u["a"],QueueList:o["a"]},data:()=>({hideQueue:null!==localStorage.getItem("hideNPQueue")&&JSON.parse(localStorage.hideNPQueue),startSwipeInfo:null}),mounted(){this.$store.dispatch("setThemeToItem",this.track),document.addEventListener("touchend",this.swipeEnd)},beforeDestroy(){document.removeEventListener("touchend",this.swipeEnd)},methods:{startSwipe(e){this.startSwipeInfo={down:!0,x:e.touches[0].pageX,y:e.touches[0].pageY,time:performance.now()}},swipeEnd(e){if(this.startSwipeInfo&&!this.startSwipeInfo.down)return;this.startSwipeInfo.down=!1;let t=this.startSwipeInfo.x,s=this.startSwipeInfo.y,i=e.changedTouches[0].pageX,a=e.changedTouches[0].pageY,r=Math.abs(a-s);if(r>150)return;let l=i-t,n=performance.now()-this.startSwipeInfo.time;console.log(r,l,n),Math.abs(l)>150&&n<700&&(l>0?this.$store.dispatch("skip",-1):this.$store.dispatch("skip",1))},toggleFullScreen(){document.fullscreenElement?document.exitFullscreen():this.$refs.nowPlaying.requestFullscreen()},scrollToItem(){this.intervals.push(setInterval(()=>{this.$refs.list&&(this.$refs.list.scrollToItem(),this.clearIntervals())},50))}},watch:{hideQueue(){localStorage.hideNPQueue=this.hideQueue,!1===this.hideQueue&&this.$refs.list.scrollToItem()},track(){this.$store.dispatch("setThemeToItem",this.track)}},computed:{mountQueue(){return this.$store.state.windowWidth>=1080},track(){return this.$store.state.media.track},image(){return this.$store.getters.itemImage(this.track)}},beforeRouteLeave(e,t,s){this.$store.dispatch("leavePage"),s()}},p=m,g=(s("38ea"),s("2877")),f=Object(g["a"])(p,l,n,!1,null,"3b3ed8df",null);t["default"]=f.exports},"38ea":function(e,t,s){"use strict";s("036e")},"506b":function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"glow-image",style:{width:e.size+"px"}},[t("div",{staticClass:"album-art album-background",style:{backgroundImage:`url(${e.image})`,opacity:e.$vuetify.theme.dark?.4:.7,minWidth:e.size+"px",height:e.size+"px",right:-e.size/2+"px",borderRadius:e.rounded?"50%":"5px",top:e.size/16+"px",filter:`blur(${e.size/16}px)`}}),t("div",{staticClass:"album-art album-normal",style:{backgroundImage:`url(${e.image})`,minWidth:e.size+"px",height:e.size+"px",left:-e.size/2+"px",borderRadius:e.rounded?"50%":"5px"}})])},a=[],r={name:"GlowImage",props:{url:{type:String,default:void 0},size:{type:Number,default:300},rounded:{type:Boolean,default:!1}},computed:{image(){return this.url?this.url:this.$store.getters.notFoundImage}}},l=r,n=(s("5317"),s("2877")),o=Object(n["a"])(l,i,a,!1,null,"881e9648",null);t["a"]=o.exports},5317:function(e,t,s){"use strict";s("fda0")},fda0:function(e,t,s){}}]);
//# sourceMappingURL=chunk-15f16810.e25042a8.js.map