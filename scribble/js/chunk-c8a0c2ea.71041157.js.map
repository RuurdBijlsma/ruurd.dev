{"version":3,"sources":["webpack:///./src/views/Game.vue?bc5e","webpack:///src/views/Game.vue","webpack:///./src/views/Game.vue?e3b9","webpack:///./src/views/Game.vue","webpack:///./src/views/Game.vue?f292"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","guessWord","_l","user","attrs","avatar","name","activePlayer","me","ref","domProps","stream","_e","directives","rawName","value","expression","on","sendChat","message","key","id","style","stringToColor","text","model","callback","$$v","chatText","staticRenderFns","console","log","type","params","component","VBtn","VForm","VIcon","VTextField"],"mappings":"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","file":"js/chunk-c8a0c2ea.71041157.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"game\"},[_c('p',[_vm._v(_vm._s(_vm.guessWord))]),_c('div',{staticClass:\"game-content\"},[_c('div',{staticClass:\"users\"},_vm._l((_vm.everyone),function(user){return _c('div',[_c('img',{attrs:{\"src\":user.avatar,\"alt\":\"User avatar\"}}),(user.name)?_c('p',[_vm._v(_vm._s(user.name))]):_c('p',[_c('i',[_vm._v(\"Unnamed\")])])])}),0),_c('div',{staticClass:\"draw-content\"},[(_vm.activePlayer !== _vm.me)?_c('video',{ref:\"streamViewer\",staticClass:\"stream-viewer\",attrs:{\"controls\":\"\",\"autoplay\":\"\",\"width\":\"800\",\"height\":\"420\"},domProps:{\"srcObject\":_vm.activePlayer !== null ? _vm.activePlayer.stream : null}}):_vm._e(),_c('simple-draw',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePlayer === _vm.me),expression:\"activePlayer === me\"}],ref:\"draw\",staticClass:\"draw\",attrs:{\"updateCanvas\":_vm.activePlayer === _vm.me}})],1),_c('div',{staticClass:\"chat\"},[_c('v-form',{attrs:{\"autocomplete\":\"off\"},on:{\"submit\":_vm.sendChat}},[_c('div',{staticClass:\"chat-content\"},_vm._l((_vm.chatMessages),function(message){return _c('p',{key:message.id,staticClass:\"chat-message\"},[_c('span',{staticClass:\"chat-message-user\",style:((\"color: \" + (_vm.stringToColor(message.user.id))))},[_vm._v(_vm._s(message.user.name))]),_c('span',{staticClass:\"chat-message-text\"},[_vm._v(_vm._s(message.text))])])}),0),_c('v-text-field',{staticClass:\"chat-field\",attrs:{\"auto\":\"\",\"filled\":\"\"},model:{value:(_vm.chatText),callback:function ($$v) {_vm.chatText=$$v},expression:\"chatText\"}}),_c('v-btn',{staticClass:\"chat-icon\",attrs:{\"type\":\"submit\",\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-send\")])],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"game\">\n        <p>{{guessWord}}</p>\n        <div class=\"game-content\">\n            <div class=\"users\">\n                <div v-for=\"user in everyone\">\n                    <img :src=\"user.avatar\" alt=\"User avatar\">\n                    <p v-if=\"user.name\">{{user.name}}</p>\n                    <p v-else><i>Unnamed</i></p>\n                </div>\n            </div>\n            <div class=\"draw-content\">\n                <video :srcObject.prop=\"activePlayer !== null ? activePlayer.stream : null\"\n                       v-if=\"activePlayer !== me\"\n                       ref=\"streamViewer\"\n                       controls\n                       autoplay class=\"stream-viewer\"\n                       width=\"800\"\n                       height=\"420\"/>\n                <simple-draw v-show=\"activePlayer === me\"\n                             class=\"draw\"\n                             ref=\"draw\"\n                             :updateCanvas=\"activePlayer === me\"/>\n            </div>\n            <div class=\"chat\">\n                <v-form @submit=\"sendChat\" autocomplete=\"off\">\n                    <div class=\"chat-content\">\n                        <p v-for=\"message in chatMessages\" :key=\"message.id\" class=\"chat-message\">\n                            <span :style=\"`color: ${stringToColor(message.user.id)}`\"\n                                  class=\"chat-message-user\">{{message.user.name}}</span>\n                            <span class=\"chat-message-text\">{{message.text}}</span>\n                        </p>\n                    </div>\n                    <v-text-field class=\"chat-field\" auto filled v-model=\"chatText\"/>\n                    <v-btn type=\"submit\" icon class=\"chat-icon\">\n                        <v-icon>mdi-send</v-icon>\n                    </v-btn>\n                </v-form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import SimpleDraw from \"@/components/SimpleDraw\";\n    import User from \"@/js/User\";\n\n    export default {\n        name: 'Game',\n        components: {SimpleDraw},\n        data: () => ({\n            host: false,\n            settings: null,\n            me: new User({}),\n            others: [],\n            everyone: [],\n            mesh: null,\n            activePlayer: null,\n            currentRound: 0,\n            guessWord: '',\n            chatText: '',\n            chatMessages: [],\n        }),\n        async mounted() {\n            //debug\n            if (false) {\n                this.$store.commit('game', {\n                    host: true,\n                    me: new User({\n                        avatar: 'data:image/png;base64,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',\n                        name: 'RuteNL',\n                        id: '12308950175',\n                        host: true,\n                        me: true,\n                    }),\n                    others: [],\n                    settings: {rounds: 5, time: 100, language: 'English'},\n                });\n            }\n\n            this.mesh = this.$store.state.mesh;\n            this.settings = this.$store.state.game.settings;\n            this.me = this.$store.state.game.me;\n            this.others = this.$store.state.game.others;\n            this.everyone = [this.me, ...this.others].sort((a, b) => a > b ? 1 : -1);\n\n            let loadRemaining = this.others.length;\n            if (loadRemaining === 0)\n                this.hostStart();\n\n            this.mesh.on('data', (id, data) => {\n                let user = this.everyone.find(user => user.id === id);\n                let [type, ...params] = JSON.parse(data);\n                console.log(\"Received data\", type, params);\n                switch (type) {\n                    case 'loaded':\n                        if (!this.me.host)\n                            break;\n                        if (--loadRemaining <= 0) {\n                            //done loading\n                            this.hostStart();\n                        }\n                        console.log('id', id, 'user', user, 'loaded', params, 'loadRemaining', loadRemaining);\n                        break;\n                    case 'start':\n                        this.clientStart();\n                        break;\n                    case 'startRound':\n                        let player = this.everyone.find(user => user.id === params[0]);\n                        this.generalStartRound(player);\n                        break;\n                    case 'word':\n                        this.setGuessWord(params[0]);\n                        break;\n                    case 'chat':\n                        this.submitChatText(user, params[0]);\n                        break;\n                }\n            });\n            this.mesh.on('stream', (id, stream) => {\n                console.log(\"Received stream\", id, stream);\n                let user = this.everyone.find(user => user.id === id);\n                user.stream = stream;\n            });\n            if (this.me.host) {\n                console.log(\"me is host\", this.me, this.me.host);\n                //send start signal to peers now to make sure the host is first on this page\n                this.mesh.broadcast(['start', this.settings]);\n            } else {\n                //Tell host that this peer is loaded\n                let hostUser = this.others.find(user => user.host);\n                console.log(\"me is not host\", this.me, this.me.host, 'found host:', hostUser);\n                this.mesh.send(hostUser.id, ['loaded']);\n            }\n        },\n        methods: {\n            hostStart() {\n                console.log(\"[HOST START]\");\n                //All users are loaded in at this point\n                this.generalStart();\n                this.generalStartRound(this.everyone[0]);\n\n                this.mesh.broadcast(['start']);\n                this.mesh.broadcast(['startRound', this.activePlayer.id]);\n            },\n            clientStart() {\n                console.log(\"[clientStart]\");\n                this.generalStart();\n            },\n            generalStart() {\n                console.log(\"[generalStart]\");\n                this.mesh.broadcastStream(this.$refs.draw.getStream());\n            },\n            async generalStartRound(player) {\n                console.log(\"[generalStartRound]\");\n                this.currentRound++;\n                this.activePlayer = player;\n                if (this.activePlayer === this.me) {\n                    this.startRound();\n                }\n            },\n            async startRound() {\n                console.log(\"[startRound]\");\n                let chosenWord = await this.chooseWord();\n                this.mesh.broadcast(['word', chosenWord]);\n                this.setGuessWord(chosenWord);\n            },\n            async chooseWord() {\n                console.log(\"[chooseWord]\");\n                return new Promise(resolve => {\n                    resolve('ladder');\n                });\n            },\n            setGuessWord(word) {\n                this.guessWord = word;\n            },\n            sendChat(e) {\n                e.preventDefault();\n                this.mesh.broadcast(['chat', this.chatText]);\n                this.submitChatText(this.me, this.chatText);\n                this.chatText = '';\n            },\n            submitChatText(user, text) {\n                if (this.text === this.guessWord) {\n                    alert('you are winner');\n                }\n                this.chatMessages.push({\n                    id: Math.floor(Math.random() * 1000000),\n                    text,\n                    user,\n                });\n            },\n            stringToColor(str) {\n                const hashCode = str => {\n                    let hash = 0;\n                    for (let i = 0; i < str.length; i++) {\n                        hash = str.charCodeAt(i) + ((hash << 5) - hash);\n                    }\n                    return hash;\n                };\n                const intToRGB = i => {\n                    const c = (i & 0x00FFFFFF)\n                        .toString(16)\n                        .toUpperCase();\n\n                    return \"00000\".substring(0, 6 - c.length) + c;\n                };\n                return '#' + intToRGB(hashCode(str));\n            }\n        },\n    }\n</script>\n<style scoped>\n    .game-content {\n        min-width: 1237px;\n        margin: 10px;\n    }\n\n    .game-content > div {\n        display: inline-block;\n    }\n\n    .users {\n        background-color: rgba(255, 255, 255, 0.5);\n        vertical-align: top;\n        padding: 20px;\n        text-align: center;\n        border-top-left-radius: 10px;\n        border-bottom-left-radius: 10px;\n        margin-top: 20px;\n    }\n\n    .users img {\n        border-radius: 50%;\n        width: 70px;\n        height: 70px;\n    }\n\n    .draw-content {\n        margin: 0 auto;\n        width: 300px;\n        overflow: hidden;\n    }\n\n    .draw {\n        width: 800px;\n        height: 500px;\n        background-color: rgba(255, 255, 255, 0.25);\n        border-radius: 10px;\n        overflow: hidden;\n        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);\n    }\n\n    .stream-viewer {\n        width: 800px;\n        height: 420px;\n        background-color: rgba(255, 255, 255, 0.25);\n        border-radius: 10px;\n        overflow: hidden;\n        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);\n    }\n\n    .chat {\n        background-color: rgba(255, 255, 255, 0.5);\n        height: 460px;\n        width: 300px;\n        border-top-right-radius: 10px;\n        border-bottom-right-radius: 10px;\n        margin: 20px 0;\n        vertical-align: top;\n        overflow: hidden;\n    }\n\n    .chat-content {\n        height: calc(100% - 57px);\n        width: 100%;\n        padding: 10px;\n    }\n\n    .chat-field {\n        width: 100%;\n        margin-right: -45px;\n        display: inline-block;\n    }\n\n    .chat-icon {\n        display: inline-block;\n    }\n\n    .chat-message {\n        margin: 5px 0;\n    }\n\n    .chat-message-user {\n        font-weight: bold;\n        margin-right: 6px;\n        background-color: white;\n        border-radius: 4px;\n        padding: 3px;\n    }\n\n    .chat-message-text {\n\n    }\n\n    form.v-form {\n        height: 100%;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=e03c8b44&scoped=true&\"\nimport script from \"./Game.vue?vue&type=script&lang=js&\"\nexport * from \"./Game.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Game.vue?vue&type=style&index=0&id=e03c8b44&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e03c8b44\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VForm,VIcon,VTextField})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&id=e03c8b44&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&id=e03c8b44&scoped=true&lang=css&\""],"sourceRoot":""}