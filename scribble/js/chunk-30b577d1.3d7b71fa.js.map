{"version":3,"sources":["webpack:///./src/views/Game.vue?98db","webpack:///./node_modules/core-js/modules/es.reflect.get.js","webpack:///./src/views/Game.vue?2292","webpack:///./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack:///./node_modules/@babel/runtime/helpers/esm/get.js","webpack:///./src/js/Sound.js","webpack:///./src/js/VolumeSound.js","webpack:///src/views/Game.vue","webpack:///./src/views/Game.vue?e3b9","webpack:///./src/views/Game.vue"],"names":["$","isObject","anObject","has","getOwnPropertyDescriptorModule","getPrototypeOf","get","target","propertyKey","descriptor","prototype","receiver","arguments","length","f","value","undefined","call","stat","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","activePlayer","avatar","style","stringToColor","id","_s","name","Math","round","rounds","map","r","points","reduce","a","b","_e","_l","everyone","filter","u","user","secondsLeft","me","guessWord","wordHint","settings","visibleRound","ceil","timeLeft","time","key","slice","currentRound","i","pow","choosingWord","otherChoosing","word","on","$event","startRound","ref","domProps","stream","directives","rawName","expression","sendChat","message","type","text","model","callback","$$v","chatText","staticRenderFns","_superPropBase","object","property","Object","hasOwnProperty","_get","Reflect","base","superPropBase","desc","getOwnPropertyDescriptor","Sound","src","context","AudioContext","analyser","createAnalyser","connect","destination","init","then","emit","loadSound","buffer","audioURL","fetch","response","arrayBuffer","Promise","resolve","decodeAudioData","source","createBufferSource","v","setSource","start","onended","stop","EventEmitter","VolumeSound","createGain","createGainNode","gainNode","volume","_volume","gain","console","log","params","interval","setInterval","clearTimeout","component","VBtn","VForm","VIcon","VTextField"],"mappings":"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","file":"js/chunk-30b577d1.3d7b71fa.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&id=627156a2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&id=627156a2&scoped=true&lang=css&\"","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar has = require('../internals/has');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\n\n// `Reflect.get` method\n// https://tc39.github.io/ecma262/#sec-reflect.get\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var descriptor, prototype;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (descriptor = getOwnPropertyDescriptorModule.f(target, propertyKey)) return has(descriptor, 'value')\n    ? descriptor.value\n    : descriptor.get === undefined\n      ? undefined\n      : descriptor.get.call(receiver);\n  if (isObject(prototype = getPrototypeOf(target))) return get(prototype, propertyKey, receiver);\n}\n\n$({ target: 'Reflect', stat: true }, {\n  get: get\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"game\"},[_c('div',{staticClass:\"game-content\"},[_c('div',{staticClass:\"users\"},[_c('div',{staticClass:\"user-headline\"},[_vm._v(\"Drawing\")]),(_vm.activePlayer)?_c('div',{staticClass:\"now-drawing single-user\"},[_c('img',{attrs:{\"src\":_vm.activePlayer.avatar,\"alt\":\"User avatar\"}}),(_vm.activePlayer.name)?_c('div',[_c('p',{staticClass:\"chat-message-user\",style:((\"color: \" + (_vm.stringToColor(_vm.activePlayer.id))))},[_vm._v(\" \"+_vm._s(_vm.activePlayer.name))]),_c('p',[_vm._v(_vm._s(Math.round(_vm.activePlayer.rounds.map(function (r){ return r.points; }).reduce(function (a,b){ return a+b; }, 0)))+\" pts\")])]):_c('p',[_c('i',[_vm._v(\"Unnamed\")])])]):_vm._e(),_c('div',{staticClass:\"user-headline\"},[_vm._v(\"Guessing\")]),_vm._l((_vm.everyone.filter(function (u){ return u!==_vm.activePlayer; })),function(user){return _c('div',{staticClass:\"single-user\"},[_c('img',{attrs:{\"src\":user.avatar,\"alt\":\"User avatar\"}}),(user.name)?_c('div',[_c('p',{staticClass:\"chat-message-user\",style:((\"color: \" + (_vm.stringToColor(user.id))))},[_vm._v(\" \"+_vm._s(user.name))]),_c('p',[_vm._v(_vm._s(Math.round(user.rounds.map(function (r){ return r.points; }).reduce(function (a,b){ return a+b; }, 0)))+\" pts\")])]):_c('p',[_c('i',[_vm._v(\"Unnamed\")])])])})],2),_c('div',{staticClass:\"center-content\"},[_c('div',{staticClass:\"top-info\"},[_c('div',{staticClass:\"time-left\"},[_c('span',[_vm._v(_vm._s(_vm.secondsLeft)+\" second\"+_vm._s(_vm.secondsLeft !== 1 ? 's' : '')+\" left\")])]),_c('div',{staticClass:\"word\"},[(_vm.activePlayer === _vm.me)?_c('span',[_vm._v(_vm._s(_vm.guessWord))]):_c('span',[_vm._v(_vm._s(_vm.wordHint))])]),_c('div',{staticClass:\"round-info\"},[(_vm.settings && _vm.settings.rounds)?_c('span',[_vm._v(\"Round \"+_vm._s(_vm.visibleRound)+\" / \"+_vm._s(_vm.settings.rounds))]):_vm._e()])]),(_vm.settings)?_c('div',{staticClass:\"time-left-bar\",style:((\"width:calc(\" + (Math.ceil(_vm.timeLeft / _vm.settings.time * 1000)/10) + \"% - 20px)\"))}):_vm._e(),_c('div',{staticClass:\"draw-content\"},[(_vm.otherChoosing)?_c('div',{staticClass:\"other-choosing\"},[_vm._v(\" \"+_vm._s(_vm.activePlayer.name)+\" is choosing a word to draw \")]):_vm._e(),(_vm.showEndRound)?_c('div',{staticClass:\"round-end\"},[_c('p',{staticClass:\"round-info-reveal\"},[_vm._v(\"The word was\")]),_c('p',{staticClass:\"round-info-guess-word\"},[_vm._v(_vm._s(_vm.guessWord))]),_c('p',{staticClass:\"round-info-reveal\"},[_vm._v(\"Scores\")]),_vm._l((_vm.everyoneSortedByNew),function(user){return _c('div',{key:user.id,staticClass:\"round-info-user\"},[_c('img',{staticClass:\"round-info-avatar\",attrs:{\"src\":user.avatar,\"alt\":\"User avatar\"}}),_c('span',{staticClass:\"round-info-name\"},[_vm._v(_vm._s(user.name)+\":\")]),_c('span',{staticClass:\"spacer\"}),_c('span',{staticClass:\"round-info-total\"},[_vm._v(\" \"+_vm._s(Math.round(user.rounds.slice(0, _vm.currentRound - 1).map(function (r){ return r.points; }).reduce(function (a,b){ return a+b; }, 0)))+\" \")]),_c('span',{staticClass:\"round-info-plus\"},[_vm._v(\"+\")]),_c('span',{staticClass:\"round-info-new\"},[_vm._v(_vm._s(Math.round(user.rounds[_vm.currentRound-1].points)))]),_c('span',{staticClass:\"round-info-total\"},[_vm._v(\"pts\")])])})],2):(_vm.showEndGame)?_c('div',{staticClass:\"round-end\"},_vm._l((_vm.everyoneSorted),function(user,i){return _c('div',{key:user.id,staticClass:\"round-info-user\",style:((\"font-size: \" + (40 / Math.pow( (i+1), 0.1 )) + \"px\"))},[_c('span',{staticClass:\"round-info-rank\"},[_vm._v(\"#\"+_vm._s(i + 1))]),_c('img',{staticClass:\"round-info-avatar\",attrs:{\"src\":user.avatar,\"alt\":\"User avatar\"}}),_c('span',{staticClass:\"round-info-name\"},[_vm._v(_vm._s(user.name)+\":\")]),_c('span',{staticClass:\"spacer\"}),_c('span',{staticClass:\"round-info-total2\"},[_vm._v(\" \"+_vm._s(Math.round(user.rounds.map(function (r){ return r.points; }).reduce(function (a,b){ return a+b; }, 0)))+\" pts \")])])}),0):_vm._e(),(_vm.activePlayer !== _vm.me && !_vm.choosingWord && !_vm.otherChoosing)?_c('video',{ref:\"streamViewer\",staticClass:\"stream-viewer\",attrs:{\"autoplay\":\"\",\"width\":\"800\",\"height\":\"500\"},domProps:{\"srcObject\":_vm.activePlayer !== null ? _vm.activePlayer.stream : null}}):(_vm.choosingWord && _vm.activePlayer === _vm.me)?_c('div',{staticClass:\"choose-word\"},[_c('p',{staticClass:\"headline\"},[_vm._v(\"Choose a word to draw\")]),_c('div',{staticClass:\"word-choices\"},_vm._l((_vm.wordChoices),function(word){return _c('div',[_c('v-btn',{attrs:{\"x-large\":\"\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){return _vm.startRound(word)}}},[_vm._v(_vm._s(word))])],1)}),0)]):_vm._e(),_c('simple-draw',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activePlayer === _vm.me && !_vm.choosingWord && !_vm.otherChoosing),expression:\"activePlayer === me && !choosingWord && !otherChoosing\"}],ref:\"draw\",staticClass:\"draw\",attrs:{\"updateCanvas\":_vm.activePlayer === _vm.me && !_vm.choosingWord && !_vm.otherChoosing}})],1)]),_c('div',{staticClass:\"chat\"},[_c('v-form',{attrs:{\"autocomplete\":\"off\"},on:{\"submit\":_vm.sendChat}},[_c('div',{ref:\"chatContent\",staticClass:\"chat-content\"},_vm._l((_vm.chatMessages),function(message){return _c('div',{key:message.id,staticClass:\"chat-message\"},[(message.type==='drawerChange')?_c('div',[_c('span',{staticClass:\"chat-message-correct\"},[_vm._v(\"Now drawing\")]),_c('span',{staticClass:\"chat-message-spacer\"}),_c('span',{staticClass:\"chat-message-user\",style:((\"color: \" + (_vm.stringToColor(message.user.id))))},[_vm._v(_vm._s(message.user.name))])]):(message.type==='guess')?_c('div',[_c('span',{staticClass:\"chat-message-user\",style:((\"color: \" + (_vm.stringToColor(message.user.id))))},[_vm._v(_vm._s(message.user.name))]),_c('span',{staticClass:\"chat-message-text\"},[_vm._v(_vm._s(message.text))])]):(message.type==='correct')?_c('div',[_c('span',{staticClass:\"chat-message-user\",style:((\"color: \" + (_vm.stringToColor(message.user.id))))},[_vm._v(_vm._s(message.user.name))]),_c('span',{staticClass:\"chat-message-correct\"},[_vm._v(\"Guessed correctly!\")])]):_vm._e()])}),0),_c('v-text-field',{staticClass:\"chat-field\",attrs:{\"placeholder\":\"Make guess\",\"auto\":\"\",\"filled\":\"\"},model:{value:(_vm.chatText),callback:function ($$v) {_vm.chatText=$$v},expression:\"chatText\"}}),_c('v-btn',{staticClass:\"chat-icon\",attrs:{\"type\":\"submit\",\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-send\")])],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import getPrototypeOf from \"./getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import EventEmitter from 'events';\r\n\r\nexport default class Sound extends EventEmitter {\r\n    constructor(src) {\r\n        super()\r\n        this.context = new AudioContext();\r\n        this.analyser = this.context.createAnalyser();\r\n        this.analyser.connect(this.context.destination);\r\n\r\n        this.init(src).then(() => this.emit('load'));\r\n    }\r\n\r\n    async init(src) {\r\n        this.buffer = await this.loadSound(src);\r\n    }\r\n\r\n    async loadSound(audioURL) {\r\n        let response = await fetch(audioURL);\r\n        let arrayBuffer = await response.arrayBuffer();\r\n\r\n        return new Promise(resolve => {\r\n            this.context.decodeAudioData(arrayBuffer, buffer => resolve(buffer));\r\n        })\r\n    }\r\n\r\n    setSource() {\r\n        this.source = this.context.createBufferSource();\r\n        this.source.buffer = this.buffer;\r\n\r\n        this.source.connect(this.analyser);\r\n    }\r\n\r\n    play(v = 1) {\r\n        this.setSource(v);\r\n        this.source.start(0);\r\n        this.source.onended = () => this.stop();\r\n    }\r\n\r\n    stop() {\r\n        this.source.stop()\r\n    }\r\n}","import Sound from \"@/js/Sound\";\r\n\r\nexport default class VolumeSound extends Sound {\r\n    constructor(src) {\r\n        super(src);\r\n    }\r\n\r\n    setSource(v=1) {\r\n        if (!this.context.createGain)\r\n            this.context.createGain = this.context.createGainNode;\r\n        this.gainNode = this.context.createGain();\r\n\r\n        super.setSource();\r\n        this.source.connect(this.gainNode);\r\n\r\n        this.gainNode.connect(this.context.destination);\r\n\r\n        this.volume = v;\r\n    }\r\n\r\n    set volume(v) {\r\n        this._volume = v > 1 ? 1 : v;\r\n        this._volume = this._volume < 0 ? 0 : this._volume;\r\n        v = this.volume;\r\n        v *= 3;\r\n        v -= 1;\r\n        this.gainNode.gain.value = v;\r\n    }\r\n\r\n    get volume() {\r\n        return this._volume;\r\n    }\r\n}","<template>\n    <div class=\"game\">\n        <div class=\"game-content\">\n            <div class=\"users\">\n                <div class=\"user-headline\">Drawing</div>\n                <div class=\"now-drawing single-user\" v-if=\"activePlayer\">\n                    <img :src=\"activePlayer.avatar\" alt=\"User avatar\">\n                    <div v-if=\"activePlayer.name\">\n                        <p :style=\"`color: ${stringToColor(activePlayer.id)}`\" class=\"chat-message-user\">\n                            {{activePlayer.name}}</p>\n                        <p>{{Math.round(activePlayer.rounds.map(r=>r.points).reduce((a,b)=>a+b, 0))}} pts</p>\n                    </div>\n                    <p v-else><i>Unnamed</i></p>\n                </div>\n                <div class=\"user-headline\">Guessing</div>\n                <div v-for=\"user in everyone.filter(u=>u!==activePlayer)\" class=\"single-user\">\n                    <img :src=\"user.avatar\" alt=\"User avatar\">\n                    <div v-if=\"user.name\">\n                        <p :style=\"`color: ${stringToColor(user.id)}`\" class=\"chat-message-user\">\n                            {{user.name}}</p>\n                        <p>{{Math.round(user.rounds.map(r=>r.points).reduce((a,b)=>a+b, 0))}} pts</p>\n                    </div>\n                    <p v-else><i>Unnamed</i></p>\n                </div>\n            </div>\n            <div class=\"center-content\">\n                <div class=\"top-info\">\n                    <div class=\"time-left\">\n                        <span>{{secondsLeft}} second{{secondsLeft !== 1 ? 's' : ''}} left</span>\n                    </div>\n                    <div class=\"word\">\n                        <span v-if=\"activePlayer === me\">{{guessWord}}</span>\n                        <span v-else>{{wordHint}}</span>\n                    </div>\n                    <div class=\"round-info\">\n                        <span v-if=\"settings && settings.rounds\">Round {{visibleRound}} / {{settings.rounds}}</span>\n                    </div>\n                </div>\n                <div class=\"time-left-bar\"\n                     v-if=\"settings\"\n                     :style=\"`width:calc(${Math.ceil(timeLeft / settings.time * 1000)/10}% - 20px)`\"></div>\n                <div class=\"draw-content\">\n                    <div class=\"other-choosing\" v-if=\"otherChoosing\">\n                        {{activePlayer.name}} is choosing a word to draw\n                    </div>\n\n                    <div class=\"round-end\" v-if=\"showEndRound\">\n                        <p class=\"round-info-reveal\">The word was</p>\n                        <p class=\"round-info-guess-word\">{{guessWord}}</p>\n                        <p class=\"round-info-reveal\">Scores</p>\n                        <div v-for=\"user in everyoneSortedByNew\" class=\"round-info-user\" :key=\"user.id\">\n                            <img :src=\"user.avatar\" class=\"round-info-avatar\" alt=\"User avatar\">\n                            <span class=\"round-info-name\">{{user.name}}:</span>\n                            <span class=\"spacer\"/>\n                            <span class=\"round-info-total\">\n                            {{Math.round(user.rounds.slice(0, currentRound - 1).map(r=>r.points).reduce((a,b)=>a+b, 0))}}\n                            </span>\n                            <span class=\"round-info-plus\">+</span>\n                            <span class=\"round-info-new\">{{Math.round(user.rounds[currentRound-1].points)}}</span>\n                            <span class=\"round-info-total\">pts</span>\n                        </div>\n                    </div>\n\n                    <div class=\"round-end\" v-else-if=\"showEndGame\">\n                        <div v-for=\"(user, i) in everyoneSorted\" class=\"round-info-user\" :key=\"user.id\"\n                             :style=\"`font-size: ${40 / (i+1) ** 0.1}px`\">\n                            <span class=\"round-info-rank\">#{{i + 1}}</span>\n                            <img :src=\"user.avatar\" class=\"round-info-avatar\" alt=\"User avatar\">\n                            <span class=\"round-info-name\">{{user.name}}:</span>\n                            <span class=\"spacer\"/>\n                            <span class=\"round-info-total2\">\n                            {{Math.round(user.rounds.map(r=>r.points).reduce((a,b)=>a+b, 0))}} pts\n                            </span>\n                        </div>\n                    </div>\n\n                    <video :srcObject.prop=\"activePlayer !== null ? activePlayer.stream : null\"\n                           v-if=\"activePlayer !== me && !choosingWord && !otherChoosing\"\n                           ref=\"streamViewer\"\n                           autoplay class=\"stream-viewer\"\n                           width=\"800\"\n                           height=\"500\"/>\n\n                    <div class=\"choose-word\" v-else-if=\"choosingWord && activePlayer === me\">\n                        <p class=\"headline\">Choose a word to draw</p>\n                        <div class=\"word-choices\">\n                            <div v-for=\"word in wordChoices\">\n                                <v-btn @click=\"startRound(word)\" x-large dark text>{{word}}</v-btn>\n                            </div>\n                        </div>\n                    </div>\n\n                    <simple-draw\n                            v-show=\"activePlayer === me && !choosingWord && !otherChoosing\"\n                            class=\"draw\"\n                            ref=\"draw\"\n                            :updateCanvas=\"activePlayer === me && !choosingWord && !otherChoosing\"/>\n                </div>\n            </div>\n            <div class=\"chat\">\n                <v-form @submit=\"sendChat\" autocomplete=\"off\">\n                    <div class=\"chat-content\" ref=\"chatContent\">\n                        <div v-for=\"message in chatMessages\" :key=\"message.id\" class=\"chat-message\">\n                            <div v-if=\"message.type==='drawerChange'\">\n                                <span class=\"chat-message-correct\">Now drawing</span>\n                                <span class=\"chat-message-spacer\"/>\n                                <span :style=\"`color: ${stringToColor(message.user.id)}`\" class=\"chat-message-user\">{{message.user.name}}</span>\n                            </div>\n                            <div v-else-if=\"message.type==='guess'\">\n                                <span :style=\"`color: ${stringToColor(message.user.id)}`\" class=\"chat-message-user\">{{message.user.name}}</span>\n                                <span class=\"chat-message-text\">{{message.text}}</span>\n                            </div>\n                            <div v-else-if=\"message.type==='correct'\">\n                                <span :style=\"`color: ${stringToColor(message.user.id)}`\" class=\"chat-message-user\">{{message.user.name}}</span>\n                                <span class=\"chat-message-correct\">Guessed correctly!</span>\n                            </div>\n                        </div>\n                    </div>\n                    <v-text-field placeholder=\"Make guess\" class=\"chat-field\" auto filled v-model=\"chatText\"/>\n                    <v-btn type=\"submit\" icon class=\"chat-icon\">\n                        <v-icon>mdi-send</v-icon>\n                    </v-btn>\n                </v-form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import SimpleDraw from \"@/components/SimpleDraw\";\n    import User from \"@/js/User\";\n    import words from '@/assets/words.json';\n    import VolumeSound from \"@/js/VolumeSound\";\n    import FrequencySound from \"@/js/FrequencySound\";\n\n    export default {\n        name: 'Game',\n        components: {SimpleDraw},\n        data: () => ({\n            host: false,\n            settings: null,\n            me: new User({}),\n            others: [],\n            everyone: [],\n            mesh: null,\n            activePlayer: null,\n            currentRound: 0,\n            guessWord: '',\n            wordHint: '',\n            chatText: '',\n            chatMessages: [],\n            roundTimeouts: [],\n            roundIntervals: [],\n            timeLeft: 0,\n            choosingWord: false,\n            wordChoices: [],\n            chooseTimeout: -1,\n            showEndRound: false,\n            showEndGame: false,\n            roundStartTime: 0,\n            otherChoosing: false,\n            visibleRound: 1,\n            sounds: {\n                correctGuess: new VolumeSound('sounds/correct.ogg'),\n                timeUp: new VolumeSound('sounds/helaas.ogg'),\n                endGame: new VolumeSound('sounds/hoera.ogg'),\n            }\n        }),\n        async mounted() {\n            console.log('-------------{MOUNTED}--------------');\n            //debug\n            if (false) {\n                this.$store.commit('game', {\n                    host: true,\n                    me: new User({\n                        avatar: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAANdklEQVR4Xu2daUhUbRvHr+dDRdGeUbSYoRgJtptlGRKRBUn1oZ1Csw3DLEuKvmhF9MGgkBIMl4qyFYosbaGFpN3IkqKNoM3UbKcgP9TLNTQvve8zM2fmPme8577v/4Eonufert91/841Z+bMnH9+//79m3CAAAh4JPAPBMHOAAHvBCAIdgcI+CAAQbA9QACCYA+AgBgBVBAxbuhlCAEIYkiiEaYYAQgixg29DCEAQQxJNMIUIwBBxLihlyEEIIghiUaYYgQgiBg39DKEAAQxJNEIU4wABBHjhl6GEIAghiQaYYoRgCBi3NDLEAIQxJBEI0wxAhBEjBt6GUIAghiSaIQpRgCCiHFDL0MIQBBDEo0wxQhAEDFu6GUIAQhiSKIRphgBCCLGDb0MIQBBDEk0whQjAEHEuKGXIQQgiCGJRphiBCCIGDf0MoQABDEk0QhTjAAEEeOGXoYQgCCGJBphihGAIGLc0MsQAhDEkEQjTDECEESMG3oZQgCCGJJohClGAIKIcUMvQwhAEEMSjTDFCEAQMW7oZQgBCGJIohGmGAEIIsYNvQwhAEEMSTTCFCMAQcS4oZchBCCIIYlGmGIEIIgYN/QyhAAEMSTRCFOMAAQR44ZehhCAIIYkGmGKEYAgYtzQyxACEMSQRCNMMQIQRIwbehlCAIIYkmiEKUYAgohxQy9DCEAQQxKNMMUIQBAxbsr0qquro+rqanr//j0NGDCAkpKSKCIiQpn1y14oBJGdgSDOv2nTJsrLy/vXDEePHqVZs2YFcWZ9hoYg+uTyfyKpqamhuLg4r9FVVFTQtGnTNI3eubAgiHMsQ2qk0tJSSk9P97qmlJQUOnXqVEitORQXA0H+Lyt85n3w4IHrvw4ZMoRGjRoVinmzXJOVIDxAZWUlTZ061XIskxtAkL+y7+k1O7+Gz83NVW6PWL3E4oDWrVtH+fn5ysXWmguGIH9o87s9XDE8HVxRYmNjWzMvjszl7SLdPfiUKVOoqqrKkbl0HQSC/MlsYWEhrVy50mOed+/eTRkZGUrugV27dlFmZqbHtYeFhbne/sXhnQAE+cPG19lW1ZdZHNqNGzcoISHB6w548uQJRUdHwxEvBCCI5oJweO3ataOWlhaPW+Dw4cM0Z84cCAJBfO8BXSsIRz1u3Di6fv26RwAqV8fWsBoVxIAKkp2dTTt27IAgAkZBEAME0bk6Cuz5gLpAEAii5Oc8Ae1yG40hCASBID4EgiAQBIJAEOsaq/PrdJ1js86svRaoIKggqCCoINZnEZ3PsjrHZp1Zey1QQVBBUEFQQazPIjqfZXWOzTqz9lqggqCCoIKgglifRXQ+y+ocm3Vm7bVABUEFQQVBBbE+i+h8ltU5NuvM2muBCoIKggqCCmJ9FtH5LKtzbNaZtdcCFQQVBBUEFcT6LKLzWVbn2Kwza68FKggqCCoIKoj1WUTns6zOsVln1l4LVBBUEFQQVBDrs4jOZ1mdY7POrL0WqCCoIKggqCDWZxGdz7I6x2adWXstUEFQQVBBUEGszyI6n2V1js06s/ZaoIIYUEH4eYTHjx/3uFPKysooNTXV3i7SuDcE0VyQX79+ET/m4NOnTx638cuXLyk8PFzjLW4vNAiiuSBnz571+pi1yMhIev78ub0dpHlvCKK5IDk5ObR9+3aP23jZsmVUVFSk+Ra3Fx4E0VyQ+Ph4un37tsddgmeDWMsDQTQW5PHjxzR48GCvu6CpqYl69uxpvUsMbgFBNBbE18srfiip+3HXBu9/y9AhiMaC8DPQ+SLd05GVlUU7d+603CCmN4AgGgvCL5+am5s97vHy8nKaN2+e6fvfMn4IoqkgT58+pUGDBnndAHi6raUbrgYQxA9BuAm/VElOTvaPagi0OnLkCM2dO9fjSjp16kRfv34NgVWG/hIgyJ8c+bqg5Sb5+fm0bt260M+oH8InJSXR5cuXlYlF5kIhCBHx7Rj9+/en+vp6r7lQ7TODBQsWEF9neDrWrl3r9cNDmZsxFOeGIESujcQbytfx7NkzioqKCsUcelxTXFwc1dTUePx/xcXFlJ6erkwsMhcKQYho+vTpdOrUKa954LdLKysrZeYp4Lm7dOni9Trj6tWrlJiYGPCYJnYwXhA+y/LZ1tdRUFBAmZmZyuyPxsZG6t27t9f1NjQ0UK9evZSJR+ZCjReksLCQVq5c6TMHDx8+pJiYGJl5Cmju6upqmjBhgsc+nTt3pi9fvgQ0nsmNjRfE17fteGOkpaVRaWmpUnukpKSElixZ4nHNo0aNojt37igVj8zFQpBNmygvL89jDgYOHEiXLl2iiIgImTkKeO41a9Z4vY1k/vz5dPDgwYDHNLUDBPEhCIuTm5ur3N4YPnw41dbWely3qjHJSgIE0UyQz58/U7du3bzupxMnTtCMGTNk7Tfl5oUgmgly8uRJmjlzpteNyN9N79q1q3IbVdaCjReEL8C9fWjGF7uLFy+WlRuheX1dfwwbNozu3bsnNK6pnYwXxNfnIPxuD7/ro9Lh6/pj9erVtGPHDpXCkb5W4wXhDHh6q1fFi1lcfzjvEwT5w7Suro74AzY++DYM/kqqageuP5zPGARxnqm0EX196InrD7G0QBAxbiHZy5cguP4QSxkEEeMWkr3wI9XOpwWCOM9U2ogQxHn0EMR5ptJGhCDOo4cgzjOVNiIEcR49BHGeqbQRIYjz6CGI80yljQhBnEcPQZxnKm1E3e4rkwbyr4khSChkwaE16HZfmUNYbA0DQWzhC73OutxXFipkIUioZMLBdehwX5mDOGwNBUFs4UNn3QlAEN0zjPhsEYAgtvChs+4EIIjuGUZ8tghAEFv40Fl3AhBE9wwjPlsEIIgtfOisOwEIonuGEZ8tAsoLcu7cOeIPxvgJUfHx8cr9jq6t7KFz0AkoK8jp06dpz549VFFR8V9IHTp0oM2bNxM/YgwHCDhBQElBrB5ZoNoTaZ1IJMYIDgHlBLGSgzGp9kTa4KQWozpBQClB+Hdlx48fTz9+/PAZe1lZGaWmpjrBB2MYTkApQXx9IcidR74O4UemqfbQG8P3YciGr5Qg/ry82rZtG23YsCFkgWNhahHQRpDJkycT/3ogP7IZBwg4RUAbQVT8NXankohxgkdAG0EY0YULF2jSpEnBo4WRjSOglCBWP+/fsWNH+vbtm3FJRMDBI6CUIN+/f6d+/foRPyjG2zFixAi6e/du8IhhZKMIKCUIZyYnJ4e2b9/uM0mZmZlUUFBgVCIRbHAIKCcIY0hOTqbz58/7JLJw4ULav39/cKhhVGMIKCnI169fKTo6mhobG30maujQoa4bGkePHm1MQhGoswSUFIQR3Lp1i8aMGeMXja1bt9LGjRv9aotGIPA3AWUF4SD27t1LaWlpfmU0ISGBtmzZQhMnTvSrPRqBABNQWhAO4NixY64bE61uYHSnm78rwtWke/fu2AEgYElAeUE4wmvXrlF2djbdvn3bMmBuEBMT45JkwYIFfrVHI3MJaCEIp+/nz5+UkZFBfMevv8eiRYtcL7vCw8P97YJ2hhHQRhB33oqKimjFihV+p7Fv376Um5tLS5cu9bsPGppDQDtBOHXl5eWUlZVFzc3Nfmdy9uzZrov+9u3b+90HDfUnoKUgnLaPHz+6rkv27dvndxZ79OhBxcXFNGPGDL/7oKHeBLQVxJ02fpdr1apV1NDQ4Hcm+QNGrkD+voXs98BoqBwB7QXhjDQ1NbnetSopKQkoQW3atHGJwhfzsbGxAfVFYz0IGCGIO1WHDh2i9evX0+vXrwPOHn9jMSUlhUaOHEljx44NuD86qEnAKEE4RfX19a53rfhaQ/Ro27atSxS+1YVl4T98Gz4O/QgYJ4g7hQcOHHCJ8uLFC0eyyoK4ZXGL48jAGEQqAWMFYeqvXr0i/i47/45WMA4WhmWJjIwk/rylT58+rr/5Dw41CBgtiDtFZ86ccX12wn9a63CL4hanZ8+erTV1q87jfikaFhbWqvM6NRkE+Ysk/0q8WxSuLjicI5CYmEhxcXG0fPly13d5VDkgiIdMffnyxSUKv+tVXV2tSi6VWCdXksLCQpo1a5YS64UgFmmqqqqiixcv0v37910/BvHp0yclEhvqi+Sfh+W7qkP9gCABZujRo0fEP6LNsty8eZNu3LgR4AhozgRU+aE/COLAfmVJ3LLwv9+8eePAqHoPAUH0zq/P6FgQFoWrDd9R/O7dO9cHlHw/2Nu3b6mlpcVgOkR8HcJfclPhYh0VRMJW/fDhg0sYtzj8t27S8I/7XblyhWpra/9F+OjRo7hIl7DvMGUIEnCLwm9y8MFfc46KigrBlXpeEiqIMqnCQmUQgCAyqGNOZQhAEGVShYXKIABBZFDHnMoQgCDKpAoLlUEAgsigjjmVIQBBlEkVFiqDAASRQR1zKkMAgiiTKixUBgEIIoM65lSGAARRJlVYqAwCEEQGdcypDAEIokyqsFAZBCCIDOqYUxkCEESZVGGhMghAEBnUMacyBCCIMqnCQmUQgCAyqGNOZQhAEGVShYXKIABBZFDHnMoQgCDKpAoLlUEAgsigjjmVIQBBlEkVFiqDAASRQR1zKkMAgiiTKixUBgEIIoM65lSGwH8A7gazEsEK1OgAAAAASUVORK5CYII=',\n                        name: 'RuteNL',\n                        id: '12308950175',\n                        host: true,\n                        me: true,\n                    }),\n                    others: [],\n                    settings: {rounds: 2, time: 4, language: 'English'},\n                });\n            }\n\n\n            this.mesh = this.$store.state.mesh;\n            this.settings = this.$store.state.game.settings;\n            this.me = this.$store.state.game.me;\n            this.others = this.$store.state.game.others;\n            this.everyone = [this.me, ...this.others].sort((a, b) => a > b ? 1 : -1);\n\n            this.everyone.forEach(u => u.rounds = [...new Array(this.settings.rounds * this.everyone.length)].map(() => ({\n                done: false,\n                guessTime: -1,\n                points: 0\n            })));\n            console.log(this.everyone);\n\n            let loadRemaining = this.others.length;\n            if (loadRemaining === 0)\n                this.hostStart();\n\n            this.mesh.on('data', (id, data) => {\n                let user = this.everyone.find(user => user.id === id);\n                let [type, ...params] = JSON.parse(data);\n                console.log(\"Received data\", type, params);\n                switch (type) {\n                    case 'loaded':\n                        if (!this.me.host)\n                            break;\n                        if (--loadRemaining <= 0) {\n                            //done loading\n                            this.hostStart();\n                        }\n                        console.log('id', id, 'user', user, 'loaded', params, 'loadRemaining', loadRemaining);\n                        break;\n                    case 'start':\n                        this.clientStart();\n                        break;\n                    case 'startRound':\n                        let player = this.everyone.find(user => user.id === params[0]);\n                        this.generalStartRound(player);\n                        break;\n                    case 'word':\n                        this.setGuessWord(params[0]);\n                        this.generalStartRoundAfterWordChoice();\n                        break;\n                    case 'wordHint':\n                        this.setWordHint(params[0]);\n                        break;\n                    case 'chat':\n                        this.submitChatText(user, params[0]);\n                        break;\n                    case 'endRound':\n                        console.log(\"Endround\", params[0]);\n                        for (let {id: userId, rounds} of params[0]) {\n                            let user = this.everyone.find(u => u.id === userId);\n                            user.rounds = rounds;\n                        }\n                        this.endRound();\n                        break;\n                }\n            });\n            this.mesh.on('disconnect', id => {\n                let user = this.everyone.findIndex(u => u.id === id);\n                this.everyone.splice(this.everyone.indexOf(user), 1);\n                this.others.splice(this.others.indexOf(user), 1);\n                this.chooseNewHost();\n            });\n            this.mesh.on('stream', (id, stream) => {\n                console.log(\"Received stream\", id, stream);\n                let user = this.everyone.find(user => user.id === id);\n                user.stream = stream;\n            });\n            if (this.me.host) {\n                console.log(\"me is host\", this.me, this.me.host);\n                //send start signal to peers now to make sure the host is first on this page\n                this.mesh.broadcast(['start', this.settings]);\n            } else {\n                //Tell host that this peer is loaded\n                let hostUser = this.others.find(user => user.host);\n                console.log(\"me is not host\", this.me, this.me.host, 'found host:', hostUser);\n                this.mesh.send(hostUser.id, ['loaded']);\n            }\n        },\n        methods: {\n            hostStart() {\n                console.log(\"[HOST START]\");\n                //All users are loaded in at this point\n                this.generalStart();\n                this.generalStartRound(this.everyoneSortedById[0]);\n\n                this.mesh.broadcast(['start']);\n                this.mesh.broadcast(['startRound', this.activePlayer.id]);\n            },\n            clientStart() {\n                console.log(\"[clientStart]\");\n                this.generalStart();\n            },\n            generalStart() {\n                console.log(\"[generalStart]\");\n                this.mesh.broadcastStream(this.$refs.draw.getStream());\n            },\n            async generalStartRound(player) {\n                this.showEndRound = false;\n                console.log(\"[generalStartRound]\");\n                this.currentRound++;\n                this.activePlayer = player;\n\n                this.chatMessages.push({\n                    id: Math.floor(Math.random() * 1000000),\n                    type: 'drawerChange',\n                    user: player,\n                });\n\n                this.timeLeft = this.settings.time;\n\n                if (this.activePlayer === this.me) {\n                    this.chooseWord();\n                } else {\n                    this.otherChoosing = true;\n                }\n            },\n            async generalStartRoundAfterWordChoice() {\n                this.otherChoosing = false;\n                this.$refs.draw.resetCanvas();\n                this.roundStartTime = performance.now();\n                let interval;\n                interval = setInterval(() => {\n                    let timePassed = performance.now() - this.roundStartTime;\n                    this.timeLeft = this.settings.time - timePassed / 1000;\n                    if (this.timeLeft < 0) {\n                        this.timeLeft = 0;\n                        this.sounds.timeUp.play();\n                        this.endRound();\n                        clearInterval(interval);\n                    }\n                }, 1000 / 30);\n                this.roundIntervals.push(interval);\n            },\n            //Only call this on the person that is drawing this round\n            async startRound(chosenWord) {\n                clearTimeout(this.chooseTimeout);\n                this.generalStartRoundAfterWordChoice();\n                this.choosingWord = false;\n                console.log(\"[startRound]\");\n                this.mesh.broadcast(['word', chosenWord]);\n\n                this.setGuessWord(chosenWord);\n\n                let wordHint = this.getWordHint(chosenWord, 1 / 20);\n                this.mesh.broadcast(['wordHint', wordHint]);\n                //After 1/4 of the total time give the first hint\n                this.roundTimeouts.push(setTimeout(() => {\n                    wordHint = this.getWordHint(chosenWord, 1 / 5, wordHint);\n                    this.setWordHint(wordHint);\n                    this.mesh.broadcast(['wordHint', wordHint]);\n                }, this.settings.time * 1000 * (1 / 5)));\n                //After 2/4 of the total time give the second hint\n                this.roundTimeouts.push(setTimeout(() => {\n                    wordHint = this.getWordHint(chosenWord, 1 / 5, wordHint);\n                    this.setWordHint(wordHint);\n                    this.mesh.broadcast(['wordHint', wordHint]);\n                }, this.settings.time * 1000 * (2 / 5)));\n                //After 3/4 of the total time give the third hint\n                this.roundTimeouts.push(setTimeout(() => {\n                    wordHint = this.getWordHint(chosenWord, 1 / 5, wordHint);\n                    this.setWordHint(wordHint);\n                    this.mesh.broadcast(['wordHint', wordHint]);\n                }, this.settings.time * 1000 * (3 / 5)));\n                //After 3/4 of the total time give the third hint\n                this.roundTimeouts.push(setTimeout(() => {\n                    wordHint = this.getWordHint(chosenWord, 1 / 5, wordHint);\n                    this.setWordHint(wordHint);\n                    this.mesh.broadcast(['wordHint', wordHint]);\n                }, this.settings.time * 1000 * (4 / 5)));\n            },\n            endRound() {\n                for (let timeout of this.roundTimeouts)\n                    clearTimeout(timeout);\n                for (let interval of this.roundIntervals)\n                    clearInterval(interval);\n\n                let currentPlayerIndex = this.everyoneSortedById.indexOf(this.activePlayer);\n                let nextPlayerIndex = (currentPlayerIndex + 1) % this.everyone.length;\n\n                if (nextPlayerIndex < 0)\n                    nextPlayerIndex += this.everyone.length;\n\n                this.showEndRound = true;\n\n                if (this.me.host) {\n                    this.roundTimeouts.push(setTimeout(() => {\n                        this.chatMessages = [];\n                        this.guessWord = '';\n                        this.wordHint = '';\n\n                        if (nextPlayerIndex === 0)\n                            this.visibleRound++;\n\n                        if (this.visibleRound > this.settings.rounds) {\n                            this.visibleRound = this.settings.rounds;\n                            this.showEndRound = false;\n                            this.showEndGame = true;\n                            this.sounds.endGame.play();\n                        } else {\n                            this.generalStartRound(this.everyoneSortedById[nextPlayerIndex]);\n                            this.mesh.broadcast(['startRound', this.activePlayer.id]);\n                        }\n                    }, 1000 * 10));\n                }\n            },\n            getRandom(arr, n) {\n                const result = new Array(n);\n                let len = arr.length;\n                const taken = new Array(len);\n                if (n > len)\n                    throw new RangeError(\"getRandom: more elements taken than available\");\n                while (n--) {\n                    const x = Math.floor(Math.random() * len);\n                    result[n] = arr[x in taken ? taken[x] : x];\n                    taken[x] = --len in taken ? taken[len] : len;\n                }\n                return result;\n            },\n            chooseWord() {\n                this.choosingWord = true;\n                this.wordChoices = this.getRandom(words, 4);\n                this.chooseTimeout = setTimeout(() => {\n                    let choice = this.wordChoices[Math.floor(Math.random() * this.wordChoices.length)];\n                    this.startRound(choice);\n                }, 15000);\n            },\n            getWordHint(word, revealPercentage, hiddenWord = '_'.repeat(word.length)) {\n                revealPercentage = Math.max(0, Math.min(1, revealPercentage));\n\n                if (word.length !== hiddenWord.length)\n                    return console.warn(\"word.length does not match hiddenWord.length\", {word, hiddenWord});\n\n                const hiddenChar = '_';\n                let letterBag = word.split('').map((letter, index) => ({letter, index}));\n                let removeLetters = hiddenWord.split('').map((letter, index) => ({\n                    letter,\n                    index\n                })).filter(l => l.letter !== hiddenChar);\n                for (let letter of removeLetters)\n                    letterBag.splice(letterBag.findIndex(l => l.index === letter.index), 1);\n\n                const amountOfLettersToReveal = Math.round(letterBag.length * revealPercentage);\n                let revealedLetters = [];\n                for (let i = 0; i < amountOfLettersToReveal; i++) {\n                    let letter = letterBag[Math.floor(Math.random() * letterBag.length)];\n                    revealedLetters.push(letter);\n                }\n                let wordHint = hiddenWord.split('');\n                for (let {letter, index} of revealedLetters)\n                    wordHint[index] = letter;\n\n                return wordHint.join('');\n            },\n            setGuessWord(word) {\n                this.guessWord = word;\n            },\n            setWordHint(wordHint) {\n                this.wordHint = wordHint;\n            },\n            calculateScore(isArtist, guessTime, totalTime, rank, guesses, total) {\n                //Rank 1 to total, rank of guess\n                //Total is amount of users with correct guesses there are\n                if (isArtist) {\n                    return (total / guesses) * 10;\n                } else {\n                    let timeScore = guessTime / totalTime;\n                    let rankScore = rank / total;\n                    return 1 / (timeScore * rankScore);\n                }\n            },\n            sendChat(e) {\n                e.preventDefault();\n                this.mesh.broadcast(['chat', this.chatText]);\n                this.submitChatText(this.me, this.chatText);\n                this.chatText = '';\n            },\n            submitChatText(user, text) {\n                if (text.toLowerCase() === this.guessWord.toLowerCase() && user !== this.activePlayer) {\n                    this.sounds.correctGuess.play();\n                    this.chatMessages.push({\n                        id: Math.floor(Math.random() * 1000000),\n                        type: 'correct',\n                        user,\n                    });\n                    //todo record time of completion for the user\n                    if (this.me.host) {\n                        let roundI = this.currentRound - 1;\n                        let guessTime = (performance.now() - this.roundStartTime) / 1000;\n                        user.rounds[roundI].guessTime = guessTime;\n                        user.rounds[roundI].done = true;\n                        // if no one is not done:\n                        if (!this.everyone.filter(u => u !== this.activePlayer).some(u => !u.rounds[roundI].done)) {\n                            this.everyone.forEach(user => {\n                                let userGuessTime = user.rounds[roundI].guessTime;\n                                //How many users guessed right before me + 1:\n                                let userRank = this.everyone.filter(u => u.rounds[roundI].guessTime < userGuessTime).length + 1;\n                                let totalGuesses = this.everyone.filter(u => u.rounds[roundI].done).length;\n                                user.rounds[roundI].points = this.calculateScore(user === this.activePlayer, guessTime, this.settings.time, userRank, totalGuesses, this.everyone.length);\n                            });\n                            let usersInfo = this.everyone.map(u => ({id: u.id, rounds: u.rounds}));\n                            console.log(\"Broadcast endround\", usersInfo);\n                            this.mesh.broadcast(['endRound', usersInfo]);\n                            this.endRound();\n                        }\n                    }\n                } else {\n                    this.chatMessages.push({\n                        id: Math.floor(Math.random() * 1000000),\n                        type: 'guess',\n                        text,\n                        user,\n                    });\n                }\n\n                const chat = this.$refs.chatContent;\n                setTimeout(() => {\n                    chat.scrollTo({\n                        top: chat.scrollHeight,\n                        left: 0,\n                        behavior: \"smooth\",\n                    });\n                }, 50);\n            },\n            stringToColor(str) {\n                const hashCode = str => {\n                    let hash = 0;\n                    for (let i = 0; i < str.length; i++) {\n                        hash = str.charCodeAt(i) + ((hash << 5) - hash);\n                    }\n                    return hash;\n                };\n                const intToRGB = i => {\n                    const c = (i & 0x00FFFFFF)\n                        .toString(16)\n                        .toUpperCase();\n\n                    return \"00000\".substring(0, 6 - c.length) + c;\n                };\n                return '#' + intToRGB(hashCode(str));\n            },\n            chooseNewHost() {\n                if (this.everyone.findIndex(user => user.host) === -1 && this.mesh.isFullyConnected()) {\n                    console.log(this.everyone, JSON.stringify(this.everyone));\n                    let newHost = this.everyoneSortedById[0];\n                    newHost.host = true;\n                    console.log(\"Host disconnected, migrating host\", newHost);\n                }\n            },\n        },\n        computed: {\n            secondsLeft() {\n                return Math.round(this.timeLeft);\n            },\n            everyoneSortedById() {\n                return this.everyone.sort((a, b) => a.id > b.id ? 1 : -1);\n            },\n            everyoneSortedByNew() {\n                return this.everyone.sort((a, b) => b.rounds[this.currentRound - 1].points - a.rounds[this.currentRound - 1].points);\n            },\n            everyoneSorted() {\n                return this.everyone.sort((a, b) => b.rounds.map(r => r.points).reduce((c, d) => c + d, 0) - a.rounds.map(r => r.points).reduce((c, d) => c + d, 0))\n            },\n        },\n        beforeDestroy() {\n            clearTimeout(this.chooseTimeout);\n            for (let timeout of this.roundTimeouts)\n                clearTimeout(timeout);\n            for (let interval of this.roundIntervals)\n                clearInterval(interval);\n        }\n    }\n</script>\n<style scoped>\n    .time-left-bar {\n        height: 8px;\n        background-color: lime;\n        border-top-right-radius: 8px;\n        border-top-left-radius: 8px;\n        margin: 0 auto;\n    }\n\n    .top-info {\n        display: flex;\n        justify-content: space-evenly;\n        font-family: 'Fredoka One', cursive !important;\n        padding: 15px 15px 5px;\n        margin-top: 25px;\n        font-size: 20px;\n        color: white;\n    }\n\n    .top-info > div {\n        width: 160px;\n        text-align: center;\n    }\n\n    .word {\n        font-size: 30px;\n        letter-spacing: 3px;\n        flex-grow: 1;\n        display: inline-block;\n        word-wrap: break-word;\n    }\n\n    .time-left, .round-info {\n        padding-top: 10px;\n    }\n\n    .game-content[data-v-3614b62c] {\n        /*min-width: 1237px;*/\n        margin: auto 10px;\n        display: flex;\n        justify-content: center;\n    }\n\n    .game-content > div {\n        display: inline-block;\n    }\n\n    .users {\n        background-color: rgba(255, 255, 255, 0.5);\n        vertical-align: top;\n        padding: 20px;\n        text-align: center;\n        border-top-left-radius: 10px;\n        border-bottom-left-radius: 10px;\n        margin-top: 110px;\n        max-height: 460px;\n        max-width: 300px;\n    }\n\n    .user-headline {\n        font-family: 'Fredoka One', cursive;\n        font-size: 25px;\n        color: rgba(0, 0, 0, 0.6);\n        margin-bottom: 5px;\n    }\n\n    .single-user {\n        display: flex;\n        text-align: left;\n    }\n\n    .single-user > div {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .single-user > img {\n        border-radius: 50%;\n        width: 40px;\n        height: 40px;\n        display: inline-block;\n        margin: 8px 10px 5px 5px;\n    }\n\n    .single-user > div > p {\n        margin: 0;\n        display: inline-block;\n        padding: 2px;\n        font-size: 18px;\n        color: rgba(0, 0, 0, 0.8);\n    }\n\n    .single-user-user {\n        font-weight: bold;\n    }\n\n    .center-content {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .other-choosing {\n        height: 500px;\n        width: 800px;\n        background-color: rgba(0, 0, 0, 0.8);\n        border-radius: 10px;\n        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);\n        padding: 50px;\n        font-size: 40px;\n        font-family: 'Fredoka One', cursive !important;\n        color: white;\n        text-align: center;\n        overflow-y: auto;\n    }\n\n    .choose-word {\n        width: 800px;\n        height: 500px;\n        background-color: rgba(0, 0, 0, 0.8);\n        border-radius: 10px;\n        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);\n        padding: 50px;\n        font-size: 40px;\n        font-family: 'Fredoka One', cursive !important;\n        color: white;\n        text-align: center;\n        overflow-y: auto;\n    }\n\n    .draw-content {\n        width: 800px;\n        height: 500px;\n    }\n\n    .round-end {\n        width: 800px;\n        height: 500px;\n        background-color: rgba(0, 0, 0, 0.7);\n        border-radius: 10px 10px 0 0;\n        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);\n        padding: 50px;\n        font-size: 30px;\n        font-family: 'Fredoka One', cursive !important;\n        color: white;\n        text-align: center;\n        overflow-y: auto;\n        position: absolute;\n        z-index: 3;\n    }\n\n    .round-info-reveal {\n        color: rgba(255, 255, 255, 0.6);\n        font-size: 20px;\n    }\n\n    .round-info-guess-word {\n        color: white;\n        font-size: 40px;\n    }\n\n    .round-info-avatar {\n        width: 30px;\n        height: 30px;\n        border-radius: 50%;\n        margin-right: 10px;\n        display: inline-block;\n    }\n\n    .round-info-rank {\n        color: lime;\n        display: inline-block;\n        vertical-align: top;\n        position: relative;\n        bottom: 3px;\n        margin-right: 10px;\n    }\n\n    .round-info-name {\n        color: rgba(255, 255, 255, 0.6);\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        max-width: 200px;\n        display: inline-block;\n        vertical-align: top;\n        position: relative;\n        bottom: 3px;\n    }\n\n    .round-info-total {\n        color: rgba(255, 255, 255, 0.6);\n        display: inline-block;\n        vertical-align: top;\n        position: relative;\n        bottom: 3px;\n        margin-left: 5px;\n    }\n\n    .round-info-total2 {\n        color: rgba(255, 255, 255, 0.9);\n        display: inline-block;\n        vertical-align: top;\n        position: relative;\n        bottom: 3px;\n        margin-left: 5px;\n    }\n\n    .round-info-plus {\n        color: lime;\n        display: inline-block;\n        vertical-align: top;\n        position: relative;\n        bottom: 3px;\n        margin: 0 5px;\n    }\n\n    .round-info-new {\n        color: lime;\n        display: inline-block;\n        vertical-align: top;\n        position: relative;\n        bottom: 3px;\n    }\n\n    .choose-word p {\n        font-family: 'Fredoka One', cursive !important;\n        color: white;\n    }\n\n    .word-choices {\n        display: flex;\n        justify-content: space-evenly;\n    }\n\n    .draw {\n        position: absolute;\n        width: 800px;\n        height: 580px;\n        background-color: rgba(255, 255, 255, 0.25);\n        border-radius: 10px;\n        overflow: hidden;\n        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);\n    }\n\n    .stream-viewer {\n        position: absolute;\n        width: 800px;\n        height: 500px;\n        background-color: rgba(255, 255, 255, 0.25);\n        border-radius: 10px;\n        overflow: hidden;\n        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);\n    }\n\n    .chat {\n        background-color: rgba(255, 255, 255, 0.5);\n        height: 460px;\n        width: 350px;\n        border-top-right-radius: 10px;\n        border-bottom-right-radius: 10px;\n        margin-top: 110px;\n        vertical-align: top;\n        overflow: hidden;\n    }\n\n    .chat-content {\n        height: calc(100% - 57px);\n        width: 100%;\n        padding: 10px;\n        overflow-y: auto;\n        overflow-x: hidden;\n    }\n\n    .chat-field {\n        width: 100%;\n        margin-right: -45px;\n        display: inline-block;\n    }\n\n    .chat-icon {\n        display: inline-block;\n    }\n\n    .chat-message {\n        margin: 5px 0;\n    }\n\n    .chat-message-user {\n        font-weight: bold;\n        margin-right: 6px;\n        background-color: white;\n        border-radius: 4px;\n        padding: 3px 7px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        max-width: 120px;\n        display: inline-block;\n        height: 30px;\n        vertical-align: middle;\n    }\n\n    .chat-message-text {\n        min-height: 30px;\n        display: inline-block;\n        vertical-align: middle;\n        padding: 3px 0;\n        overflow-wrap: anywhere;\n    }\n\n    .chat-message-spacer {\n        margin: 5px;\n        display: inline-block;\n        height: 20px;\n        vertical-align: middle;\n    }\n\n    .chat-message-correct {\n        font-style: italic;\n        color: lime;\n        background-color: white;\n        border-radius: 4px;\n        padding: 3px 7px;\n        display: inline-block;\n        height: 30px;\n        vertical-align: middle;\n    }\n\n    form.v-form {\n        height: 100%;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=627156a2&scoped=true&\"\nimport script from \"./Game.vue?vue&type=script&lang=js&\"\nexport * from \"./Game.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Game.vue?vue&type=style&index=0&id=627156a2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"627156a2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VForm,VIcon,VTextField})\n"],"sourceRoot":""}