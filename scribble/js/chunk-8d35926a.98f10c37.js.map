{"version":3,"sources":["webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/fast-levenshtein/levenshtein.js","webpack:///./src/views/Game.vue?15ea","webpack:///./node_modules/core-js/modules/es.reflect.get.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/views/Game.vue?ff81","webpack:///./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack:///./node_modules/@babel/runtime/helpers/esm/get.js","webpack:///./src/js/Sound.js","webpack:///./src/js/VolumeSound.js","webpack:///src/views/Game.vue","webpack:///./src/views/Game.vue?6d24","webpack:///./src/views/Game.vue?48cc","webpack:///./node_modules/devtools-detect/index.js"],"names":["module","exports","Error","__webpack_amd_options__","collator","Intl","Collator","sensitivity","err","console","log","prevRow","str2Char","Levenshtein","get","str1","str2","options","curCol","nextCol","i","j","tmp","strCmp","useCollator","str1Len","length","str2Len","charCodeAt","compare","charAt","String","fromCharCode","self","postMessage","importScripts","window","$","isObject","anObject","has","getOwnPropertyDescriptorModule","getPrototypeOf","target","propertyKey","descriptor","prototype","receiver","arguments","f","value","undefined","call","stat","webpackPolyfill","deprecate","paths","children","Object","defineProperty","enumerable","l","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","activePlayer","avatar","style","stringToColor","id","_s","name","Math","round","rounds","map","r","points","reduce","a","b","me","host","on","$event","kick","_e","_l","everyone","filter","u","user","secondsLeft","guessWord","wordHint","settings","visibleRound","ceil","timeLeft","time","key","slice","currentRound","pow","choosingWord","word","startRound","directives","rawName","otherChoosing","expression","ref","broadcastTool","sendChat","message","type","text","model","callback","$$v","chatText","staticRenderFns","_superPropBase","object","property","hasOwnProperty","_get","Reflect","base","superPropBase","desc","getOwnPropertyDescriptor","Sound","src","context","AudioContext","analyser","createAnalyser","connect","destination","init","then","emit","loadSound","buffer","audioURL","fetch","response","arrayBuffer","Promise","resolve","decodeAudioData","source","createBufferSource","v","setSource","start","onended","stop","EventEmitter","VolumeSound","defaultVolume","createGain","createGainNode","gainNode","volume","_volume","gain","setValueAtTime","currentTime","stream","interval","setInterval","clearTimeout","component","VBtn","VForm","VIcon","VTextField","devtools","isOpen","orientation","threshold","emitEvent","dispatchEvent","CustomEvent","detail","main","emitEvents","widthThreshold","outerWidth","innerWidth","heightThreshold","outerHeight","innerHeight","Firebug","chrome","isInitialized"],"mappings":"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","file":"js/chunk-8d35926a.98f10c37.js","sourcesContent":["module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","(function() {\n  'use strict';\n  \n  var collator;\n  try {\n    collator = (typeof Intl !== \"undefined\" && typeof Intl.Collator !== \"undefined\") ? Intl.Collator(\"generic\", { sensitivity: \"base\" }) : null;\n  } catch (err){\n    console.log(\"Collator could not be initialized and wouldn't be used\");\n  }\n  // arrays to re-use\n  var prevRow = [],\n    str2Char = [];\n  \n  /**\n   * Based on the algorithm at http://en.wikipedia.org/wiki/Levenshtein_distance.\n   */\n  var Levenshtein = {\n    /**\n     * Calculate levenshtein distance of the two strings.\n     *\n     * @param str1 String the first string.\n     * @param str2 String the second string.\n     * @param [options] Additional options.\n     * @param [options.useCollator] Use `Intl.Collator` for locale-sensitive string comparison.\n     * @return Integer the levenshtein distance (0 and above).\n     */\n    get: function(str1, str2, options) {\n      var useCollator = (options && collator && options.useCollator);\n      \n      var str1Len = str1.length,\n        str2Len = str2.length;\n      \n      // base cases\n      if (str1Len === 0) return str2Len;\n      if (str2Len === 0) return str1Len;\n\n      // two rows\n      var curCol, nextCol, i, j, tmp;\n\n      // initialise previous row\n      for (i=0; i<str2Len; ++i) {\n        prevRow[i] = i;\n        str2Char[i] = str2.charCodeAt(i);\n      }\n      prevRow[str2Len] = str2Len;\n\n      var strCmp;\n      if (useCollator) {\n        // calculate current row distance from previous row using collator\n        for (i = 0; i < str1Len; ++i) {\n          nextCol = i + 1;\n\n          for (j = 0; j < str2Len; ++j) {\n            curCol = nextCol;\n\n            // substution\n            strCmp = 0 === collator.compare(str1.charAt(i), String.fromCharCode(str2Char[j]));\n\n            nextCol = prevRow[j] + (strCmp ? 0 : 1);\n\n            // insertion\n            tmp = curCol + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n            // deletion\n            tmp = prevRow[j + 1] + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n\n            // copy current col value into previous (in preparation for next iteration)\n            prevRow[j] = curCol;\n          }\n\n          // copy last col value into previous (in preparation for next iteration)\n          prevRow[j] = nextCol;\n        }\n      }\n      else {\n        // calculate current row distance from previous row without collator\n        for (i = 0; i < str1Len; ++i) {\n          nextCol = i + 1;\n\n          for (j = 0; j < str2Len; ++j) {\n            curCol = nextCol;\n\n            // substution\n            strCmp = str1.charCodeAt(i) === str2Char[j];\n\n            nextCol = prevRow[j] + (strCmp ? 0 : 1);\n\n            // insertion\n            tmp = curCol + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n            // deletion\n            tmp = prevRow[j + 1] + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n\n            // copy current col value into previous (in preparation for next iteration)\n            prevRow[j] = curCol;\n          }\n\n          // copy last col value into previous (in preparation for next iteration)\n          prevRow[j] = nextCol;\n        }\n      }\n      return nextCol;\n    }\n\n  };\n\n  // amd\n  if (typeof define !== \"undefined\" && define !== null && define.amd) {\n    define(function() {\n      return Levenshtein;\n    });\n  }\n  // commonjs\n  else if (typeof module !== \"undefined\" && module !== null && typeof exports !== \"undefined\" && module.exports === exports) {\n    module.exports = Levenshtein;\n  }\n  // web worker\n  else if (typeof self !== \"undefined\" && typeof self.postMessage === 'function' && typeof self.importScripts === 'function') {\n    self.Levenshtein = Levenshtein;\n  }\n  // browser main thread\n  else if (typeof window !== \"undefined\" && window !== null) {\n    window.Levenshtein = Levenshtein;\n  }\n}());\n\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&lang=css&\"","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar has = require('../internals/has');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\n\n// `Reflect.get` method\n// https://tc39.es/ecma262/#sec-reflect.get\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var descriptor, prototype;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (descriptor = getOwnPropertyDescriptorModule.f(target, propertyKey)) return has(descriptor, 'value')\n    ? descriptor.value\n    : descriptor.get === undefined\n      ? undefined\n      : descriptor.get.call(receiver);\n  if (isObject(prototype = getPrototypeOf(target))) return get(prototype, propertyKey, receiver);\n}\n\n$({ target: 'Reflect', stat: true }, {\n  get: get\n});\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"game\"},[_c('div',{staticClass:\"game-content\",attrs:{\"id\":\"game-content\"}},[_c('div',{staticClass:\"users\"},[_c('div',{staticClass:\"user-headline\"},[_vm._v(\"Drawing\")]),(_vm.activePlayer)?_c('div',{staticClass:\"now-drawing single-user\"},[_c('img',{attrs:{\"src\":_vm.activePlayer.avatar,\"alt\":\"User avatar\"}}),(_vm.activePlayer.name)?_c('div',[_c('p',{staticClass:\"chat-message-user\",style:((\"color: \" + (_vm.stringToColor(_vm.activePlayer.id))))},[_vm._v(\" \"+_vm._s(_vm.activePlayer.name))]),_c('p',[_vm._v(_vm._s(Math.round(_vm.activePlayer.rounds.map(function (r){ return r.points; }).reduce(function (a,b){ return a+b; }, 0)))+\" pts\")])]):_c('p',[_c('i',[_vm._v(\"Unnamed\")])]),(_vm.me.host && _vm.me!==_vm.activePlayer)?_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.kick(_vm.activePlayer)}}},[_vm._v(\"Kick \")]):_vm._e()],1):_vm._e(),_c('div',{staticClass:\"user-headline\"},[_vm._v(\"Guessing\")]),_vm._l((_vm.everyone.filter(function (u){ return u!==_vm.activePlayer; })),function(user){return _c('div',{staticClass:\"single-user\"},[_c('img',{attrs:{\"src\":user.avatar,\"alt\":\"User avatar\"}}),(user.name)?_c('div',[_c('p',{staticClass:\"chat-message-user\",style:((\"color: \" + (_vm.stringToColor(user.id))))},[_vm._v(\" \"+_vm._s(user.name))]),_c('p',[_vm._v(_vm._s(Math.round(user.rounds.map(function (r){ return r.points; }).reduce(function (a,b){ return a+b; }, 0)))+\" pts\")])]):_c('p',[_c('i',[_vm._v(\"Unnamed\")])]),(_vm.me.host && _vm.me!==user)?_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.kick(user)}}},[_vm._v(\"Kick\")]):_vm._e()],1)})],2),_c('div',{staticClass:\"center-content\"},[_c('div',{staticClass:\"top-info\"},[_c('div',{staticClass:\"time-left\"},[_c('span',[_vm._v(_vm._s(_vm.secondsLeft)+\" second\"+_vm._s(_vm.secondsLeft !== 1 ? 's' : '')+\" left\")])]),_c('div',{staticClass:\"word\"},[(_vm.activePlayer === _vm.me)?_c('span',[_vm._v(_vm._s(_vm.guessWord))]):_c('span',[_vm._v(_vm._s(_vm.wordHint))])]),_c('div',{staticClass:\"round-info\"},[(_vm.settings && _vm.settings.rounds)?_c('span',[_vm._v(\"Round \"+_vm._s(_vm.visibleRound)+\" / \"+_vm._s(_vm.settings.rounds))]):_vm._e()])]),(_vm.settings)?_c('div',{staticClass:\"time-left-bar\",style:((\"width:calc(\" + (Math.ceil(_vm.timeLeft / _vm.settings.time * 1000)/10) + \"% - 20px)\"))}):_vm._e(),_c('div',{staticClass:\"draw-content\"},[(_vm.otherChoosing)?_c('div',{staticClass:\"other-choosing\"},[_vm._v(\" \"+_vm._s(_vm.activePlayer.name)+\" is choosing a word to draw \")]):_vm._e(),(_vm.showEndRound)?_c('div',{staticClass:\"round-end\"},[_c('p',{staticClass:\"round-info-reveal\"},[_vm._v(\"The word was\")]),_c('p',{staticClass:\"round-info-guess-word\"},[_vm._v(_vm._s(_vm.guessWord))]),_c('p',{staticClass:\"round-info-reveal\"},[_vm._v(\"Scores\")]),_vm._l((_vm.everyoneSortedByNew),function(user){return _c('div',{key:user.id,staticClass:\"round-info-user\"},[_c('img',{staticClass:\"round-info-avatar\",attrs:{\"src\":user.avatar,\"alt\":\"User avatar\"}}),_c('span',{staticClass:\"round-info-name\"},[_vm._v(_vm._s(user.name)+\":\")]),_c('span',{staticClass:\"spacer\"}),_c('span',{staticClass:\"round-info-total\"},[_vm._v(\" \"+_vm._s(Math.round(user.rounds.slice(0, _vm.currentRound - 1).map(function (r){ return r.points; }).reduce(function (a,b){ return a+b; }, 0)))+\" \")]),_c('span',{staticClass:\"round-info-plus\"},[_vm._v(\"+\")]),_c('span',{staticClass:\"round-info-new\"},[_vm._v(_vm._s(Math.round(user.rounds[_vm.currentRound-1].points)))]),_c('span',{staticClass:\"round-info-total\"},[_vm._v(\"pts\")])])})],2):(_vm.showEndGame)?_c('div',{staticClass:\"round-end\"},_vm._l((_vm.everyoneSorted),function(user,i){return _c('div',{key:user.id,staticClass:\"round-info-user\",style:((\"font-size: \" + (40 / Math.pow( (i+1), 0.1 )) + \"px\"))},[_c('span',{staticClass:\"round-info-rank\"},[_vm._v(\"#\"+_vm._s(i + 1))]),_c('img',{staticClass:\"round-info-avatar\",attrs:{\"src\":user.avatar,\"alt\":\"User avatar\"}}),_c('span',{staticClass:\"round-info-name\"},[_vm._v(_vm._s(user.name)+\":\")]),_c('span',{staticClass:\"spacer\"}),_c('span',{staticClass:\"round-info-total2\"},[_vm._v(\" \"+_vm._s(Math.round(user.rounds.map(function (r){ return r.points; }).reduce(function (a,b){ return a+b; }, 0)))+\" pts \")])])}),0):(_vm.choosingWord && _vm.activePlayer === _vm.me)?_c('div',{staticClass:\"choose-word\"},[_c('p',{staticClass:\"headline\"},[_vm._v(\"Choose a word to draw\")]),_c('div',{staticClass:\"word-choices\"},_vm._l((_vm.wordChoices),function(word){return _c('div',[_c('v-btn',{attrs:{\"x-large\":\"\",\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){return _vm.startRound(word)}}},[_vm._v(_vm._s(word))])],1)}),0)]):_vm._e(),_c('simple-draw',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.choosingWord && !_vm.otherChoosing),expression:\"!choosingWord && !otherChoosing\"}],ref:\"draw\",staticClass:\"draw\",attrs:{\"read-only\":_vm.activePlayer!==_vm.me,\"updateCanvas\":!_vm.choosingWord && !_vm.otherChoosing},on:{\"toolUse\":_vm.broadcastTool}})],1)]),_c('div',{staticClass:\"chat\"},[_c('v-form',{attrs:{\"autocomplete\":\"off\"},on:{\"submit\":_vm.sendChat}},[_c('div',{ref:\"chatContent\",staticClass:\"chat-content\"},_vm._l((_vm.chatMessages),function(message){return _c('div',{key:message.id,staticClass:\"chat-message\"},[(message.type==='drawerChange')?_c('div',[_c('span',{staticClass:\"chat-message-correct\"},[_vm._v(\"Now drawing\")]),_c('span',{staticClass:\"chat-message-spacer\"}),_c('span',{staticClass:\"chat-message-user\",style:((\"color: \" + (_vm.stringToColor(message.user.id))))},[_vm._v(_vm._s(message.user.name))])]):(message.type==='guess')?_c('div',[_c('span',{staticClass:\"chat-message-user\",style:((\"color: \" + (_vm.stringToColor(message.user.id))))},[_vm._v(_vm._s(message.user.name))]),_c('span',{staticClass:\"chat-message-text\"},[_vm._v(_vm._s(message.text))])]):(message.type==='correct')?_c('div',[_c('span',{staticClass:\"chat-message-user\",style:((\"color: \" + (_vm.stringToColor(message.user.id))))},[_vm._v(_vm._s(message.user.name))]),_c('span',{staticClass:\"chat-message-correct\"},[_vm._v(\"Guessed correctly!\")])]):(message.type==='event')?_c('div',[_c('span',{staticClass:\"chat-message-event\",style:((\"color: \" + (message.color)))},[_vm._v(\" \"+_vm._s(message.text)+\" \")])]):_vm._e()])}),0),_c('v-text-field',{staticClass:\"chat-field\",attrs:{\"placeholder\":\"Make guess\",\"auto\":\"\",\"filled\":\"\"},model:{value:(_vm.chatText),callback:function ($$v) {_vm.chatText=$$v},expression:\"chatText\"}}),_c('v-btn',{staticClass:\"chat-icon\",attrs:{\"type\":\"submit\",\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-send\")])],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import EventEmitter from 'events';\r\n\r\nexport default class Sound extends EventEmitter {\r\n    constructor(src) {\r\n        super()\r\n        this.context = new AudioContext();\r\n        this.analyser = this.context.createAnalyser();\r\n        this.analyser.connect(this.context.destination);\r\n\r\n        this.init(src).then(() => this.emit('load'));\r\n    }\r\n\r\n    async init(src) {\r\n        this.buffer = await this.loadSound(src);\r\n    }\r\n\r\n    async loadSound(audioURL) {\r\n        let response = await fetch(audioURL);\r\n        let arrayBuffer = await response.arrayBuffer();\r\n\r\n        return new Promise(resolve => {\r\n            this.context.decodeAudioData(arrayBuffer, buffer => resolve(buffer));\r\n        })\r\n    }\r\n\r\n    setSource() {\r\n        this.source = this.context.createBufferSource();\r\n        this.source.buffer = this.buffer;\r\n\r\n        this.source.connect(this.analyser);\r\n    }\r\n\r\n    play(v) {\r\n        this.setSource(v);\r\n        this.source.start(0);\r\n        this.source.onended = () => this.stop();\r\n    }\r\n\r\n    stop() {\r\n        this.source.stop()\r\n    }\r\n}","import Sound from \"@/js/Sound\";\r\n\r\nexport default class VolumeSound extends Sound {\r\n    constructor(src, defaultVolume = 1) {\r\n        super(src);\r\n        this.defaultVolume = defaultVolume;\r\n    }\r\n\r\n    setSource(v = this.defaultVolume) {\r\n        if (!this.context.createGain)\r\n            this.context.createGain = this.context.createGainNode;\r\n        this.gainNode = this.context.createGain();\r\n\r\n        super.setSource();\r\n        this.source.connect(this.gainNode);\r\n\r\n        this.gainNode.connect(this.context.destination);\r\n\r\n        this.volume = v;\r\n    }\r\n\r\n    set volume(v) {\r\n        this._volume = v > 1 ? 1 : v;\r\n        this._volume = this._volume < 0 ? 0 : this._volume;\r\n        v = this.volume;\r\n        v *= 3;\r\n        v -= 1;\r\n        console.log(\"Gain value\", v);\r\n        this.gainNode.gain.setValueAtTime(v, this.context.currentTime);\r\n    }\r\n\r\n    get volume() {\r\n        return this._volume;\r\n    }\r\n}","<template>\r\n    <div class=\"game\">\r\n        <div class=\"game-content\" id=\"game-content\">\r\n            <div class=\"users\">\r\n                <div class=\"user-headline\">Drawing</div>\r\n                <div class=\"now-drawing single-user\" v-if=\"activePlayer\">\r\n                    <img :src=\"activePlayer.avatar\" alt=\"User avatar\">\r\n                    <div v-if=\"activePlayer.name\">\r\n                        <p :style=\"`color: ${stringToColor(activePlayer.id)}`\" class=\"chat-message-user\">\r\n                            {{activePlayer.name}}</p>\r\n                        <p>{{Math.round(activePlayer.rounds.map(r=>r.points).reduce((a,b)=>a+b, 0))}} pts</p>\r\n                    </div>\r\n                    <p v-else><i>Unnamed</i></p>\r\n                    <v-btn v-if=\"me.host && me!==activePlayer\" text color=\"error\" @click=\"kick(activePlayer)\">Kick\r\n                    </v-btn>\r\n                </div>\r\n                <div class=\"user-headline\">Guessing</div>\r\n                <div v-for=\"user in everyone.filter(u=>u!==activePlayer)\" class=\"single-user\">\r\n                    <img :src=\"user.avatar\" alt=\"User avatar\">\r\n                    <div v-if=\"user.name\">\r\n                        <p :style=\"`color: ${stringToColor(user.id)}`\" class=\"chat-message-user\">\r\n                            {{user.name}}</p>\r\n                        <p>{{Math.round(user.rounds.map(r=>r.points).reduce((a,b)=>a+b, 0))}} pts</p>\r\n                    </div>\r\n                    <p v-else><i>Unnamed</i></p>\r\n                    <v-btn v-if=\"me.host && me!==user\" text color=\"error\" @click=\"kick(user)\">Kick</v-btn>\r\n                </div>\r\n            </div>\r\n            <div class=\"center-content\">\r\n                <div class=\"top-info\">\r\n                    <div class=\"time-left\">\r\n                        <span>{{secondsLeft}} second{{secondsLeft !== 1 ? 's' : ''}} left</span>\r\n                    </div>\r\n                    <div class=\"word\">\r\n                        <span v-if=\"activePlayer === me\">{{guessWord}}</span>\r\n                        <span v-else>{{wordHint}}</span>\r\n                    </div>\r\n                    <div class=\"round-info\">\r\n                        <span v-if=\"settings && settings.rounds\">Round {{visibleRound}} / {{settings.rounds}}</span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"time-left-bar\"\r\n                     v-if=\"settings\"\r\n                     :style=\"`width:calc(${Math.ceil(timeLeft / settings.time * 1000)/10}% - 20px)`\"></div>\r\n                <div class=\"draw-content\">\r\n                    <div class=\"other-choosing\" v-if=\"otherChoosing\">\r\n                        {{activePlayer.name}} is choosing a word to draw\r\n                    </div>\r\n\r\n                    <div class=\"round-end\" v-if=\"showEndRound\">\r\n                        <p class=\"round-info-reveal\">The word was</p>\r\n                        <p class=\"round-info-guess-word\">{{guessWord}}</p>\r\n                        <p class=\"round-info-reveal\">Scores</p>\r\n                        <div v-for=\"user in everyoneSortedByNew\" class=\"round-info-user\" :key=\"user.id\">\r\n                            <img :src=\"user.avatar\" class=\"round-info-avatar\" alt=\"User avatar\">\r\n                            <span class=\"round-info-name\">{{user.name}}:</span>\r\n                            <span class=\"spacer\"/>\r\n                            <span class=\"round-info-total\">\r\n                            {{Math.round(user.rounds.slice(0, currentRound - 1).map(r=>r.points).reduce((a,b)=>a+b, 0))}}\r\n                            </span>\r\n                            <span class=\"round-info-plus\">+</span>\r\n                            <span class=\"round-info-new\">{{Math.round(user.rounds[currentRound-1].points)}}</span>\r\n                            <span class=\"round-info-total\">pts</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"round-end\" v-else-if=\"showEndGame\">\r\n                        <div v-for=\"(user, i) in everyoneSorted\" class=\"round-info-user\" :key=\"user.id\"\r\n                             :style=\"`font-size: ${40 / (i+1) ** 0.1}px`\">\r\n                            <span class=\"round-info-rank\">#{{i + 1}}</span>\r\n                            <img :src=\"user.avatar\" class=\"round-info-avatar\" alt=\"User avatar\">\r\n                            <span class=\"round-info-name\">{{user.name}}:</span>\r\n                            <span class=\"spacer\"/>\r\n                            <span class=\"round-info-total2\">\r\n                            {{Math.round(user.rounds.map(r=>r.points).reduce((a,b)=>a+b, 0))}} pts\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!--                    <video :srcObject.prop=\"activePlayer !== null ? activePlayer.stream : null\"-->\r\n                    <!--                           v-if=\"activePlayer !== me && !choosingWord && !otherChoosing\"-->\r\n                    <!--                           ref=\"streamViewer\"-->\r\n                    <!--                           autoplay class=\"stream-viewer\"-->\r\n                    <!--                           width=\"800\"-->\r\n                    <!--                           height=\"500\"/>-->\r\n\r\n                    <div class=\"choose-word\" v-else-if=\"choosingWord && activePlayer === me\">\r\n                        <p class=\"headline\">Choose a word to draw</p>\r\n                        <div class=\"word-choices\">\r\n                            <div v-for=\"word in wordChoices\">\r\n                                <v-btn @click=\"startRound(word)\" x-large dark text>{{word}}</v-btn>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <simple-draw\r\n                            @toolUse=\"broadcastTool\"\r\n                            v-show=\"!choosingWord && !otherChoosing\"\r\n                            class=\"draw\"\r\n                            :read-only=\"activePlayer!==me\"\r\n                            ref=\"draw\"\r\n                            :updateCanvas=\"!choosingWord && !otherChoosing\"/>\r\n                </div>\r\n            </div>\r\n            <div class=\"chat\">\r\n                <v-form @submit=\"sendChat\" autocomplete=\"off\">\r\n                    <div class=\"chat-content\" ref=\"chatContent\">\r\n                        <div v-for=\"message in chatMessages\" :key=\"message.id\" class=\"chat-message\">\r\n                            <div v-if=\"message.type==='drawerChange'\">\r\n                                <span class=\"chat-message-correct\">Now drawing</span>\r\n                                <span class=\"chat-message-spacer\"/>\r\n                                <span :style=\"`color: ${stringToColor(message.user.id)}`\" class=\"chat-message-user\">{{message.user.name}}</span>\r\n                            </div>\r\n                            <div v-else-if=\"message.type==='guess'\">\r\n                                <span :style=\"`color: ${stringToColor(message.user.id)}`\" class=\"chat-message-user\">{{message.user.name}}</span>\r\n                                <span class=\"chat-message-text\">{{message.text}}</span>\r\n                            </div>\r\n                            <div v-else-if=\"message.type==='correct'\">\r\n                                <span :style=\"`color: ${stringToColor(message.user.id)}`\" class=\"chat-message-user\">{{message.user.name}}</span>\r\n                                <span class=\"chat-message-correct\">Guessed correctly!</span>\r\n                            </div>\r\n                            <div v-else-if=\"message.type==='event'\">\r\n                                <span class=\"chat-message-event\" :style=\"`color: ${message.color}`\">\r\n                                    {{message.text}}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <v-text-field placeholder=\"Make guess\" class=\"chat-field\" auto filled v-model=\"chatText\"/>\r\n                    <v-btn type=\"submit\" icon class=\"chat-icon\">\r\n                        <v-icon>mdi-send</v-icon>\r\n                    </v-btn>\r\n                </v-form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import SimpleDraw from \"@/components/SimpleDraw\";\r\n    import User from \"@/js/User\";\r\n    import words from '@/assets/words.json';\r\n    // const words = ['Wall-E the Movie','Wall-E the Movie','Wall-E the Movie','Wall-E the Movie'];\r\n    import VolumeSound from \"@/js/VolumeSound\";\r\n    import levenshtein from 'fast-levenshtein';\r\n    import devtools from 'devtools-detect';\r\n\r\n    export default {\r\n        name: 'Game',\r\n        components: {SimpleDraw},\r\n        data: () => ({\r\n            host: false,\r\n            settings: null,\r\n            me: new User({}),\r\n            others: [],\r\n            everyone: [],\r\n            mesh: null,\r\n            activePlayer: null,\r\n            currentRound: 0,\r\n            guessWord: '',\r\n            wordHint: '',\r\n            chatText: '',\r\n            chatMessages: [],\r\n            roundTimeouts: [],\r\n            roundIntervals: [],\r\n            timeLeft: 0,\r\n            choosingWord: false,\r\n            wordChoices: [],\r\n            chooseTimeout: -1,\r\n            showEndRound: false,\r\n            showEndGame: false,\r\n            roundStartTime: 0,\r\n            otherChoosing: false,\r\n            visibleRound: 1,\r\n            loadRemaining: -1,\r\n            sounds: {\r\n                correctGuess: new VolumeSound('sounds/game/correct.mp3', 0.05),\r\n                timeUp: new VolumeSound('sounds/game/timeup.mp3', 0.01),\r\n                endGame: new VolumeSound('sounds/game/gameend.mp3', 0.01),\r\n            },\r\n            sendQueue: [],\r\n        }),\r\n        async mounted() {\r\n            console.log('-------------{MOUNTED}--------------');\r\n            //debug\r\n            if (false) {\r\n                this.$store.commit('game', {\r\n                    host: true,\r\n                    me: new User({\r\n                        avatar: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAANdklEQVR4Xu2daUhUbRvHr+dDRdGeUbSYoRgJtptlGRKRBUn1oZ1Csw3DLEuKvmhF9MGgkBIMl4qyFYosbaGFpN3IkqKNoM3UbKcgP9TLNTQvve8zM2fmPme8577v/4Eonufert91/841Z+bMnH9+//79m3CAAAh4JPAPBMHOAAHvBCAIdgcI+CAAQbA9QACCYA+AgBgBVBAxbuhlCAEIYkiiEaYYAQgixg29DCEAQQxJNMIUIwBBxLihlyEEIIghiUaYYgQgiBg39DKEAAQxJNEIU4wABBHjhl6GEIAghiQaYYoRgCBi3NDLEAIQxJBEI0wxAhBEjBt6GUIAghiSaIQpRgCCiHFDL0MIQBBDEo0wxQhAEDFu6GUIAQhiSKIRphgBCCLGDb0MIQBBDEk0whQjAEHEuKGXIQQgiCGJRphiBCCIGDf0MoQABDEk0QhTjAAEEeOGXoYQgCCGJBphihGAIGLc0MsQAhDEkEQjTDECEESMG3oZQgCCGJJohClGAIKIcUMvQwhAEEMSjTDFCEAQMW7oZQgBCGJIohGmGAEIIsYNvQwhAEEMSTTCFCMAQcS4oZchBCCIIYlGmGIEIIgYN/QyhAAEMSTRCFOMAAQR44ZehhCAIIYkGmGKEYAgYtzQyxACEMSQRCNMMQIQRIwbehlCAIIYkmiEKUYAgohxQy9DCEAQQxKNMMUIQBAxbsr0qquro+rqanr//j0NGDCAkpKSKCIiQpn1y14oBJGdgSDOv2nTJsrLy/vXDEePHqVZs2YFcWZ9hoYg+uTyfyKpqamhuLg4r9FVVFTQtGnTNI3eubAgiHMsQ2qk0tJSSk9P97qmlJQUOnXqVEitORQXA0H+Lyt85n3w4IHrvw4ZMoRGjRoVinmzXJOVIDxAZWUlTZ061XIskxtAkL+y7+k1O7+Gz83NVW6PWL3E4oDWrVtH+fn5ysXWmguGIH9o87s9XDE8HVxRYmNjWzMvjszl7SLdPfiUKVOoqqrKkbl0HQSC/MlsYWEhrVy50mOed+/eTRkZGUrugV27dlFmZqbHtYeFhbne/sXhnQAE+cPG19lW1ZdZHNqNGzcoISHB6w548uQJRUdHwxEvBCCI5oJweO3ataOWlhaPW+Dw4cM0Z84cCAJBfO8BXSsIRz1u3Di6fv26RwAqV8fWsBoVxIAKkp2dTTt27IAgAkZBEAME0bk6Cuz5gLpAEAii5Oc8Ae1yG40hCASBID4EgiAQBIJAEOsaq/PrdJ1js86svRaoIKggqCCoINZnEZ3PsjrHZp1Zey1QQVBBUEFQQazPIjqfZXWOzTqz9lqggqCCoIKgglifRXQ+y+ocm3Vm7bVABUEFQQVBBbE+i+h8ltU5NuvM2muBCoIKggqCCmJ9FtH5LKtzbNaZtdcCFQQVBBUEFcT6LKLzWVbn2Kwza68FKggqCCoIKoj1WUTns6zOsVln1l4LVBBUEFQQVBDrs4jOZ1mdY7POrL0WqCCoIKggqCDWZxGdz7I6x2adWXstUEFQQVBBUEGszyI6n2V1js06s/ZaoIIYUEH4eYTHjx/3uFPKysooNTXV3i7SuDcE0VyQX79+ET/m4NOnTx638cuXLyk8PFzjLW4vNAiiuSBnz571+pi1yMhIev78ub0dpHlvCKK5IDk5ObR9+3aP23jZsmVUVFSk+Ra3Fx4E0VyQ+Ph4un37tsddgmeDWMsDQTQW5PHjxzR48GCvu6CpqYl69uxpvUsMbgFBNBbE18srfiip+3HXBu9/y9AhiMaC8DPQ+SLd05GVlUU7d+603CCmN4AgGgvCL5+am5s97vHy8nKaN2+e6fvfMn4IoqkgT58+pUGDBnndAHi6raUbrgYQxA9BuAm/VElOTvaPagi0OnLkCM2dO9fjSjp16kRfv34NgVWG/hIgyJ8c+bqg5Sb5+fm0bt260M+oH8InJSXR5cuXlYlF5kIhCBHx7Rj9+/en+vp6r7lQ7TODBQsWEF9neDrWrl3r9cNDmZsxFOeGIESujcQbytfx7NkzioqKCsUcelxTXFwc1dTUePx/xcXFlJ6erkwsMhcKQYho+vTpdOrUKa954LdLKysrZeYp4Lm7dOni9Trj6tWrlJiYGPCYJnYwXhA+y/LZ1tdRUFBAmZmZyuyPxsZG6t27t9f1NjQ0UK9evZSJR+ZCjReksLCQVq5c6TMHDx8+pJiYGJl5Cmju6upqmjBhgsc+nTt3pi9fvgQ0nsmNjRfE17fteGOkpaVRaWmpUnukpKSElixZ4nHNo0aNojt37igVj8zFQpBNmygvL89jDgYOHEiXLl2iiIgImTkKeO41a9Z4vY1k/vz5dPDgwYDHNLUDBPEhCIuTm5ur3N4YPnw41dbWely3qjHJSgIE0UyQz58/U7du3bzupxMnTtCMGTNk7Tfl5oUgmgly8uRJmjlzpteNyN9N79q1q3IbVdaCjReEL8C9fWjGF7uLFy+WlRuheX1dfwwbNozu3bsnNK6pnYwXxNfnIPxuD7/ro9Lh6/pj9erVtGPHDpXCkb5W4wXhDHh6q1fFi1lcfzjvEwT5w7Suro74AzY++DYM/kqqageuP5zPGARxnqm0EX196InrD7G0QBAxbiHZy5cguP4QSxkEEeMWkr3wI9XOpwWCOM9U2ogQxHn0EMR5ptJGhCDOo4cgzjOVNiIEcR49BHGeqbQRIYjz6CGI80yljQhBnEcPQZxnKm1E3e4rkwbyr4khSChkwaE16HZfmUNYbA0DQWzhC73OutxXFipkIUioZMLBdehwX5mDOGwNBUFs4UNn3QlAEN0zjPhsEYAgtvChs+4EIIjuGUZ8tghAEFv40Fl3AhBE9wwjPlsEIIgtfOisOwEIonuGEZ8tAsoLcu7cOeIPxvgJUfHx8cr9jq6t7KFz0AkoK8jp06dpz549VFFR8V9IHTp0oM2bNxM/YgwHCDhBQElBrB5ZoNoTaZ1IJMYIDgHlBLGSgzGp9kTa4KQWozpBQClB+Hdlx48fTz9+/PAZe1lZGaWmpjrBB2MYTkApQXx9IcidR74O4UemqfbQG8P3YciGr5Qg/ry82rZtG23YsCFkgWNhahHQRpDJkycT/3ogP7IZBwg4RUAbQVT8NXankohxgkdAG0EY0YULF2jSpEnBo4WRjSOglCBWP+/fsWNH+vbtm3FJRMDBI6CUIN+/f6d+/foRPyjG2zFixAi6e/du8IhhZKMIKCUIZyYnJ4e2b9/uM0mZmZlUUFBgVCIRbHAIKCcIY0hOTqbz58/7JLJw4ULav39/cKhhVGMIKCnI169fKTo6mhobG30maujQoa4bGkePHm1MQhGoswSUFIQR3Lp1i8aMGeMXja1bt9LGjRv9aotGIPA3AWUF4SD27t1LaWlpfmU0ISGBtmzZQhMnTvSrPRqBABNQWhAO4NixY64bE61uYHSnm78rwtWke/fu2AEgYElAeUE4wmvXrlF2djbdvn3bMmBuEBMT45JkwYIFfrVHI3MJaCEIp+/nz5+UkZFBfMevv8eiRYtcL7vCw8P97YJ2hhHQRhB33oqKimjFihV+p7Fv376Um5tLS5cu9bsPGppDQDtBOHXl5eWUlZVFzc3Nfmdy9uzZrov+9u3b+90HDfUnoKUgnLaPHz+6rkv27dvndxZ79OhBxcXFNGPGDL/7oKHeBLQVxJ02fpdr1apV1NDQ4Hcm+QNGrkD+voXs98BoqBwB7QXhjDQ1NbnetSopKQkoQW3atHGJwhfzsbGxAfVFYz0IGCGIO1WHDh2i9evX0+vXrwPOHn9jMSUlhUaOHEljx44NuD86qEnAKEE4RfX19a53rfhaQ/Ro27atSxS+1YVl4T98Gz4O/QgYJ4g7hQcOHHCJ8uLFC0eyyoK4ZXGL48jAGEQqAWMFYeqvXr0i/i47/45WMA4WhmWJjIwk/rylT58+rr/5Dw41CBgtiDtFZ86ccX12wn9a63CL4hanZ8+erTV1q87jfikaFhbWqvM6NRkE+Ysk/0q8WxSuLjicI5CYmEhxcXG0fPly13d5VDkgiIdMffnyxSUKv+tVXV2tSi6VWCdXksLCQpo1a5YS64UgFmmqqqqiixcv0v37910/BvHp0yclEhvqi+Sfh+W7qkP9gCABZujRo0fEP6LNsty8eZNu3LgR4AhozgRU+aE/COLAfmVJ3LLwv9+8eePAqHoPAUH0zq/P6FgQFoWrDd9R/O7dO9cHlHw/2Nu3b6mlpcVgOkR8HcJfclPhYh0VRMJW/fDhg0sYtzj8t27S8I/7XblyhWpra/9F+OjRo7hIl7DvMGUIEnCLwm9y8MFfc46KigrBlXpeEiqIMqnCQmUQgCAyqGNOZQhAEGVShYXKIABBZFDHnMoQgCDKpAoLlUEAgsigjjmVIQBBlEkVFiqDAASRQR1zKkMAgiiTKixUBgEIIoM65lSGAARRJlVYqAwCEEQGdcypDAEIokyqsFAZBCCIDOqYUxkCEESZVGGhMghAEBnUMacyBCCIMqnCQmUQgCAyqGNOZQhAEGVShYXKIABBZFDHnMoQgCDKpAoLlUEAgsigjjmVIQBBlEkVFiqDAASRQR1zKkMAgiiTKixUBgEIIoM65lSGwH8A7gazEsEK1OgAAAAASUVORK5CYII=',\r\n                        name: 'RuteNL',\r\n                        id: '12308950175',\r\n                        host: true,\r\n                        me: true,\r\n                    }),\r\n                    others: [],\r\n                    settings: {rounds: 2, time: 60, language: 'English'},\r\n                });\r\n            }\r\n\r\n\r\n            this.mesh = this.$store.state.mesh;\r\n            this.settings = this.$store.state.game.settings;\r\n            this.me = this.$store.state.game.me;\r\n            this.others = this.$store.state.game.others;\r\n            this.everyone = [this.me, ...this.others].sort((a, b) => a > b ? 1 : -1);\r\n\r\n            this.everyone.forEach(u => u.rounds = [...new Array(this.settings.rounds * this.everyone.length)].map(() => ({\r\n                done: false,\r\n                guessTime: -1,\r\n                points: 0\r\n            })));\r\n            console.log(this.everyone);\r\n\r\n            this.loadRemaining = this.others.length;\r\n            if (this.loadRemaining === 0)\r\n                this.hostStart();\r\n\r\n            //Send at 30/s\r\n            this.queueInterval = setInterval(() => {\r\n                if (this.sendQueue.length > 0) {\r\n                    this.mesh.broadcast(['batch', this.sendQueue.splice(0, this.sendQueue.length)]);\r\n                }\r\n            }, 1000 / 60);\r\n\r\n\r\n            this.mesh.on('data', (id, data) => {\r\n                let user = this.everyone.find(user => user.id === id);\r\n                let [type, ...params] = JSON.parse(data);\r\n                this.handleData(user, type, ...params);\r\n            });\r\n            this.mesh.on('disconnect', id => {\r\n                let user = this.everyone.find(u => u.id === id);\r\n                console.log(\"Disconnected\", user);\r\n                this.everyone.splice(this.everyone.indexOf(user), 1);\r\n                this.others.splice(this.others.indexOf(user), 1);\r\n                this.chooseNewHost();\r\n                if (user === this.activePlayer && this.me.host) {\r\n                    this.hostEndRound();\r\n                }\r\n            });\r\n            this.mesh.on('stream', (id, stream) => {\r\n                console.log(\"Received stream\", id, stream);\r\n                let user = this.everyone.find(user => user.id === id);\r\n                user.stream = stream;\r\n            });\r\n            if (this.me.host) {\r\n                console.log(\"me is host\", this.me, this.me.host);\r\n                //send start signal to peers now to make sure the host is first on this page\r\n                this.mesh.broadcast(['start', this.settings]);\r\n\r\n                this.mesh.on('connect', id => {\r\n                    console.log(\"userinfo\", id, 'connect');\r\n\r\n                    this.mesh.sendStream(id, this.$refs.draw.getStream());\r\n                    this.mesh.send(id, ['gameActive', {\r\n                        users: this.everyone,\r\n                        settings: this.settings,\r\n                        round: this.visibleRound,\r\n                        activePlayer: this.activePlayer.id,\r\n                    }]);\r\n                });\r\n            } else {\r\n                this.mesh.on('connect', id => {\r\n                    console.log(\"userinfo\", id, 'connect');\r\n\r\n                    this.mesh.sendStream(id, this.$refs.draw.getStream());\r\n                });\r\n\r\n                //Tell host that this peer is loaded\r\n                let hostUser = this.others.find(user => user.host);\r\n                console.log(\"me is not host\", this.me, this.me.host, 'found host:', hostUser);\r\n                this.mesh.send(hostUser.id, ['loaded']);\r\n            }\r\n        },\r\n        methods: {\r\n            handleData(user, type, ...params) {\r\n                // console.log(\"handling:\", type, params);\r\n                // console.log(\"Received data\", type, params);\r\n                switch (type) {\r\n                    case 'loaded':\r\n                        if (!this.me.host)\r\n                            break;\r\n                        if (--this.loadRemaining <= 0) {\r\n                            //done loading\r\n                            this.hostStart();\r\n                        }\r\n                        break;\r\n                    case 'start':\r\n                        this.clientStart();\r\n                        break;\r\n                    case 'startRound':\r\n                        let player = this.everyone.find(user => user.id === params[0]);\r\n                        this.generalStartRound(player);\r\n                        break;\r\n                    case 'word':\r\n                        this.setGuessWord(params[0]);\r\n                        this.generalStartRoundAfterWordChoice();\r\n                        break;\r\n                    case 'wordHint':\r\n                        this.setWordHint(params[0]);\r\n                        break;\r\n                    case 'chat':\r\n                        this.submitChatText(user, params[0]);\r\n                        break;\r\n                    case 'batch':\r\n                        for (let [subType, ...subParams] of params[0])\r\n                            this.handleData(user, subType, ...subParams);\r\n                        break;\r\n                    case 'kicked':\r\n                        if (params[0] === this.me.id) {\r\n                            setInterval(() => {\r\n                                this.sounds.timeUp.play(1);\r\n                            }, 600);\r\n                            this.mesh.destroy();\r\n                            this.$router.push('/kicked?msg=' + params[1]);\r\n                        } else {\r\n                            this.addKickedMessage(user);\r\n                        }\r\n                        break;\r\n                    case 'toolUse':\r\n                        this.$refs.draw.applyToolUse(params[0]);\r\n                        break;\r\n                    case 'devtools':\r\n                        this.chatMessages.push({\r\n                            id: Math.floor(Math.random() * 1000000),\r\n                            type: 'event',\r\n                            color: 'maroon',\r\n                            text: user.name + (params[0] ? ' opened the console! 😡' : ' closed the console 👌'),\r\n                            user,\r\n                        });\r\n                        break;\r\n                    case 'endRound':\r\n                        console.log(\"Endround\", params[0]);\r\n                        for (let {id: userId, rounds} of params[0]) {\r\n                            let user = this.everyone.find(u => u.id === userId);\r\n                            user.rounds = rounds;\r\n                        }\r\n                        this.endRound();\r\n                        break;\r\n                }\r\n            },\r\n            broadcastTool(e) {\r\n                // return;\r\n                //Only send when me is drawing\r\n                if (this.activePlayer === this.me)\r\n                    this.sendQueue.push(['toolUse', e]);\r\n            },\r\n            hostStart() {\r\n                console.log(\"[HOST START]\");\r\n                //All users are loaded in at this point\r\n                this.generalStart();\r\n                this.generalStartRound(this.everyoneSortedById[0]);\r\n\r\n                this.mesh.broadcast(['start']);\r\n                this.mesh.broadcast(['startRound', this.activePlayer.id]);\r\n            },\r\n            clientStart() {\r\n                console.log(\"[clientStart]\");\r\n                this.generalStart();\r\n            },\r\n            generalStart() {\r\n                console.log(\"[generalStart]\");\r\n                this.mesh.broadcastStream(this.$refs.draw.getStream());\r\n\r\n                if (devtools.isOpen) {\r\n                    this.reportCheater(true);\r\n                }\r\n                window.addEventListener('devtoolschange', event => {\r\n                    this.reportCheater(event.detail.isOpen);\r\n                });\r\n            },\r\n            reportCheater(isOpen) {\r\n                this.mesh.broadcast(['devtools', isOpen]);\r\n            },\r\n            async generalStartRound(player) {\r\n                this.showEndRound = false;\r\n                console.log(\"[generalStartRound]\");\r\n                this.currentRound++;\r\n                this.activePlayer = player;\r\n\r\n                this.chatMessages.push({\r\n                    id: Math.floor(Math.random() * 1000000),\r\n                    type: 'drawerChange',\r\n                    user: player,\r\n                });\r\n\r\n                this.timeLeft = this.settings.time;\r\n\r\n                if (this.activePlayer === this.me) {\r\n                    this.chooseWord();\r\n                    //debug\r\n                    // setTimeout(() => {\r\n                    //     this.startRound('ladder')\r\n                    // }, 100);\r\n                } else {\r\n                    this.otherChoosing = true;\r\n                }\r\n            },\r\n            async generalStartRoundAfterWordChoice() {\r\n                this.otherChoosing = false;\r\n                this.$refs.draw.resetCanvas();\r\n                this.roundStartTime = performance.now();\r\n                let interval;\r\n                interval = setInterval(() => {\r\n                    let timePassed = performance.now() - this.roundStartTime;\r\n                    this.timeLeft = this.settings.time - timePassed / 1000;\r\n                    if (this.timeLeft < 0) {\r\n                        this.timeLeft = 0;\r\n                        this.sounds.timeUp.play();\r\n                        if (this.me.host)\r\n                            this.hostEndRound();\r\n                        else\r\n                            this.endRound();\r\n                        clearInterval(interval);\r\n                    }\r\n                }, 1000 / 30);\r\n                this.roundIntervals.push(interval);\r\n            },\r\n            //Only call this on the person that is drawing this round\r\n            async startRound(chosenWord) {\r\n                clearTimeout(this.chooseTimeout);\r\n                this.generalStartRoundAfterWordChoice();\r\n                this.choosingWord = false;\r\n                console.log(\"[startRound]\");\r\n                this.mesh.broadcast(['word', chosenWord]);\r\n\r\n                this.setGuessWord(chosenWord);\r\n\r\n                let wordHint = this.getWordHint(chosenWord, 1 / 20);\r\n                this.mesh.broadcast(['wordHint', wordHint]);\r\n                //After 1/4 of the total time give the first hint\r\n                this.roundTimeouts.push(setTimeout(() => {\r\n                    wordHint = this.getWordHint(chosenWord, 1 / 5, wordHint);\r\n                    this.setWordHint(wordHint);\r\n                    this.mesh.broadcast(['wordHint', wordHint]);\r\n                }, this.settings.time * 1000 * (1 / 5)));\r\n                //After 2/4 of the total time give the second hint\r\n                this.roundTimeouts.push(setTimeout(() => {\r\n                    wordHint = this.getWordHint(chosenWord, 1 / 5, wordHint);\r\n                    this.setWordHint(wordHint);\r\n                    this.mesh.broadcast(['wordHint', wordHint]);\r\n                }, this.settings.time * 1000 * (2 / 5)));\r\n                //After 3/4 of the total time give the third hint\r\n                this.roundTimeouts.push(setTimeout(() => {\r\n                    wordHint = this.getWordHint(chosenWord, 1 / 5, wordHint);\r\n                    this.setWordHint(wordHint);\r\n                    this.mesh.broadcast(['wordHint', wordHint]);\r\n                }, this.settings.time * 1000 * (3 / 5)));\r\n                //After 3/4 of the total time give the third hint\r\n                this.roundTimeouts.push(setTimeout(() => {\r\n                    wordHint = this.getWordHint(chosenWord, 1 / 5, wordHint);\r\n                    this.setWordHint(wordHint);\r\n                    this.mesh.broadcast(['wordHint', wordHint]);\r\n                }, this.settings.time * 1000 * (4 / 5)));\r\n            },\r\n            endRound() {\r\n                for (let timeout of this.roundTimeouts)\r\n                    clearTimeout(timeout);\r\n                for (let interval of this.roundIntervals)\r\n                    clearInterval(interval);\r\n\r\n                let currentPlayerIndex = this.everyoneSortedById.indexOf(this.activePlayer);\r\n                let nextPlayerIndex = (currentPlayerIndex + 1) % this.everyone.length;\r\n\r\n                if (nextPlayerIndex < 0)\r\n                    nextPlayerIndex += this.everyone.length;\r\n\r\n                this.showEndRound = true;\r\n\r\n                this.roundTimeouts.push(setTimeout(() => {\r\n                    this.chatMessages = [];\r\n                    this.guessWord = '';\r\n                    this.wordHint = '';\r\n\r\n                    if (nextPlayerIndex === 0)\r\n                        this.visibleRound++;\r\n\r\n                    if (this.visibleRound > this.settings.rounds) {\r\n                        this.visibleRound = this.settings.rounds;\r\n                        this.showEndRound = false;\r\n                        this.showEndGame = true;\r\n                        this.sounds.endGame.play();\r\n                    } else if (this.me.host) {\r\n                        this.generalStartRound(this.everyoneSortedById[nextPlayerIndex]);\r\n                        this.mesh.broadcast(['startRound', this.activePlayer.id]);\r\n                    }\r\n                }, 1000 * 7.5));\r\n\r\n            },\r\n            getRandom(arr, n) {\r\n                const result = new Array(n);\r\n                let len = arr.length;\r\n                const taken = new Array(len);\r\n                if (n > len)\r\n                    throw new RangeError(\"getRandom: more elements taken than available\");\r\n                while (n--) {\r\n                    const x = Math.floor(Math.random() * len);\r\n                    result[n] = arr[x in taken ? taken[x] : x];\r\n                    taken[x] = --len in taken ? taken[len] : len;\r\n                }\r\n                return result;\r\n            },\r\n            chooseWord() {\r\n                this.choosingWord = true;\r\n                this.wordChoices = this.getRandom(words, 4);\r\n                this.chooseTimeout = setTimeout(() => {\r\n                    let choice = this.wordChoices[Math.floor(Math.random() * this.wordChoices.length)];\r\n                    this.startRound(choice);\r\n                }, 15000);\r\n            },\r\n            getWordHint(word, revealPercentage, hiddenWord = '_'.repeat(word.length)) {\r\n                let alwaysRevealCharacters = [' ', '-'];\r\n                let instantReveals = [];\r\n                for (let i = 0; i < word.length; i++)\r\n                    if (alwaysRevealCharacters.includes(word[i]))\r\n                        instantReveals.push(i);\r\n                let hiddenWordArray = hiddenWord.split('');\r\n                for (let index of instantReveals)\r\n                    hiddenWordArray[index] = word[index];\r\n                hiddenWord = hiddenWordArray.join('');\r\n\r\n                revealPercentage = Math.max(0, Math.min(1, revealPercentage));\r\n\r\n                if (word.length !== hiddenWord.length)\r\n                    return console.warn(\"word.length does not match hiddenWord.length\", {word, hiddenWord});\r\n\r\n                const hiddenChar = '_';\r\n                let letterBag = word.split('').map((letter, index) => ({letter, index}));\r\n                let removeLetters = hiddenWord.split('').map((letter, index) => ({\r\n                    letter,\r\n                    index\r\n                })).filter(l => l.letter !== hiddenChar);\r\n                for (let letter of removeLetters)\r\n                    letterBag.splice(letterBag.findIndex(l => l.index === letter.index), 1);\r\n\r\n                const amountOfLettersToReveal = Math.round(letterBag.length * revealPercentage);\r\n                let revealedLetters = [];\r\n                for (let i = 0; i < amountOfLettersToReveal; i++) {\r\n                    let letter = letterBag[Math.floor(Math.random() * letterBag.length)];\r\n                    revealedLetters.push(letter);\r\n                }\r\n                let wordHint = hiddenWord.split('');\r\n                for (let {letter, index} of revealedLetters)\r\n                    wordHint[index] = letter;\r\n\r\n                return wordHint.join('');\r\n            },\r\n            setGuessWord(word) {\r\n                this.guessWord = word;\r\n            },\r\n            setWordHint(wordHint) {\r\n                this.wordHint = wordHint;\r\n            },\r\n            calculateScore(isArtist, guessTime, totalTime, rank, guesses, total, guessedRight) {\r\n                //Rank 1 to total, rank of guess\r\n                //Total is amount of users with correct guesses there are\r\n                if (isArtist) {\r\n                    if (guesses > 0)\r\n                        return 100 + (guesses / total * 170);\r\n                    return 0\r\n                } else {\r\n                    console.log({isArtist, guessTime, totalTime, rank, guesses, total, guessedRight});\r\n                    if (!guessedRight)\r\n                        return 0;\r\n                    let timeScore = guessTime / totalTime;\r\n                    let rankScore = total / rank;\r\n                    return (0.2 * timeScore + 0.8 * rankScore) * 250;\r\n                }\r\n            },\r\n            addKickedMessage(user) {\r\n                this.chatMessages.push({\r\n                    id: Math.floor(Math.random() * 1000000),\r\n                    type: 'event',\r\n                    color: 'black',\r\n                    text: user.name + ' has been kicked!',\r\n                    user,\r\n                });\r\n            },\r\n            sendChat(e) {\r\n                e.preventDefault();\r\n                this.mesh.broadcast(['chat', this.chatText]);\r\n                this.submitChatText(this.me, this.chatText);\r\n                this.chatText = '';\r\n            },\r\n            submitChatText(user, text) {\r\n                let roundI = this.currentRound - 1;\r\n                let guessAllowed =\r\n                    user !== this.activePlayer &&\r\n                    !user.rounds[roundI].done &&\r\n                    !(this.showEndRound || this.showEndGame);\r\n                if (text.toLowerCase() === this.guessWord.toLowerCase() && guessAllowed) {\r\n                    user.rounds[roundI].done = true;\r\n                    user.rounds[roundI].guessTime = (performance.now() - this.roundStartTime) / 1000;\r\n\r\n                    this.sounds.correctGuess.play();\r\n                    this.chatMessages.push({\r\n                        id: Math.floor(Math.random() * 1000000),\r\n                        type: 'correct',\r\n                        user,\r\n                    });\r\n                    if (this.me.host) {\r\n                        // if no one is not done:\r\n                        if (!this.everyone.filter(u => u !== this.activePlayer).some(u => !u.rounds[roundI].done)) {\r\n                            this.hostEndRound();\r\n                        }\r\n                    }\r\n                } else {\r\n                    let distance = levenshtein.get(text.toLowerCase(), this.guessWord.toLowerCase(), {useCollator: true});\r\n                    console.log(\"levenshtein\", distance, guessAllowed);\r\n                    this.chatMessages.push({\r\n                        id: Math.floor(Math.random() * 1000000),\r\n                        type: 'guess',\r\n                        text,\r\n                        user,\r\n                    });\r\n                    if (distance <= 1 && guessAllowed && user === this.me)\r\n                        this.chatMessages.push({\r\n                            id: Math.floor(Math.random() * 1000000),\r\n                            text: `Close! '${text}' is one letter off`,\r\n                            type: 'event',\r\n                            user,\r\n                        });\r\n                }\r\n\r\n                const chat = this.$refs.chatContent;\r\n                setTimeout(() => {\r\n                    chat.scrollTo({\r\n                        top: chat.scrollHeight,\r\n                        left: 0,\r\n                        behavior: \"smooth\",\r\n                    });\r\n                }, 50);\r\n            },\r\n            hostEndRound() {\r\n                let roundI = this.currentRound - 1;\r\n                this.everyone.forEach(user => {\r\n                    let userGuessTime = user.rounds[roundI].guessTime;\r\n                    //How many users guessed right before me + 1:\r\n                    let userRank = this.everyone.filter(u => u.rounds[roundI].guessTime < userGuessTime).length + 1;\r\n                    let totalGuesses = this.everyone.filter(u => u.rounds[roundI].done).length;\r\n                    user.rounds[roundI].points = this.calculateScore(user === this.activePlayer, userGuessTime, this.settings.time, userRank, totalGuesses, this.everyone.length, user.rounds[roundI].done);\r\n                });\r\n                let usersInfo = this.everyone.map(u => ({id: u.id, rounds: u.rounds}));\r\n                console.log(\"Broadcast endround\", usersInfo);\r\n                this.mesh.broadcast(['endRound', usersInfo]);\r\n                this.endRound();\r\n            },\r\n            stringToColor(str) {\r\n                const hashCode = str => {\r\n                    let hash = 0;\r\n                    for (let i = 0; i < str.length; i++) {\r\n                        hash = str.charCodeAt(i) + ((hash << 5) - hash);\r\n                    }\r\n                    return hash;\r\n                };\r\n                const intToRGB = i => {\r\n                    const c = (i & 0x00FFFFFF)\r\n                        .toString(16)\r\n                        .toUpperCase();\r\n\r\n                    return \"00000\".substring(0, 6 - c.length) + c;\r\n                };\r\n                return '#' + intToRGB(hashCode(str));\r\n            },\r\n            chooseNewHost() {\r\n                if (this.everyone.findIndex(user => user.host) === -1 && this.mesh.isFullyConnected()) {\r\n                    console.log(this.everyone, JSON.stringify(this.everyone));\r\n                    let newHost = this.everyoneSortedById[0];\r\n                    newHost.host = true;\r\n                    console.log(\"Host disconnected, migrating host\", newHost);\r\n                }\r\n            },\r\n            kick(user) {\r\n                let index = this.others.indexOf(user);\r\n                if (index > -1) {\r\n                    this.mesh.broadcast(['kicked', user.id, '😡😡😡']);\r\n                    this.addKickedMessage(user);\r\n                }\r\n            },\r\n        },\r\n        computed: {\r\n            secondsLeft() {\r\n                return Math.round(this.timeLeft);\r\n            },\r\n            everyoneSortedById() {\r\n                return this.everyone.sort((a, b) => a.id > b.id ? 1 : -1);\r\n            },\r\n            everyoneSortedByNew() {\r\n                return this.everyone.sort((a, b) => b.rounds[this.currentRound - 1].points - a.rounds[this.currentRound - 1].points);\r\n            },\r\n            everyoneSorted() {\r\n                return this.everyone.sort((a, b) => b.rounds.map(r => r.points).reduce((c, d) => c + d, 0) - a.rounds.map(r => r.points).reduce((c, d) => c + d, 0))\r\n            },\r\n        },\r\n        beforeDestroy() {\r\n            clearInterval(this.queueInterval);\r\n            clearTimeout(this.chooseTimeout);\r\n            for (let timeout of this.roundTimeouts)\r\n                clearTimeout(timeout);\r\n            for (let interval of this.roundIntervals)\r\n                clearInterval(interval);\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .time-left-bar {\r\n        height: 8px;\r\n        background-color: lime;\r\n        border-top-right-radius: 8px;\r\n        border-top-left-radius: 8px;\r\n        margin: 0 auto;\r\n    }\r\n\r\n    .top-info {\r\n        display: flex;\r\n        justify-content: space-evenly;\r\n        font-family: 'Fredoka One', cursive !important;\r\n        padding: 15px 15px 5px;\r\n        margin-top: 25px;\r\n        font-size: 20px;\r\n        color: white;\r\n    }\r\n\r\n    .top-info > div {\r\n        width: 160px;\r\n        text-align: center;\r\n    }\r\n\r\n    .word {\r\n        font-size: 30px;\r\n        letter-spacing: 3px;\r\n        flex-grow: 1;\r\n        display: inline-block;\r\n        word-wrap: break-word;\r\n    }\r\n\r\n    .time-left, .round-info {\r\n        padding-top: 10px;\r\n    }\r\n\r\n    #game-content {\r\n        margin: auto 10px;\r\n        display: flex;\r\n        justify-content: center;\r\n    }\r\n\r\n    #game-content > div {\r\n        display: inline-block;\r\n    }\r\n\r\n    .users {\r\n        background-color: rgba(255, 255, 255, 0.5);\r\n        vertical-align: top;\r\n        padding: 20px;\r\n        text-align: center;\r\n        border-top-left-radius: 10px;\r\n        border-bottom-left-radius: 10px;\r\n        margin-top: 110px;\r\n        max-height: 460px;\r\n        max-width: 300px;\r\n    }\r\n\r\n    .user-headline {\r\n        font-family: 'Fredoka One', cursive;\r\n        font-size: 25px;\r\n        color: rgba(0, 0, 0, 0.6);\r\n        margin-bottom: 5px;\r\n    }\r\n\r\n    .single-user {\r\n        display: flex;\r\n        text-align: left;\r\n    }\r\n\r\n    .single-user > div {\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n\r\n    .single-user > img {\r\n        border-radius: 50%;\r\n        width: 40px;\r\n        height: 40px;\r\n        display: inline-block;\r\n        margin: 8px 10px 5px 5px;\r\n    }\r\n\r\n    .single-user > div > p {\r\n        margin: 0;\r\n        display: inline-block;\r\n        padding: 2px;\r\n        font-size: 16px;\r\n        color: rgba(0, 0, 0, 0.8);\r\n    }\r\n\r\n    .single-user-user {\r\n        font-weight: bold;\r\n    }\r\n\r\n    .center-content {\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n\r\n    .other-choosing {\r\n        height: 500px;\r\n        width: 800px;\r\n        background-color: rgba(0, 0, 0, 0.8);\r\n        border-radius: 10px;\r\n        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);\r\n        padding: 50px;\r\n        font-size: 40px;\r\n        font-family: 'Fredoka One', cursive !important;\r\n        color: white;\r\n        text-align: center;\r\n        overflow-y: auto;\r\n    }\r\n\r\n    .choose-word {\r\n        width: 800px;\r\n        height: 500px;\r\n        background-color: rgba(0, 0, 0, 0.8);\r\n        border-radius: 10px;\r\n        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);\r\n        padding: 50px;\r\n        font-size: 40px;\r\n        font-family: 'Fredoka One', cursive !important;\r\n        color: white;\r\n        text-align: center;\r\n        overflow-y: auto;\r\n    }\r\n\r\n    .draw-content {\r\n        width: 800px;\r\n        height: 500px;\r\n    }\r\n\r\n    .round-end {\r\n        width: 800px;\r\n        height: 500px;\r\n        background-color: rgba(0, 0, 0, 0.7);\r\n        border-radius: 10px 10px 0 0;\r\n        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);\r\n        padding: 50px;\r\n        font-size: 30px;\r\n        font-family: 'Fredoka One', cursive !important;\r\n        color: white;\r\n        text-align: center;\r\n        overflow-y: auto;\r\n        position: absolute;\r\n        z-index: 3;\r\n    }\r\n\r\n    .round-info-reveal {\r\n        color: rgba(255, 255, 255, 0.6);\r\n        font-size: 20px;\r\n    }\r\n\r\n    .round-info-guess-word {\r\n        color: white;\r\n        font-size: 40px;\r\n    }\r\n\r\n    .round-info-avatar {\r\n        width: 30px;\r\n        height: 30px;\r\n        border-radius: 50%;\r\n        margin-right: 10px;\r\n        display: inline-block;\r\n    }\r\n\r\n    .round-info-rank {\r\n        color: lime;\r\n        display: inline-block;\r\n        vertical-align: top;\r\n        position: relative;\r\n        bottom: 3px;\r\n        margin-right: 10px;\r\n    }\r\n\r\n    .round-info-name {\r\n        color: rgba(255, 255, 255, 0.6);\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        max-width: 200px;\r\n        display: inline-block;\r\n        vertical-align: top;\r\n        position: relative;\r\n        bottom: 3px;\r\n    }\r\n\r\n    .round-info-total {\r\n        color: rgba(255, 255, 255, 0.6);\r\n        display: inline-block;\r\n        vertical-align: top;\r\n        position: relative;\r\n        bottom: 3px;\r\n        margin-left: 5px;\r\n    }\r\n\r\n    .round-info-total2 {\r\n        color: rgba(255, 255, 255, 0.9);\r\n        display: inline-block;\r\n        vertical-align: top;\r\n        position: relative;\r\n        bottom: 3px;\r\n        margin-left: 5px;\r\n    }\r\n\r\n    .round-info-plus {\r\n        color: lime;\r\n        display: inline-block;\r\n        vertical-align: top;\r\n        position: relative;\r\n        bottom: 3px;\r\n        margin: 0 5px;\r\n    }\r\n\r\n    .round-info-new {\r\n        color: lime;\r\n        display: inline-block;\r\n        vertical-align: top;\r\n        position: relative;\r\n        bottom: 3px;\r\n    }\r\n\r\n    .choose-word p {\r\n        font-family: 'Fredoka One', cursive !important;\r\n        color: white;\r\n    }\r\n\r\n    .word-choices {\r\n        display: flex;\r\n        justify-content: space-evenly;\r\n    }\r\n\r\n    .draw {\r\n        position: absolute;\r\n        width: 800px;\r\n        height: 580px;\r\n        background-color: rgba(255, 255, 255, 0.25);\r\n        border-radius: 10px;\r\n        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);\r\n    }\r\n\r\n    .stream-viewer {\r\n        position: absolute;\r\n        width: 800px;\r\n        height: 500px;\r\n        background-color: rgba(255, 255, 255, 0.25);\r\n        border-radius: 10px;\r\n        overflow: hidden;\r\n        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);\r\n    }\r\n\r\n    .chat {\r\n        background-color: rgba(255, 255, 255, 0.5);\r\n        height: 460px;\r\n        width: 350px;\r\n        border-top-right-radius: 10px;\r\n        border-bottom-right-radius: 10px;\r\n        margin-top: 110px;\r\n        vertical-align: top;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .chat-content {\r\n        height: calc(100% - 57px);\r\n        width: 100%;\r\n        padding: 10px;\r\n        overflow-y: auto;\r\n        overflow-x: hidden;\r\n    }\r\n\r\n    .chat-field {\r\n        width: 100%;\r\n        margin-right: -45px;\r\n        display: inline-block;\r\n    }\r\n\r\n    .chat-icon {\r\n        display: inline-block;\r\n    }\r\n\r\n    .chat-message {\r\n        margin: 5px 0;\r\n    }\r\n\r\n    .chat-message-user {\r\n        font-weight: bold;\r\n        margin-right: 6px;\r\n        background-color: white;\r\n        border-radius: 4px;\r\n        padding: 3px 7px;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        max-width: 120px;\r\n        display: inline-block;\r\n        height: 30px;\r\n        vertical-align: middle;\r\n    }\r\n\r\n    .chat-message-text {\r\n        min-height: 30px;\r\n        display: inline-block;\r\n        vertical-align: middle;\r\n        padding: 3px 0;\r\n        overflow-wrap: anywhere;\r\n    }\r\n\r\n    .chat-message-event {\r\n        min-height: 30px;\r\n        display: inline-block;\r\n        vertical-align: middle;\r\n        padding: 3px 0;\r\n        overflow-wrap: anywhere;\r\n        font-style: italic;\r\n    }\r\n\r\n    .chat-message-spacer {\r\n        margin: 5px;\r\n        display: inline-block;\r\n        height: 20px;\r\n        vertical-align: middle;\r\n    }\r\n\r\n    .chat-message-correct {\r\n        font-style: italic;\r\n        color: lime;\r\n        background-color: white;\r\n        border-radius: 4px;\r\n        padding: 3px 7px;\r\n        display: inline-block;\r\n        height: 30px;\r\n        vertical-align: middle;\r\n    }\r\n\r\n    form.v-form {\r\n        height: 100%;\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=67ae9dbe&\"\nimport script from \"./Game.vue?vue&type=script&lang=js&\"\nexport * from \"./Game.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Game.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VForm,VIcon,VTextField})\n","/*!\ndevtools-detect\nDetect if DevTools is open\nhttps://github.com/sindresorhus/devtools-detect\nBy Sindre Sorhus\nMIT License\n*/\n(function () {\n\t'use strict';\n\n\tconst devtools = {\n\t\tisOpen: false,\n\t\torientation: undefined\n\t};\n\n\tconst threshold = 160;\n\n\tconst emitEvent = (isOpen, orientation) => {\n\t\twindow.dispatchEvent(new CustomEvent('devtoolschange', {\n\t\t\tdetail: {\n\t\t\t\tisOpen,\n\t\t\t\torientation\n\t\t\t}\n\t\t}));\n\t};\n\n\tconst main = ({emitEvents = true} = {}) => {\n\t\tconst widthThreshold = window.outerWidth - window.innerWidth > threshold;\n\t\tconst heightThreshold = window.outerHeight - window.innerHeight > threshold;\n\t\tconst orientation = widthThreshold ? 'vertical' : 'horizontal';\n\n\t\tif (\n\t\t\t!(heightThreshold && widthThreshold) &&\n\t\t\t((window.Firebug && window.Firebug.chrome && window.Firebug.chrome.isInitialized) || widthThreshold || heightThreshold)\n\t\t) {\n\t\t\tif ((!devtools.isOpen || devtools.orientation !== orientation) && emitEvents) {\n\t\t\t\temitEvent(true, orientation);\n\t\t\t}\n\n\t\t\tdevtools.isOpen = true;\n\t\t\tdevtools.orientation = orientation;\n\t\t} else {\n\t\t\tif (devtools.isOpen && emitEvents) {\n\t\t\t\temitEvent(false, undefined);\n\t\t\t}\n\n\t\t\tdevtools.isOpen = false;\n\t\t\tdevtools.orientation = undefined;\n\t\t}\n\t};\n\n\tmain({emitEvents: false});\n\tsetInterval(main, 500);\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = devtools;\n\t} else {\n\t\twindow.devtools = devtools;\n\t}\n})();\n"],"sourceRoot":""}