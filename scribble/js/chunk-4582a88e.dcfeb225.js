(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4582a88e"],{"6f37":function(e,t,a){"use strict";var r=a("a54a"),n=a.n(r);n.a},"7d36":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create-user"},[e.host?e._e():a("video",{ref:"streamViewer",staticClass:"stream-viewer",attrs:{controls:"",autoplay:"",width:"800",height:"420"}}),a("simple-draw",{directives:[{name:"show",rawName:"v-show",value:e.host,expression:"host"}],ref:"simpleDraw",staticClass:"draw",attrs:{updateCanvas:e.host},on:{change:e.sendChange}})],1)},n=[],s=(a("a15b"),a("96cf"),a("1da1")),o=a("3556"),c=a("5d82"),i={name:"Home",components:{SimpleDraw:o["a"]},data:function(){return{me:"",host:!1,activePlayer:"",mesh:new c["a"]("scribble")}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.mesh.connect("https://api.ruurd.dev");case 2:return a=t.sent,e.me=a.id,e.host="true"===e.$route.query.host,console.log(e.host),e.activePlayer=e.me,e.mesh.on("data",(function(t,a){e.updateCanvas(a)})),e.mesh.on("stream",(function(t,a){var r=e.$refs.streamViewer;r.srcObject=a,console.log("set sourc object"),r.oncanplay=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.play();case 2:console.log("received stream",r,t,a);case 3:case"end":return e.stop()}}),e)})))})),t.next=11,e.mesh.join("bye",!1);case 11:e.start();case 12:case"end":return t.stop()}}),t)})))()},methods:{start:function(){if(this.host){var e=this.$refs.simpleDraw,t=e.$refs.canvas,a=t.captureStream();this.mesh.broadcastStream(a)}},sendChange:function(){}}},u=i,h=(a("6f37"),a("2877")),m=Object(h["a"])(u,r,n,!1,null,"62ac331d",null);t["default"]=m.exports},a54a:function(e,t,a){}}]);
//# sourceMappingURL=chunk-4582a88e.dcfeb225.js.map