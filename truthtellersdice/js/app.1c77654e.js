(function(t){function e(e){for(var r,o,s=e[0],c=e[1],l=e[2],u=0,f=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},i=[];function o(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"69196533"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=a[t]=[e,r]}));e.push(n[2]=r);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(t);var l=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,n[1](l)}a[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/truthtellersdice/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"16e7":function(t,e,n){},4469:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("v-app-bar-title",{staticClass:"app-title"},[t._v("Truth Teller's Dice")]),n("v-spacer"),n("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",a,!1),r),[n("v-icon",[t._v("mdi-cog-outline")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{to:"/settings"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-cog-outline")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Settings")])],1)],1),n("v-list-item",{staticClass:"center-list-item",attrs:{color:"primary"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-brightness-6")])],1),n("v-list-item-content",[n("v-list-item-title",[n("span",[t._v("Dark theme")])])],1),n("v-list-item-action",[n("v-switch",{attrs:{"hide-details":"",dense:"",inset:""},model:{value:t.$vuetify.theme.dark,callback:function(e){t.$set(t.$vuetify.theme,"dark",e)},expression:"$vuetify.theme.dark"}})],1)],1)],1)],1)],1),n("v-main",[n("router-view")],1)],1)},i=[],o={name:"App",data:function(){return{}},watch:{"$vuetify.theme.dark":function(){console.log(this.$vuetify.theme.dark),localStorage.darkTheme=this.$vuetify.theme.dark}}},s=o,c=(n("034f"),n("2877")),l=n("6544"),u=n.n(l),d=n("7496"),f=n("40dc"),h=n("bb78"),p=n("8336"),v=n("132d"),m=n("8860"),g=n("da13"),b=n("1800"),k=n("5d23"),x=n("34c3"),y=n("f6c4"),w=n("e449"),C=n("2fa4"),V=n("b73d"),T=Object(c["a"])(s,a,i,!1,null,null,null),_=T.exports;u()(T,{VApp:d["a"],VAppBar:f["a"],VAppBarTitle:h["a"],VBtn:p["a"],VIcon:v["a"],VList:m["a"],VListItem:g["a"],VListItemAction:b["a"],VListItemContent:k["a"],VListItemIcon:x["a"],VListItemTitle:k["b"],VMain:y["a"],VMenu:w["a"],VSpacer:C["a"],VSwitch:V["a"]});n("d3b7"),n("3ca3"),n("ddb0");var L=n("8c4f"),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"top-pane"},[n("game-visualization",{staticClass:"left-pane"}),n("model-visualization",{staticClass:"right-pane"})],1),n("logic-lines",{staticClass:"bottom-pane"})],1)},A=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"game-vis",attrs:{outlined:""}},[n("v-card-title",[t._v(" Game visualisation ")]),n("v-card-text",[t._v(" stuff ")]),n("v-card-actions",[n("v-btn",{attrs:{text:""}},[t._v("Bye")])],1)],1)},$=[],S={name:"GameVisualization"},M=S,P=(n("5768"),n("b0af")),B=n("99d9"),E=Object(c["a"])(M,O,$,!1,null,"b7e6477a",null),I=E.exports;u()(E,{VBtn:p["a"],VCard:P["a"],VCardActions:B["a"],VCardText:B["b"],VCardTitle:B["c"]});var z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"model-vis",attrs:{outlined:""}},[n("v-card-title",[t._v(" Model visualisation ")]),n("v-card-text",[n("svg",{staticClass:"svg",attrs:{width:"600",height:"600"}},[n("g",{staticClass:"links"}),n("g",{staticClass:"nodes"})])]),n("v-card-actions",[n("v-switch",{attrs:{label:"Relation labels"},model:{value:t.relationLabels,callback:function(e){t.relationLabels=e},expression:"relationLabels"}})],1)],1)},q=[],G=n("3835"),R=n("1da1"),D=(n("96cf"),n("d81d"),n("a15b"),n("4de4"),n("ac1f"),n("1276"),n("25f0"),n("99af"),n("5698")),H={name:"ModelVisualization",data:function(){return{relationLabels:!1,simulation:null,svg:null,linkText:null,links:null,graph:null}},mounted:function(){var t=Object(R["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,i,o,s,c,l,u,d,f,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("./worlds.json").then((function(t){return t.json()}));case 2:e=t.sent,n=e.worlds,r=e.connection,a=n.map((function(t){return{id:t}})),i=[],o=0;case 8:if(!(o<n.length)){t.next=23;break}s=n[o],c=o;case 11:if(!(c<n.length)){t.next=20;break}if(c!==o){t.next=14;break}return t.abrupt("continue",17);case 14:l=n[c],u=r[o][c],0!==u&&(d=u.toString().split("").filter((function(t){return"0"!==t})).map((function(t){return(+t+9).toString(36).toUpperCase()})).join(","),i.push({source:s,target:l,relation:d}));case 17:c++,t.next=11;break;case 20:o++,t.next=8;break;case 23:this.graph={nodes:a,links:i},console.log(this.graph),f=this.buildChart(this.graph),h=Object(G["a"])(f,2),this.svg=h[0],this.simulation=h[1];case 29:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{buildChart:function(t){var e=this,n=D["h"](".svg"),r=+n.attr("width"),a=+n.attr("height"),i=n.select("g.nodes"),o=n.select("g.links"),s=this.$vuetify.theme.dark,c=D["e"]().force("link",D["c"]().id((function(t){return t.id}))).force("charge",D["d"]().strength(-300)).force("x",D["f"]()).force("y",D["g"]()).force("center",D["b"](r/2,a/2)),l=t.links.map((function(t){var e=t;return e.source=t.source,e.target=t.target,e}));this.links=o.selectAll("g").data(t.links).enter().append("g").attr("cursor","pointer"),this.relationLabels&&this.addLinkText();var u=this.links.append("path").attr("id",(function(t,e){return"path"+e})).attr("stroke",(function(t){return e.relationToColor[t.relation]})).attr("opacity",.75).attr("stroke-width",s?2:1).attr("fill","transparent"),d=function(t){return D["a"]().on("start",(function(e,n){e.active||t.alphaTarget(.3).restart(),n.fx=n.x,n.fy=n.y})).on("drag",(function(t,e){e.fx=t.x,e.fy=t.y})).on("end",(function(e,n){e.active||t.alphaTarget(0),n.fx=null,n.fy=null}))},f=i.selectAll("g").data(t.nodes).enter().append("g").attr("cursor","pointer").call(d(c));f.append("circle").attr("r",12).attr("fill",s?"white":"black"),f.append("title").text((function(t){return t.id}));var h=f.append("text").attr("text-anchor","middle").attr("x",0).attr("y","2em").text((function(t){return t.id}));function p(){u.attr("d",(function(t){var e=t.target.x-t.source.x,n=t.target.y-t.source.y,r=Math.sqrt(e*e+n*n);return"M"+t.source.x+","+t.source.y+"A"+r+","+r+" 0 0,1 "+t.target.x+","+t.target.y})),u.attr("d",(function(t){var e=this.getTotalLength(),n=12,r=this.getPointAtLength(e-n),a=r.x-t.source.x,i=r.y-t.source.y,o=Math.sqrt(a*a+i*i);return"M"+t.source.x+","+t.source.y+"A"+o+","+o+" 0 0,1 "+r.x+","+r.y})),this.linkText&&this.linkText.attr("x",(function(t){return t.source.x+.5*(t.target.x-t.source.x)})).attr("y",(function(t){return t.source.y+.5*(t.target.y-t.source.y)})),f.attr("transform",(function(t){return"translate(".concat(t.x,", ").concat(t.y,")")}))}return s?h.attr("fill","white").clone(!0).lower().attr("stroke","black").attr("stroke-width",2):h.clone(!0).lower().attr("fill","transparent").attr("stroke","white").attr("stroke-width",2),c.nodes(t.nodes).on("tick",p),c.force("link",D["c"]().links(l).id((function(t){return t.id})).distance(250)),[n,c]},addLinkText:function(){var t=this;this.$vuetify.theme.dark;this.linkText=this.links.append("text").attr("class","link-text").attr("dy",-4).append("textPath").attr("xlink:href",(function(t,e){return"#path"+e})).attr("startOffset","50%").attr("fill",(function(e){return t.relationToColor[e.relation]})).attr("opacity",1).text((function(t){return t.relation}))},removeLinkText:function(){this.svg.selectAll("text.link-text").remove()},destroyChart:function(){this.svg.selectAll("*").remove(),this.svg.append("g").attr("class","links"),this.svg.append("g").attr("class","nodes"),this.simulation.stop()}},computed:{relationToColor:function(){var t=this.$vuetify.theme.dark;return{A:t?"#ff8888":"red",B:t?"lightgreen":"green",C:t?"skyblue":"blue","A,B":"orange","A,C":t?"magenta":"purple","B,C":"cyan","A,B,C":t?"white":"black"}}},watch:{"$vuetify.theme.dark":function(){this.destroyChart();var t=this.buildChart(this.graph),e=Object(G["a"])(t,2);this.svg=e[0],this.simulation=e[1]},relationLabels:function(){this.relationLabels?this.addLinkText():this.removeLinkText()}}},J=H,U=(n("8dfd"),Object(c["a"])(J,z,q,!1,null,"efe7e556",null)),F=U.exports;u()(U,{VCard:P["a"],VCardActions:B["a"],VCardText:B["b"],VCardTitle:B["c"],VSwitch:V["a"]});var K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"logic-lines",attrs:{outlined:""}},[n("v-card-title",[t._v(" Logic Lines ")]),n("v-card-text",[t._v(" Logic Line ")]),n("v-card-actions",[n("v-btn",{attrs:{text:""}},[t._v("Clear")])],1)],1)},N=[],Q={name:"LogicLines"},W=Q,X=(n("769a"),Object(c["a"])(W,K,N,!1,null,"3f07d188",null)),Y=X.exports;u()(X,{VBtn:p["a"],VCard:P["a"],VCardActions:B["a"],VCardText:B["b"],VCardTitle:B["c"]});var Z={name:"Home",components:{LogicLines:Y,ModelVisualization:F,GameVisualization:I}},tt=Z,et=(n("cccb"),Object(c["a"])(tt,j,A,!1,null,null,null)),nt=et.exports;r["a"].use(L["a"]);var rt=[{path:"/",name:"Home",component:nt},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],at=new L["a"]({routes:rt}),it=at,ot=n("2f62");r["a"].use(ot["a"]);var st=new ot["a"].Store({state:{},mutations:{},actions:{},modules:{}}),ct=n("f309"),lt=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;null!==localStorage.getItem("darkTheme")&&(lt="true"===localStorage.darkTheme),r["a"].use(ct["a"]);var ut=new ct["a"]({theme:{dark:lt,themes:{dark:{primary:"#0e8979"},light:{primary:"#00bf8e"}}}});r["a"].config.productionTip=!1,new r["a"]({router:it,store:st,vuetify:ut,render:function(t){return t(_)}}).$mount("#app")},5768:function(t,e,n){"use strict";n("16e7")},"5ced":function(t,e,n){},"769a":function(t,e,n){"use strict";n("bfe7")},"85ec":function(t,e,n){},"8dfd":function(t,e,n){"use strict";n("4469")},bfe7:function(t,e,n){},cccb:function(t,e,n){"use strict";n("5ced")}});
//# sourceMappingURL=app.1c77654e.js.map