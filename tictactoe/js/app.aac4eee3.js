(function(e){function t(t){for(var n,o,s=t[0],l=t[1],c=t[2],f=0,d=[];f<s.length;f++)o=s[f],a[o]&&d.push(a[o][0]),a[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/tictactoe/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("64a9"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"settings-icon",on:{click:function(t){e.showSettings=!e.showSettings}}}),r("tic-tac-toe",{ref:"tic",attrs:{"ai-enabled":e.aiEnabled,"ai-first":e.aiFirst,"size-x":+e.sizeX,"size-y":+e.sizeY}}),e.showSettings?r("div",{staticClass:"settings"},[r("label",[e._v("\n            Enable AI\n            "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.aiEnabled,expression:"aiEnabled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.aiEnabled)?e._i(e.aiEnabled,null)>-1:e.aiEnabled},on:{change:function(t){var r=e.aiEnabled,n=t.target,a=!!n.checked;if(Array.isArray(r)){var i=null,o=e._i(r,i);n.checked?o<0&&(e.aiEnabled=r.concat([i])):o>-1&&(e.aiEnabled=r.slice(0,o).concat(r.slice(o+1)))}else e.aiEnabled=a}}})]),e.aiEnabled?r("label",[e._v("\n            AI moves first\n            "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.aiFirst,expression:"aiFirst"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.aiFirst)?e._i(e.aiFirst,null)>-1:e.aiFirst},on:{change:function(t){var r=e.aiFirst,n=t.target,a=!!n.checked;if(Array.isArray(r)){var i=null,o=e._i(r,i);n.checked?o<0&&(e.aiFirst=r.concat([i])):o>-1&&(e.aiFirst=r.slice(0,o).concat(r.slice(o+1)))}else e.aiFirst=a}}})]):e._e(),r("label",[e._v("\n            Board width\n            "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.sizeX,expression:"sizeX"}],attrs:{type:"number"},domProps:{value:e.sizeX},on:{input:function(t){t.target.composing||(e.sizeX=t.target.value)}}})]),r("label",[e._v("\n            Board height\n            "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.sizeY,expression:"sizeY"}],attrs:{type:"number"},domProps:{value:e.sizeY},on:{input:function(t){t.target.composing||(e.sizeY=t.target.value)}}})]),r("input",{attrs:{type:"button",value:"Reset game"},on:{click:function(t){e.showSettings=!1,e.$refs.tic.resetGame()}}}),r("input",{attrs:{type:"button",value:"Hide settings"},on:{click:function(t){e.showSettings=!1}}})]):e._e()],1)},i=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.update?r("div",{staticClass:"tic"},[r("div",{staticClass:"board"},e._l(e.board,function(t,n){return r("div",{staticClass:"tic-row"},e._l(t,function(t,a){return r("div",{staticClass:"tic-item",style:"width: "+160/e.sizeX+"px;\n                        height: "+160/e.sizeX+"px;\n                        line-height: "+160/e.sizeX+"px;\n                        background-color: "+e.dict[t].color+";",on:{click:function(t){return e.play(n,a)}}},[e._v("\n                "+e._s(e.dict[t].symbol)+"\n            ")])}),0)}),0)]):e._e()},s=[],l=(r("96cf"),r("3b8d")),c=r("75fc"),u=r("768b"),f=(r("c5f6"),r("ac4d"),r("8a81"),r("ac6a"),r("d225")),d=r("b0b4"),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[3,3];Object(f["a"])(this,e),this.reset(t)}return Object(d["a"])(e,[{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!1===e&&(e=this.boardSize),console.log("BOARD SIZE",e),this.boardSize=e,this.board=this.createBoard(e)}},{key:"playSelf",value:function(e){var t=1;this.printBoard(e);while("unfinished"===this.evaluate(e)){var r=this.alphaBeta(e,t),n=Object(u["a"])(r,2),a=n[0];n[1];this.doMove(e,a,t),this.printBoard(e),t*=-1}console.log(this.evaluate(e))}},{key:"alphaBeta",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1/0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=this.boardToKey(e);if(i in a)return a[i];var o=!1,s=this.evaluate(e);if("unfinished"!==s)return[o,s];var l=-1/0*t,c=!0,f=!1,d=void 0;try{for(var h,v=this.possibleMoves(e)[Symbol.iterator]();!(c=(h=v.next()).done);c=!0){var p=h.value;this.doMove(e,p,t);var b=this.alphaBeta(e,-t,r,n,a),g=Object(u["a"])(b,2),y=(g[0],g[1]);if(this.undoMove(e,p),y*t>l*t&&(l=y,o=p),1===t?r=Math.max(r,l):n=Math.min(n,l),r>=n)break}}catch(m){f=!0,d=m}finally{try{c||null==v.return||v.return()}finally{if(f)throw d}}return a[i]=[o,l],[o,l]}},{key:"boardToKey",value:function(e){for(var t="",r=0;r<e.length;r++)for(var n=0;n<e[r].length;n++)t+=e[r][n]+1;return t}},{key:"doMove",value:function(e,t,r){e[t[0]][t[1]]=r}},{key:"undoMove",value:function(e,t){e[t[0]][t[1]]=0}},{key:"possibleMoves",value:function(e){for(var t=[],r=0;r<e.length;r++)for(var n=0;n<e[r].length;n++)0===e[r][n]&&t.push([r,n]);return t}},{key:"isDraw",value:function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e[t].length;r++)if(0===e[t][r])return!1;return!0}},{key:"evaluate",value:function(e){var t=!0,r=!1,n=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value,s=o.reduce(function(e,t){return e+t});if(s===-o.length)return-1;if(s===o.length)return 1}}catch(m){r=!0,n=m}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}for(var l=0;l<e[0].length;l++){for(var c=0,u=0;u<e.length;u++)c+=e[u][l];if(c===-e.length)return-1;if(c===e.length)return 1}for(var f=Math.min(e.length,e[0].length),d=0;d<=Math.abs(e.length-e[0].length);d++)if(e.length>e[0].length){for(var h=0,v=0;v<f;v++)h+=e[d+v][v];if(h===-f)return-1;if(h===f)return 1;h=0;for(var p=0;p<f;p++)h+=e[e.length-1-p-d][p];if(h===-f)return-1;if(h===f)return 1}else{for(var b=0,g=0;g<f;g++)b+=e[g][g+d];if(b===-f)return-1;if(b===f)return 1;b=0;for(var y=0;y<f;y++)b+=e[e.length-1-y][y+d];if(b===-f)return-1;if(b===f)return 1}return this.isDraw(e)?0:"unfinished"}},{key:"createBoard",value:function(e){for(var t=Object(u["a"])(e,2),r=t[0],n=t[1],a=new Array(r),i=0;i<r;i++){a[i]=new Array(n);for(var o=0;o<n;o++)a[i][o]=0}return a}},{key:"printBoard",value:function(e){for(var t="",r=0;r<e.length;r++){for(var n=0;n<e[r].length;n++){switch(e[r][n]){case 1:t+="X";break;case-1:t+="O";break;case 0:t+="_";break}t+=" "}t+="\n"}console.log(t)}}]),e}(),v=r("3d20"),p=r.n(v),b=[4,3],g=new h(b.reverse());console.log(g);var y={name:"TicTacToe",data:function(){return{update:!0,dict:{1:{symbol:"✕",color:"green"},0:{symbol:"",color:"black"},"-1":{symbol:"𐤏",color:"orange"}},board:g.board,turn:1}},props:{sizeX:{type:Number,default:g.boardSize[1]},sizeY:{type:Number,default:g.boardSize[0]},aiEnabled:{type:Boolean,default:!0},aiFirst:{type:Boolean,default:!0}},methods:{play:function(e,t){0===g.board[e][t]&&(console.log(e,t),this.makeMove(e,t),this.aiEnabled&&this.aiMove(),console.log(g.board[e][t]))},aiMove:function(){var e=g.alphaBeta(g.board,this.turn),t=Object(u["a"])(e,2),r=t[0];t[1];this.makeMove.apply(this,Object(c["a"])(r))},makeMove:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];g.doMove(g.board,t,this.turn),this.update=!1,this.update=!0;var n=g.evaluate(g.board);"unfinished"!==n&&this.finishGame(n),this.turn*=-1},finishGame:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t,e.next=1===e.t0?3:-1===e.t0?6:0===e.t0?9:12;break;case 3:return e.next=5,p.a.fire("X wins!");case 5:return e.abrupt("break",12);case 6:return e.next=8,p.a.fire("O wins!");case 8:return e.abrupt("break",12);case 9:return e.next=11,p.a.fire("Draw!");case 11:return e.abrupt("break",12);case 12:this.resetGame();case 13:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),resetGame:function(){g.reset(),this.turn=1,this.board=g.board,this.aiFirst&&this.aiEnabled&&this.aiMove()}},mounted:function(){this.resetGame()},watch:{sizeX:function(){console.log("X update",this.sizeX,this.sizeY),g.reset([g.boardSize[0],this.sizeX]),this.board=g.board,this.resetGame()},sizeY:function(){console.log("Y update",this.sizeX,this.sizeY),g.reset([this.sizeY,g.boardSize[1]]),this.board=g.board,this.resetGame()}}},m=y,w=(r("62af"),r("2877")),k=Object(w["a"])(m,o,s,!1,null,"07d25d98",null),z=k.exports,x={name:"app",components:{TicTacToe:z},data:function(){return{showSettings:!1,aiEnabled:!0,aiFirst:!0,sizeX:4,sizeY:3}}},_=x,O=(r("034f"),Object(w["a"])(_,a,i,!1,null,null,null)),M=O.exports,S=r("9483");Object(S["a"])("".concat("/tictactoe/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(M)}}).$mount("#app")},"62af":function(e,t,r){"use strict";var n=r("ac35"),a=r.n(n);a.a},"64a9":function(e,t,r){},ac35:function(e,t,r){}});
//# sourceMappingURL=app.aac4eee3.js.map