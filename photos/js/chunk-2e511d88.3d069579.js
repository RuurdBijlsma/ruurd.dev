(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e511d88"],{"0586":function(e,i,t){"use strict";t("7fa2")},6062:function(e,i,t){"use strict";var n=t("6d61"),a=t("6566");e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),a)},"6ec5":function(e,i,t){"use strict";t.r(i);var n=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"media-photo"},[t("div",{staticClass:"left-pane"},[t("div",{staticClass:"controls"},[t("div",{staticClass:"control-top"},[t("div",{staticClass:"control-top-left"},[t("v-btn",{attrs:{large:"",icon:"",dark:""},on:{click:e.close}},[t("v-icon",[e._v("mdi-arrow-left")])],1)],1),t("div",{staticClass:"control-top-right"},[t("v-btn",{attrs:{large:"",icon:"",dark:""},on:{click:function(i){e.showInfo=!e.showInfo}}},[t("v-icon",[e._v("mdi-information-outline")])],1)],1)]),t("div",{staticClass:"control-mid"},[t("v-btn",{attrs:{fab:"",dark:"",disabled:!e.canSkipLeft},on:{click:e.previous}},[t("v-icon",[e._v("mdi-chevron-left")])],1),t("v-btn",{attrs:{fab:"",dark:"",disabled:!e.canSkipRight},on:{click:e.next}},[t("v-icon",[e._v("mdi-chevron-right")])],1)],1)]),e.media&&"photo"===e.media.type?t("v-img",{key:e.media.id,staticClass:"media-item",attrs:{"lazy-src":e.api+"/photos/tiny/"+e.media.id+".webp",src:e.api+"/photos/big/"+e.media.id+".webp",contain:""}}):e.media?t("video",{ref:"video"+e.media.id,staticClass:"media-item",attrs:{poster:e.api+"/photos/big/"+e.media.id+".webp",controls:"",autoplay:"",src:e.api+"/photos/webm/"+e.media.id+".webm"}}):e._e()],1),t("v-sheet",{staticClass:"right-pane",style:{marginRight:e.showInfo?"0":"-400px"}},[t("div",{staticClass:"info-header"},[t("v-btn",{attrs:{icon:""},on:{click:function(i){e.showInfo=!1}}},[t("v-icon",[e._v("mdi-close")])],1),t("span",[e._v("Info")])],1),t("v-subheader",{staticClass:"subheader-caption"},[e._v("DETAILS")]),e.media?t("div",{staticClass:"info-content"},[t("div",[e._v(e._s(e.media.createDate))]),e.media.filename?t("div",[e._v(e._s(e.media.filename))]):e._e(),t("div",[e._v(e._s(e.media.width)+" Ã— "+e._s(e.media.height))]),e.media.classifications&&e.media.classifications.length>0?t("div",[e._v(" "+e._s(e.media.classifications[0].levels[0])+" ")]):e._e(),e.media.location?t("div",[e._v(e._s(e.media.location))]):e._e()]):e._e()],1)],1)},a=[],o=t("2909"),s=t("1da1"),r=(t("96cf"),t("d3b7"),t("6062"),t("3ca3"),t("ddb0"),t("7db0"),t("4de4"),t("ac1f"),t("1276"),t("a15b"),t("fb6a"),t("5319"),t("99af"),t("c740"),t("2b0e")),d=t("1a43"),c=t("b0d1"),u=r["a"].extend({name:"Photo",props:{},data:function(){return{api:d["a"],media:null,showInfo:!0,isLoading:new Set}},beforeDestroy:function(){},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var t;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.media=null!==(t=e.queue.find((function(i){return i.id===e.id})))&&void 0!==t?t:null,i.next=3,e.fullMediaLoad();case 3:e.$store.commit("keepInView",e.media);case 4:case"end":return i.stop()}}),i)})))()},methods:{close:function(){var e=this.$route.path.split("/").filter((function(e){return 0!==e.length}));console.log(e);var i="/"+e.slice(0,e.length-2).join("/");this.$router.push(i)},previous:function(){var e=this.queue[this.index-1];if(e){this.media=e,this.$store.commit("keepInView",this.media),this.fullMediaLoad();var i=this.$route.path.split("/");this.$router.replace([].concat(Object(o["a"])(i.slice(0,i.length-1)),[e.id]).join("/"))}},next:function(){var e=this.queue[this.index+1];if(e){this.media=e,this.$store.commit("keepInView",this.media),this.fullMediaLoad();var i=this.$route.path.split("/");this.$router.replace([].concat(Object(o["a"])(i.slice(0,i.length-1)),[e.id]).join("/"))}},fullMediaLoad:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var t,n,a,o,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o=null!==(t=null===(n=e.media)||void 0===n?void 0:n.id)&&void 0!==t?t:e.id,!e.isLoading.has(o)){i.next=3;break}return i.abrupt("return");case 3:return e.isLoading.add(o),i.next=6,e.$store.dispatch("apiRequest",{url:"photos/".concat(o)}).then(c["a"].fromObject);case 6:s=i.sent,null!==e.media&&o!==(null===(a=e.media)||void 0===a?void 0:a.id)||(console.log(s),e.media=s),e.isLoading.delete(o);case 9:case"end":return i.stop()}}),i)})))()},waitSleep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(i){return setTimeout(i,e)}))}},computed:{canSkipLeft:function(){return this.index>0},canSkipRight:function(){return this.index+1<this.queue.length},index:function(){var e=this;return this.queue.findIndex((function(i){return i.id===e.id}))},queue:function(){return this.$store.state.viewerQueue},id:function(){return this.$route.params.id}},watch:{id:function(){this.fullMediaLoad()}}}),l=u,h=(t("0586"),t("2877")),f=t("6544"),v=t.n(f),m=t("8336"),p=t("132d"),b=t("adda"),g=t("8dd9"),w=t("e0c7"),_=Object(h["a"])(l,n,a,!1,null,"507f68fa",null);i["default"]=_.exports;v()(_,{VBtn:m["a"],VIcon:p["a"],VImg:b["a"],VSheet:g["a"],VSubheader:w["a"]})},"7fa2":function(e,i,t){}}]);
//# sourceMappingURL=chunk-2e511d88.3d069579.js.map