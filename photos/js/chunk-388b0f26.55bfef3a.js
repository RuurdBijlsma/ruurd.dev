(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-388b0f26"],{6062:function(i,e,t){"use strict";var n=t("6d61"),a=t("6566");i.exports=n("Set",(function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}}),a)},"6ec5":function(i,e,t){"use strict";t.r(e);var n=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("div",{staticClass:"media-photo"},[t("div",{staticClass:"left-pane"},[t("div",{staticClass:"controls"},[t("div",{staticClass:"control-top"},[t("div",{staticClass:"control-top-left"},[t("v-btn",{attrs:{large:"",icon:"",dark:""},on:{click:i.close}},[t("v-icon",[i._v("mdi-arrow-left")])],1)],1),t("div",{staticClass:"control-top-right"},[t("v-btn",{attrs:{large:"",icon:"",dark:""},on:{click:function(e){i.showInfo=!i.showInfo}}},[t("v-icon",[i._v("mdi-information-outline")])],1)],1)]),t("div",{staticClass:"control-mid"},[t("v-btn",{attrs:{fab:"",dark:"",disabled:!i.canSkipLeft},on:{click:i.previous}},[t("v-icon",[i._v("mdi-chevron-left")])],1),t("v-btn",{attrs:{fab:"",dark:"",disabled:!i.canSkipRight},on:{click:i.next}},[t("v-icon",[i._v("mdi-chevron-right")])],1)],1)]),i.media&&"photo"===i.media.type?t("v-img",{key:i.media.id,staticClass:"media-item",attrs:{"lazy-src":i.api+"/photos/tiny/"+i.media.id+".webp",src:i.api+"/photos/big/"+i.media.id+".webp",contain:""}}):i.media?t("video",{ref:"video"+i.media.id,staticClass:"media-item",attrs:{poster:i.api+"/photos/big/"+i.media.id+".webp",controls:"",autoplay:"",src:i.api+"/photos/webm/"+i.media.id+".webm"}}):i._e()],1),t("v-sheet",{staticClass:"right-pane",style:{marginRight:i.showInfo?"0":"-400px"}},[t("div",{staticClass:"info-header"},[t("v-btn",{attrs:{icon:""},on:{click:function(e){i.showInfo=!1}}},[t("v-icon",[i._v("mdi-close")])],1),t("span",[i._v("Info")])],1),t("v-subheader",{staticClass:"subheader-caption"},[i._v("DETAILS")]),i.media?t("div",{staticClass:"info-content"},[t("div",[i._v(i._s(i.media.createDate))]),i.media.filename?t("div",[i._v(i._s(i.media.filename))]):i._e(),t("div",[i._v(i._s(i.media.width)+" Ã— "+i._s(i.media.height))]),i.media.classifications&&i.media.classifications.length>0?t("div",[i._v(" "+i._s(i.media.classifications[0].levels[0])+" ")]):i._e(),i.media.location?t("div",[i._v(i._s(i.media.location))]):i._e()]):i._e()],1)],1)},a=[],o=t("2909"),s=t("1da1"),r=(t("96cf"),t("d3b7"),t("6062"),t("3ca3"),t("ddb0"),t("7db0"),t("4de4"),t("ac1f"),t("1276"),t("a15b"),t("fb6a"),t("5319"),t("99af"),t("c740"),t("2b0e")),d=t("1a43"),c=t("b0d1"),u=r["a"].extend({name:"Photo",props:{},data:function(){return{api:d["a"],media:null,showInfo:!0,isLoading:new Set}},beforeDestroy:function(){},mounted:function(){var i=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.media=null!==(t=i.queue.find((function(e){return e.id===i.id})))&&void 0!==t?t:null,e.next=3,i.fullMediaLoad();case 3:case"end":return e.stop()}}),e)})))()},methods:{close:function(){var i=this.$route.path.split("/").filter((function(i){return 0!==i.length}));console.log(i);var e="/"+i.slice(0,i.length-2).join("/");this.$router.push(e)},previous:function(){var i=this.queue[this.index-1];if(i){this.media=i,this.fullMediaLoad();var e=this.$route.path.split("/");this.$router.replace([].concat(Object(o["a"])(e.slice(0,e.length-1)),[i.id]).join("/"))}},next:function(){var i=this.queue[this.index+1];if(i){this.media=i,this.fullMediaLoad();var e=this.$route.path.split("/");this.$router.replace([].concat(Object(o["a"])(e.slice(0,e.length-1)),[i.id]).join("/"))}},fullMediaLoad:function(){var i=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,o,s,r,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=null!==(t=null===(n=i.media)||void 0===n?void 0:n.id)&&void 0!==t?t:i.id,!i.isLoading.has(s)){e.next=3;break}return e.abrupt("return");case 3:return i.isLoading.add(s),r=!1,(null===(a=i.media)||void 0===a?void 0:a.id)===s&&(r=!0,i.$store.commit("keepInView",i.media)),e.next=8,i.$store.dispatch("apiRequest",{url:"photos/".concat(s)}).then(c["a"].fromObject);case 8:d=e.sent,null!==i.media&&s!==(null===(o=i.media)||void 0===o?void 0:o.id)||(console.log(d),r||i.$store.commit("keepInView",d),i.media=d),i.isLoading.delete(s);case 11:case"end":return e.stop()}}),e)})))()},waitSleep:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(e){return setTimeout(e,i)}))}},computed:{canSkipLeft:function(){return this.index>0},canSkipRight:function(){return this.index+1<this.queue.length-1},index:function(){var i=this;return this.queue.findIndex((function(e){return e.id===i.id}))},queue:function(){return this.$store.state.viewerQueue},id:function(){return this.$route.params.id}},watch:{id:function(){this.fullMediaLoad()}}}),l=u,h=(t("9878"),t("2877")),f=t("6544"),v=t.n(f),m=t("8336"),p=t("132d"),b=t("adda"),g=t("8dd9"),w=t("e0c7"),_=Object(h["a"])(l,n,a,!1,null,"46b93eb1",null);e["default"]=_.exports;v()(_,{VBtn:m["a"],VIcon:p["a"],VImg:b["a"],VSheet:g["a"],VSubheader:w["a"]})},9878:function(i,e,t){"use strict";t("a7b8")},a7b8:function(i,e,t){}}]);
//# sourceMappingURL=chunk-388b0f26.55bfef3a.js.map