(function(t){function e(e){for(var o,r,s=e[0],c=e[1],u=e[2],l=0,h=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var s=n[r];0!==a[s]&&(o=!1)}o&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},r={app:0},a={app:0},i=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-388b0f26":"55bfef3a","chunk-704590ec":"7d639a03","chunk-e4ede7fe":"8c5ec14e"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-388b0f26":1,"chunk-704590ec":1,"chunk-e4ede7fe":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var o="css/"+({}[t]||t)+"."+{"chunk-388b0f26":"38f411b7","chunk-704590ec":"2efca91c","chunk-e4ede7fe":"56c2718e"}[t]+".css",a=c.p+o,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===a))return e()}var h=document.getElementsByTagName("style");for(s=0;s<h.length;s++){u=h[s],l=u.getAttribute("data-href");if(l===o||l===a)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var o=e&&e.target&&e.target.src||a,i=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete r[t],d.parentNode.removeChild(d),n(i)},d.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){r[t]=0})));var o=a[t];if(0!==o)if(o)e.push(o[2]);else{var i=new Promise((function(e,n){o=a[t]=[e,n]}));e.push(o[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t);var h=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=a[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",h.name="ChunkLoadError",h.type=o,h.request=r,n[1](h)}a[t]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/photos/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var h=0;h<u.length;h++)e(u[h]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"034f":function(t,e,n){"use strict";n("85ec")},1889:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return a}));n("d3b7"),n("25f0"),n("4d90"),n("99af");var o=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function a(t){if(isNaN(t)||void 0===t)return"0:00";t=Math.round(t);var e=Math.floor(t/3600),n=Math.floor(t%3600/60),o=t%60,r=e.toString(),a=n.toString(),i=o.toString();return"0"!==r&&(a=a.padStart(2,"0"),i=i.padStart(2,"0")),i=i.padStart(2,"0"),"0"===r?"".concat(a,":").concat(i):"".concat(r,":").concat(a,":").concat(i)}},"1a43":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o="https://api.ruurd.dev"},"23ab":function(t,e,n){},"3b40":function(t,e,n){"use strict";n("e4aa")},5024:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"frame",staticClass:"photo-grid"},t._l(t.photoRows,(function(e){return n("div",{ref:"rows",refInFor:!0,staticClass:"block-row"},t._l(e,(function(e){return n("div",{staticClass:"photo-block"},[n("div",{staticClass:"block-day",class:{"hide-date":e.hideDate},style:{maxWidth:Math.floor(e.width)+"px"},attrs:{title:e.day}},[t._v(" "+t._s(e.day)+" ")]),n("div",{staticClass:"photos"},t._l(e.layoutMedias,(function(o){var r=o.media,a=o.visualWidth,i=o.visualHeight;return n("router-link",{key:r.id,staticClass:"photo",style:{height:i+"px",width:a+"px"},attrs:{to:t.currentPath+"/photo/"+r.id}},["photo"===r.type?n("div",{staticClass:"image-container"},[n("div",{staticClass:"image-background",style:{backgroundImage:"url("+t.getThumbUrl(r.id,e.height)+")"}}),n("div",{staticClass:"image-overlay"},[n("div",{staticClass:"image-info"},["vr"===r.subType?n("v-icon",{staticClass:"icon",attrs:{color:"white"}},[t._v(" mdi-rotate-3d-variant ")]):"portrait"===r.subType?n("v-icon",{staticClass:"icon",attrs:{color:"white"}},[t._v(" mdi-blur ")]):t._e()],1)])]):n("div",{staticClass:"video-container",on:{mouseleave:function(e){return t.pauseVideo(r.id)},mouseenter:function(e){return t.playVideo(r.id)}}},[n("video",{ref:"video"+r.id,refInFor:!0,attrs:{poster:""+t.getThumbUrl(r.id,e.height),muted:"",loop:"",src:t.api+"/photos/webm/"+r.id+".webm"},domProps:{muted:!0}}),n("div",{staticClass:"video-overlay"},[n("div",{staticClass:"video-info"},[n("span",{staticClass:"video-duration"},[t._v(t._s(t.toHms(r.duration/1e3)))]),"none"===r.subType?n("v-icon",{staticClass:"icon",attrs:{color:"white"}},[t._v(" mdi-play-circle-outline ")]):"slomo"===r.subType?n("v-icon",{staticClass:"icon",attrs:{color:"white"}},[t._v(" mdi-play-speed ")]):t._e()],1)])])])})),1)])})),0)})),0)},r=[],a=n("b85c"),i=n("3835"),s=n("1da1"),c=(n("99af"),n("d81d"),n("fb6a"),n("8a79"),n("96cf"),n("2b0e")),u=n("1a43"),l=n("1889"),h=c["a"].extend({name:"PhotoGrid",props:{photos:{type:Array,required:!0},timeline:{type:Boolean,default:!1}},data:function(){return{photoRows:[],frameWidth:window.innerWidth-256,api:u["a"]}},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.updateFrameWidth(),e.next=3,t.calculateLayout();case 3:window.addEventListener("resize",t.onResize,!1);case 4:case"end":return e.stop()}}),e)})))()},methods:{getThumbUrl:function(t,e){return"".concat(u["a"],"/photos/").concat(e>260?"small":"tiny","/").concat(t,".webp")},calculateLayout:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,o,r,s,c,u,l,h,d,p,f,m,v,g,b,y,w,S,M,x,k,P,D,T,O,j,R,$,q,L,C,E,_,F,V,I,N,A,H,W,Y,J,G,B,U,z,Q,K,X,Z,tt,et,nt,ot,rt,at,it,st,ct,ut,lt,ht;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.photos.map((function(t){return{media:t,visualWidth:0,visualHeight:0}})),0!==n.length){e.next=4;break}return t.photoRows=[],e.abrupt("return");case 4:t.updateFrameWidth(),o=(new Date).getFullYear(),r=(new Date).toDateString(),s=new Date((new Date).getTime()-864e5).toDateString(),c=function(t){var e=t.toDateString(),n=t.getMonth()+1,a=t.getTime();return e===r?["Today",n,a]:e===s?["Yesterday",n,a]:t.getFullYear()===o?[e.substr(0,e.length-5),n,a]:[e,n,a]},u=c(n[0].media.createDate),l=Object(i["a"])(u,3),h=l[0],d=l[1],p=l[2],f={day:h,month:d,date:p,layoutMedias:[]},m=[],v=Object(a["a"])(n);try{for(v.s();!(g=v.n()).done;)b=g.value,y=c(b.media.createDate),w=Object(i["a"])(y,3),S=w[0],M=w[1],x=w[2],f.day!==S&&(m.push(f),f={day:S,month:M,layoutMedias:[],date:x}),f.layoutMedias.push(b)}catch(dt){v.e(dt)}finally{v.f()}for(m.push(f),k=t.frameWidth-2,P=150+Math.min(window.innerWidth/30,64),D=[],T=[],O={layoutMedias:[],day:h,month:d,date:p,width:0,height:0,hideDate:!1},j=0,R=0,$=0,q=m;$<q.length;$++){L=q[$],C=L.day,E=L.month,_=Object(a["a"])(L.layoutMedias);try{for(_.s();!(F=_.n()).done;)V=F.value,I=P*V.media.ratio,N=j+I,A=k-j,H=L.layoutMedias.length,W=E!==O.month,Y=C!==O.day,J=N>k||Y&&A-I<100||Y&&H>3||Y&&R>3||t.timeline&&W,(J||Y)&&(O.layoutMedias.length>0&&T.push(O),O={layoutMedias:[],day:C,width:0,height:0,hideDate:J&&!Y,month:E,date:L.date},J&&(T.length>0&&D.push(T),T=[],j=0)),j+=I,O.layoutMedias.push(V)}catch(dt){_.e(dt)}finally{_.f()}R=L.layoutMedias.length}for(T.push(O),D.push(T),G=5,B=40,U=0,z=D;U<z.length;U++){Q=z[U],K=[],X=Object(a["a"])(Q);try{for(X.s();!(Z=X.n()).done;)tt=Z.value,tt.width=tt.layoutMedias.map((function(t){return t.media.ratio*P})).reduce((function(t,e){return t+e})),K.push(tt.width)}catch(dt){X.e(dt)}finally{X.f()}et=K.reduce((function(t,e){return t+e})),nt=Q.map((function(t){return(t.layoutMedias.length-1)*G})),ot=(Q.length-1)*B,rt=nt.reduce((function(t,e){return t+e}))+ot,at=(k-rt)/et,at>2.1&&(at=1),it=Object(a["a"])(Q);try{for(it.s();!(st=it.n()).done;){ct=st.value,ct.height=P*at,ut=Object(a["a"])(ct.layoutMedias);try{for(ut.s();!(lt=ut.n()).done;)ht=lt.value,ht.visualHeight=P*at,ht.visualWidth=Math.floor(P*ht.media.ratio*at)}catch(dt){ut.e(dt)}finally{ut.f()}}}catch(dt){it.e(dt)}finally{it.f()}}t.photoRows=D,t.$emit("photoRowsUpdate");case 30:case"end":return e.stop()}}),e)})))()},onResize:function(){this.$vuetify.breakpoint.width===window.innerWidth&&this.$vuetify.breakpoint.height===window.innerHeight||requestAnimationFrame(this.calculateLayout)},updateFrameWidth:function(){var t,e;this.frameWidth=null!==(t=null===(e=this.$refs.frame)||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:window.innerWidth-this.$vuetify.application.left},playVideo:function(t){var e,n,o=null===(e=this.$refs["video"+t])||void 0===e?void 0:e[0];null===o||void 0===o||null===(n=o.play)||void 0===n||n.call(o)},pauseVideo:function(t){var e,n,o=null===(e=this.$refs["video"+t])||void 0===e?void 0:e[0];null===o||void 0===o||null===(n=o.pause)||void 0===n||n.call(o)},scrollIntoView:function(t,e,n){var o=new Date;o.setFullYear(n),o.setMonth(e-1),o.setDate(t);var r=o.getTime(),i=this.photoRows;while(1){var s=Math.floor(i.length/2),c=i[s][0].date;if(i=r<c?i.slice(s):i.slice(0,s),1===i.length)break}var u=this.photoRows.indexOf(i[0]);t:for(var l=u;l>=0;l--){var h,d=this.photoRows[l],p=Object(a["a"])(d);try{for(p.s();!(h=p.n()).done;){var f=h.value.date,m=new Date(f);if(m.getDate()!==t||m.getMonth()+1!==e||m.getFullYear()!==n){u=l+1;break t}}}catch(g){p.e(g)}finally{p.f()}}var v=this.$refs.rows;console.log("Scrolling into view",t,e,n,i[0],v[u],this.photoRows[u],u,this.photoRows.indexOf(i[0])),v[u].scrollIntoView()},toHms:function(t){return Object(l["b"])(t)}},computed:{currentPath:function(){var t=this.$route.path;return t.endsWith("/")?t.substr(0,t.length-1):t}},watch:{photos:function(){requestAnimationFrame(this.calculateLayout)}}}),d=h,p=(n("3b40"),n("2877")),f=n("6544"),m=n.n(f),v=n("132d"),g=Object(p["a"])(d,o,r,!1,null,"9d861450",null);e["a"]=g.exports;m()(g,{VIcon:v["a"]})},7384:function(t,e,n){"use strict";n("23ab")},"73b2":function(t,e,n){t.exports=n.p+"img/transparent-icon-512.e6e999bf.png"},"85ec":function(t,e,n){},b0d1:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("b85c"),r=n("d4ec"),a=n("bee2"),i=(n("d81d"),n("07ac"),n("caad"),function(){function t(e,n,o,a,i,s,c){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:{};Object(r["a"])(this,t),this.id=e,this.filename=n,this.createDate=o,this.width=a,this.height=i,this.type=s,this.duration=u,this.subType=c,this.classifications=l,this.location=h,this.size=d,this.exif=p}return Object(a["a"])(t,[{key:"ratio",get:function(){return 0===this.height?1:this.width/this.height}}],[{key:"fromObject",value:function(e){var n,r,a=e.id,i=void 0===a?"":a,s=e.filename,c=void 0===s?"":s,u=e.createDate,l=void 0===u?"":u,h=e.width,d=void 0===h?0:h,p=e.height,f=void 0===p?0:p,m=e.type,v=void 0===m?"":m,g=e.subType,b=void 0===g?"":g,y=e.durationMs,w=void 0===y?null:y,S=e.MediaClassifications,M=void 0===S?null:S,x=e.MediaLocation,k=void 0===x?null:x,P=e.bytes,D=void 0===P?"-1":P,T=e.exif,O=void 0===T?{}:T;b=b.toLowerCase(),v=v.toLowerCase();var j=k?{latitude:k.latitude,longitude:k.longitude,altitude:k.altitude,places:null===(n=k.MediaPlaces)||void 0===n||null===(r=n.map)||void 0===r?void 0:r.call(n,(function(t){return{type:t.type,name:t.text}}))}:null,R=M?M.map((function(t){var e,n={},r=Object(o["a"])(t.MediaGlossaries);try{for(r.s();!(e=r.n()).done;){var a=e.value,i=a.level,s=a.text;n[i]={glossary:s,level:i}}}catch(p){r.e(p)}finally{r.f()}var c,u=Object(o["a"])(t.MediaLabels);try{for(u.s();!(c=u.n()).done;){var l=c.value,h=l.level,d=l.text;n[h].labels||(n[h].labels=[]),n[h].labels.push(d)}}catch(p){u.e(p)}finally{u.f()}return{confidence:t.confidence,levels:Object.values(n)}})):null;return new t(i,c,new Date(l),d,f,"image"===v?"photo":"video",["portrait","vr","slomo"].includes(b)?b:"none",w,R,j,isFinite(+D)?+D:null,O)}}]),t}())},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{staticClass:"app"},[o("v-app-bar",{attrs:{elevation:"0",app:"","clipped-left":""}},[o("img",{staticClass:"logo-icon",attrs:{src:n("73b2"),alt:"icon"}}),o("v-app-bar-title",{staticClass:"logo-text"},[t._v("Photos")]),o("v-spacer"),o("v-autocomplete",{ref:"search",attrs:{dense:"",solo:"","hide-details":"",label:"Search...","prepend-icon":"mdi-magnify","hide-no-data":"",loading:t.loadingSuggestions,items:t.items,clearable:"","return-object":"","search-input":t.query},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterPressed(e)},"update:searchInput":function(e){t.query=e},"update:search-input":function(e){t.query=e}},model:{value:t.querySelect,callback:function(e){t.querySelect=e},expression:"querySelect"}}),o("v-spacer"),o("v-btn",{attrs:{icon:""}},[o("v-icon",[t._v("mdi-cog")])],1)],1),o("v-navigation-drawer",{attrs:{"expand-on-hover":!0,permanent:"",app:"",floating:"",clipped:"","hide-overlay":""}},[o("v-list",{attrs:{dense:"",nav:""}},[o("v-list-item",{attrs:{to:"/",exact:""},on:{click:function(e){return t.$store.commit("scrollToTop",!0)}}},[o("v-list-item-icon",[o("v-icon",[t._v("mdi-home-outline")])],1),o("v-list-item-content",[o("v-list-item-title",[t._v("Photos")])],1)],1),o("v-list-item",{attrs:{to:"/explore",exact:""}},[o("v-list-item-icon",[o("v-icon",[t._v("mdi-magnify")])],1),o("v-list-item-content",[o("v-list-item-title",[t._v("Explore")])],1)],1),o("v-list-item",{attrs:{to:"/map",exact:""}},[o("v-list-item-icon",[o("v-icon",[t._v("mdi-earth")])],1),o("v-list-item-content",[o("v-list-item-title",[t._v("Photo map")])],1)],1)],1)],1),o("v-main",[o("router-view")],1)],1)},a=[],i=n("b85c"),s=n("2909"),c=n("1da1"),u=(n("96cf"),n("b0c0"),n("ac1f"),n("841c"),n("d81d"),n("caad"),n("2532"),n("99af"),n("4de4"),n("1276"),n("2ca0"),n("1889")),l=o["a"].extend({name:"App",data:function(){return{query:"",querySelect:null,loadingSuggestions:!1,items:[]}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$store.getters.isLoggedIn||"Login"===t.$route.name){e.next=3;break}return e.next=3,t.$router.push("/login");case 3:t.$route.params.query&&(t.query=t.$route.params.query,t.items=[t.query],t.querySelect=t.query),console.log(t.$store);case 5:case"end":return e.stop()}}),e)})))()},methods:{enterPressed:function(t){this.querySelect=this.query;var e=this.$refs.search;e.isMenuActive=!1,this.startSearch()},loadSuggestions:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loadingSuggestions=!0,n=t.query,e.next=4,t.$store.dispatch("apiRequest",{url:"photos/suggestions?q=".concat(n)});case 4:o=e.sent,r=o.map((function(t){return t.text})),r.includes(n)||r.unshift(n),t.items=r,console.log(o),t.loadingSuggestions=!1;case 10:case"end":return e.stop()}}),e)})))()},isDate:function(t){var e=t.toLowerCase(),n=[].concat(Object(s["a"])(u["a"]),Object(s["a"])(u["c"])).map((function(t){return t.toLowerCase()}));if(n.includes(e))return{type:"month",month:n.indexOf(e)%12+1};var o=e.split(/[- _\/]/).filter((function(t){return 0!==t.length}));if(2!==o.length)return{type:"none"};var r=n.includes(o[0]),a=n.includes(o[1]),i=+o[1]>12&&+o[0]<=12;return r&&+o[1]<=31&&+o[1]>=0?{type:"dayMonth",month:n.indexOf(o[0])%12+1,day:+o[1]}:a&&+o[0]<=31&&+o[0]>=0?{type:"dayMonth",month:n.indexOf(o[1])%12+1,day:+o[0]}:i&&+o[0]<=12&&+o[0]>=0&&+o[1]<=31&&+o[1]>=0?{type:"dayMonth",month:+o[0],day:+o[1]}:+o[0]<=31&&+o[0]>=0&&+o[1]<=12&&+o[1]>=0?{type:"dayMonth",month:+o[1],day:+o[0]}:{type:"none"}},isScrubDate:function(t){var e=!isNaN(+t[0]);if(!e){var n,o=!1,r=Object(i["a"])(u["c"]);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(t.startsWith(a)){o=!0;break}}}catch(c){r.e(c)}finally{r.f()}if(!o)return{isDate:!1,date:new Date}}var s=new Date(t);return{isDate:!isNaN(s.getDate()),date:s}},startSearch:function(){if(""!==this.query&&void 0!==this.query){var t=null,e=this.isDate(this.query),n=e.type,o=e.month,r=e.day;if(console.log({type:n,month:o,day:r}),"month"===n)t="/date/".concat(u["a"][(null!==o&&void 0!==o?o:1)-1]);else if("dayMonth"===n)t="/date/".concat(r,"/").concat(u["a"][(null!==o&&void 0!==o?o:1)-1]);else{var a=this.isScrubDate(this.query),i=a.isDate,s=a.date;i?t="/?date=".concat(s.getFullYear(),"-").concat(s.getMonth()+1,"-").concat(s.getDate()):this.$route.params.query===this.query?this.$store.dispatch("search",this.query):"Search"===this.$route.name?(this.$store.dispatch("search",this.query),t="/search/".concat(this.query)):t="/search/".concat(this.query)}this.$route.path!==t&&null!==t&&this.$router.push(t)}}},watch:{querySelect:function(t){null!==t&&(console.log("Search!",t),this.query=t,console.log(this.querySelect),this.startSearch())},query:function(t){t&&t!==this.querySelect&&this.loadSuggestions()},"$route.params.query":function(){this.query=this.$route.params.query,this.querySelect=this.query}}}),h=l,d=(n("034f"),n("2877")),p=n("6544"),f=n.n(p),m=n("7496"),v=n("40dc"),g=n("bb78"),b=n("c6a6"),y=n("8336"),w=n("132d"),S=n("8860"),M=n("da13"),x=n("5d23"),k=n("34c3"),P=n("f6c4"),D=n("f774"),T=n("2fa4"),O=Object(d["a"])(h,r,a,!1,null,null,null),j=O.exports;f()(O,{VApp:m["a"],VAppBar:v["a"],VAppBarTitle:g["a"],VAutocomplete:b["a"],VBtn:y["a"],VIcon:w["a"],VList:S["a"],VListItem:M["a"],VListItemContent:x["a"],VListItemIcon:k["a"],VListItemTitle:x["b"],VMain:P["a"],VNavigationDrawer:D["a"],VSpacer:T["a"]});var R=n("9483");Object(R["a"])("".concat("/photos/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("d3b7"),n("3ca3"),n("ddb0");var $=n("8c4f"),q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"home",staticClass:"home",on:{scroll:t.homeScroll}},[n("router-view"),t.initialLoading?n("div",{staticClass:"progress-center"},[n("v-progress-circular",{attrs:{color:"primary",size:t.$vuetify.breakpoint.width/4,indeterminate:""}})],1):0===t.flatPhotos.length?n("div",{staticClass:"no-results"},[n("div",{staticClass:"no-results-center"},[n("v-icon",{staticClass:"icon",attrs:{"x-large":""}},[t._v("mdi-image")]),n("div",{staticClass:"caption"},[t._v('No photos"')])],1)]):t._e(),n("div",{staticClass:"grid"},[t.topLoaded||t.initialLoading?t._e():n("div",{staticClass:"loading-top"},[n("v-progress-linear",{attrs:{indeterminate:""}})],1),n("photo-grid",{ref:"photoGrid",attrs:{timeline:"",photos:t.flatPhotos}}),t.bottomLoaded||t.initialLoading?t._e():n("div",{staticClass:"loading-bottom"},[n("v-progress-linear",{attrs:{indeterminate:""}})],1)],1),n("canvas",{ref:"scrubber",staticClass:"scrubber scrubber-canvas",attrs:{width:100,height:t.canvasHeight}}),n("div",{staticClass:"scrubber scrubber-events",on:{mouseenter:function(e){t.overScrub=!0},mouseleave:function(e){t.overScrub=!1},mousedown:t.scrubStart}})],1)},L=[],C=n("3835"),E=(n("25f0"),n("b680"),n("a434"),n("a15b"),n("0481"),n("b0d1")),_=n("5024"),F=n("1a43"),V=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],I=new Date,N=o["a"].extend({name:"Home",components:{PhotoGrid:_["a"]},data:function(){return{api:F["a"],photosPerMonth:[],photos:[],homeElement:{},canvas:{},context:{},photoGrid:null,scrollMonthStart:0,scrollLoadPromise:null,scrolling:!1,scrollData:{y:0,year:I.getFullYear(),month:I.getMonth()+1,day:I.getDate()},scrollTimeout:-1,prevScroll:-2e3,scrollThreshold:4e3,gettingPhotos:!1,scrubbing:!1,scrubTimeout:-1,lastScrubTimestamp:-1,overScrub:!1,scrubData:{y:0,year:I.getFullYear(),month:I.getMonth()+1},maxPhotos:800,initialLoading:!0}},beforeDestroy:function(){document.removeEventListener("mousemove",this.scrubMove),document.removeEventListener("mouseup",this.scrubEnd)},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.addEventListener("mousemove",t.scrubMove,!1),document.addEventListener("mouseup",t.scrubEnd,!1),t.canvas=t.$refs.scrubber,t.context=t.canvas.getContext("2d"),t.homeElement=t.$refs.home,t.photoGrid=t.$refs.photoGrid,e.next=8,t.$store.dispatch("apiRequest",{url:"photos/months"});case 8:return n=e.sent,t.photosPerMonth=n.map((function(t){var e=t.year,n=void 0===e?0:e,o=t.month,r=void 0===o?0:o,a=t.count,i=void 0===a?0:a;return{year:n,month:r,count:i,loaded:!1}})),"Home"===t.$route.name&&t.updateFromDateQuery(),e.next=13,t.getPhotos({monthOffset:0});case 13:o=e.sent,0===t.photos.length&&(t.photos=o,t.photoGrid.$once("photoRowsUpdate",(function(){return t.$nextTick((function(){t.scrollData=t.getScrollData()}))}))),t.initialLoading=!1,t.render();case 17:case"end":return e.stop()}}),e)})))()},methods:{render:function(){requestAnimationFrame(this.render),this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var t=!this.scrubbing&&!this.overScrub;this.drawYears(t),(this.overScrub||this.scrubbing)&&this.drawScrollThumb(this.scrubData.y,this.scrubData.year,this.scrubData.month),this.scrolling&&!this.scrubbing?this.drawScrollThumb(this.scrollData.y,this.scrollData.year,this.scrollData.month,!0):this.scrubbing||this.drawScrollThumb(this.scrollData.y,this.scrollData.year,this.scrollData.month,!0,!1)},drawLoadedRegion:function(){for(var t=0,e=0,n=0;n<this.scrollMonthStart;n++){var o=this.photosPerMonth[n];t+=o.count/this.totalPhotos}for(var r=this.scrollMonthStart;r<this.scrollMonthStart+this.scrollMonthLength;r++){var a=this.photosPerMonth[r];e+=a.count/this.totalPhotos}this.context.fillStyle="rgba(50,255,100,0.3)";var i=50;this.context.fillRect(this.canvas.width-i,t*this.canvas.height,i,e*this.canvas.height)},drawScrollThumb:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=15,i=a+10+3;t<i&&r&&(t=i);var s=this.$vuetify.theme.dark;this.context.fillStyle=this.$vuetify.theme.themes[s?"dark":"light"].primary;var c=o?35:50;if(this.context.fillRect(this.canvas.width-c,t,c,o?2:3),this.context.fillStyle="rgba(255,255,255,0.8)",r){var u="".concat(V[n-1]," ").concat(e),l=this.context.measureText(u),h=l.width;this.context.fillRect(this.canvas.width-h-10,t-a-10,h+10,a+10),this.context.fillStyle="black",this.context.fillText(u,this.canvas.width-h-5,t-a+5)}},drawYears:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.context.fillStyle=t?"rgba(0,0,0,0.5)":"black";var e=0,n=-1,o=12;this.context.font="".concat(o,"px Roboto");var r,a=Object(i["a"])(this.photosPerMonth);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(s.year!==n){n=s.year;var c=n.toString(),u=this.context.measureText(c),l=u.width;this.context.fillText(c,this.canvas.width-l-5,e+o)}e+=Math.round(s.count/this.totalPhotos*(this.canvas.height-o))}}catch(h){a.e(h)}finally{a.f()}},scrubStart:function(t){this.scrubbing=!0,this.scrubByEvent(t)},scrubMove:function(t){var e=0,n=0,o=0,r=0;if(this.overScrub||this.scrubbing){var a=this.dateFromScrubEvent(t),i=Object(C["a"])(a,4);e=i[0],n=i[1],o=i[2],r=i[3]}if(this.scrubbing&&this.scrub(e,n,o,r),this.overScrub||this.scrubbing){var s=t.pageY-this.$vuetify.application.top;this.scrubData={y:s,year:r,month:o}}},scrubEnd:function(t){if(this.scrubbing){this.scrubbing=!1,clearTimeout(this.scrubTimeout);var e=this.dateFromScrubEvent(t),n=Object(C["a"])(e,4),o=n[0],r=n[1],a=n[2],i=n[3];this.scrub(o,r,a,i)}},dateFromScrubEvent:function(t){var e=(t.pageY-this.$vuetify.application.top)/(this.$vuetify.breakpoint.height-this.$vuetify.application.top);e=Math.max(0,Math.min(1,1.01*e));var n=this.totalPhotos,o=n*e,r=0,a=0,i=0,s=0,c=0;for(a=0;a<this.photosPerMonth.length;a++){var u=this.photosPerMonth[a];if(r+u.count>=o){s=u.month,c=u.year;var l=new Date(c,s+1,0).getDate(),h=1-(o-r)/u.count;i=Math.floor(l*h);break}r+=u.count}return[a,i,s,c]},scrubByEvent:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var o,r,a,i,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=e.dateFromScrubEvent(t),r=Object(C["a"])(o,4),a=r[0],i=r[1],s=r[2],c=r[3],n.next=3,e.scrub(a,i,s,c);case 3:case"end":return n.stop()}}),n)})))()},scrub:function(t,e,n,o){var r=arguments,a=this;return Object(c["a"])(regeneratorRuntime.mark((function i(){var s,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=r.length>4&&void 0!==r[4]?r[4]:300,!(t>=a.scrollMonthStart&&t<a.scrollMonthStart+a.scrollMonthLength)){i.next=5;break}return console.log("scroll to :",[e,n,o]),a.photoGrid.scrollIntoView(e,n,o),i.abrupt("return");case 5:if(c=performance.now(),a.lastScrubTimestamp=c,0!==s){i.next=12;break}return i.next=10,a.loadScrubData(t,e,n,o);case 10:i.next=13;break;case 12:a.scrubTimeout=setTimeout((function(){c===a.lastScrubTimestamp&&a.loadScrubData(t,e,n,o)}),s);case 13:case"end":return i.stop()}}),i)})))()},loadScrubData:function(t,e,n,o){var r=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log("scrub to :",[e,n,o]),t=Math.max(0,t-1),a.next=4,r.getPhotos({monthOffset:t,minimumMonths:2});case 4:i=a.sent,r.scrollMonthStart=t,console.log("start",r.scrollMonthStart,"length",r.scrollMonthLength),r.photos=i,r.scrollLoadPromise=new Promise((function(t){return setTimeout(t,200)})),r.photoGrid.$once("photoRowsUpdate",(function(){return r.$nextTick((function(){r.photoGrid.scrollIntoView(e,n,o),r.homeScroll()}))}));case 10:case"end":return a.stop()}}),a)})))()},getScrollData:function(){var t=I.getFullYear(),e=I.getMonth()+1,n=I.getDate(),o=this.homeElement.scrollTop+100,r=this.photoGrid.photoRows;if(0===r.length)return{y:0,year:t,month:e,day:n};var a,s=null,c=4,u=Object(i["a"])(r);try{for(u.s();!(a=u.n()).done;){var l,h=a.value,d=h[0].height+c,p=Object(i["a"])(h);try{for(p.s();!(l=p.n()).done;){var f=l.value;if(!f.hideDate){d+=22;break}}}catch(M){p.e(M)}finally{p.f()}if(o-=d,o<=0){s=h;break}}}catch(M){u.e(M)}finally{u.f()}null===s&&(s=r[r.length-1]);var m=new Date(s[0].date);e=m.getMonth()+1,t=m.getFullYear(),n=m.getDate();for(var v=0,g=0;g<this.scrollMonthStart;g++){var b=this.photosPerMonth[g];v+=b.count/this.totalPhotos}o=this.homeElement.scrollTop;var y=this.flatPhotos.length/this.totalPhotos,w=(o+this.homeElement.clientHeight)/this.homeElement.scrollHeight,S=(v+y*w)*this.canvas.height;return{y:S,year:t,month:e,day:n}},homeScroll:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.scrolling=!0,clearTimeout(t.scrollTimeout),t.scrollTimeout=setTimeout((function(){return t.scrolling=!1}),1e3),t.scrollData=t.getScrollData(),n=t.homeElement.scrollTop,!(Math.abs(t.prevScroll-n)<180)){e.next=7;break}return e.abrupt("return");case 7:if(t.prevScroll=n,o=t.homeElement.scrollHeight-n-t.homeElement.clientHeight,!(n<3e3||o<3e3)){e.next=14;break}return e.next=12,Promise.race([t.scrollLoadPromise,t.waitSleep(1)]);case 12:r=e.sent,r||(t.scrollLoadPromise=t.loadScrollData(o,n));case 14:case"end":return e.stop()}}),e)})))()},unloadMonths:function(){var t=this;if(this.flatPhotos.length>this.maxPhotos){var e=this.flatPhotos.length-Math.round(this.maxPhotos/2),n=(this.homeElement.scrollTop+this.homeElement.clientHeight/2)/this.homeElement.scrollHeight,o=this.homeElement.scrollTop,r=this.homeElement.scrollHeight-o-this.homeElement.clientHeight;if(console.log("too many photos! scrollPercent: ".concat(n.toFixed(2),", scrollTop: ").concat(o,", scrollBottom: ").concat(r)),n<.5&&r>this.scrollThreshold){for(var a=0,i=this.scrollMonthStart+this.scrollMonthLength-1;i>=this.scrollMonthStart;i--){if(e-=this.photosPerMonth[i].count,e<=0)break;a++}console.log({removeNMonths:a}),this.photos.splice(this.photos.length-a,a)}else if(n>=.5&&o>this.scrollThreshold){for(var s=0,c=this.scrollMonthStart;c<this.scrollMonthStart+this.photos.length;c++){if(e-=this.photosPerMonth[c].count,e<=0)break;s++}console.log({removeNMonths:s}),this.scrollMonthStart+=s,this.updatePhotosKeepScroll((function(){return t.photos.splice(0,s)}))}}},loadScrollData:function(t,e){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function o(){var r,a,i,c,u;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!(e<n.scrollThreshold)||n.gettingPhotos){o.next=11;break}if(r=0===n.scrollMonthStart,!r){o.next=4;break}return o.abrupt("return");case 4:return o.next=6,n.getPhotos({monthOffset:n.scrollMonthStart-1,up:!0});case 6:return a=o.sent,n.scrollMonthStart-=a.length,o.next=10,n.updatePhotosKeepScroll((function(){var t;return(t=n.photos).unshift.apply(t,Object(s["a"])(a))}));case 10:n.unloadMonths();case 11:if(!(t<n.scrollThreshold)||n.gettingPhotos){o.next=22;break}if(c=n.scrollMonthStart+n.scrollMonthLength===n.photosPerMonth.length,!c){o.next=15;break}return o.abrupt("return");case 15:return o.next=17,n.getPhotos({monthOffset:n.scrollMonthStart+n.scrollMonthLength});case 17:return u=o.sent,(i=n.photos).push.apply(i,Object(s["a"])(u)),o.next=21,n.waitForLayoutUpdate();case 21:n.unloadMonths();case 22:case"end":return o.stop()}}),o)})))()},updatePhotosKeepScroll:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var o,r,a,i,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=null!==(o=e.homeElement.scrollHeight)&&void 0!==o?o:0,a=e.homeElement.scrollTop+e.homeElement.clientHeight,t(),n.next=5,e.waitForLayoutUpdate();case 5:i=0,s=e.homeElement.scrollHeight,a>s&&(i=a-e.homeElement.scrollTop),c=s-r,e.homeElement.scrollBy({top:c+i,left:0});case 10:case"end":return n.stop()}}),n)})))()},waitForLayoutUpdate:function(){var t=this;return new Promise((function(e){t.photoGrid.$once("photoRowsUpdate",(function(){return t.$nextTick((function(){e()}))}))}))},getPhotos:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var o,r,a,i,s,c,u,l,h,d,p,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=t.requestMinimum,r=void 0===o?50:o,a=t.monthOffset,i=void 0===a?0:a,s=t.minimumMonths,c=void 0===s?0:s,u=t.up,l=void 0!==u&&u,e.gettingPhotos=!0,h=[],d=i;case 4:if(!(l?d>=0:d<e.photosPerMonth.length)){n.next=13;break}if(p=e.photosPerMonth[d],h.push(p),r-=p.count,!(r<0&&h.length>=c)){n.next=10;break}return n.abrupt("break",13);case 10:d+=l?-1:1,n.next=4;break;case 13:return console.log("Requesting months",h.map((function(t){return[t.year,t.month].join(", ")}))),n.next=16,e.$store.dispatch("apiRequest",{url:"photos/month-photos",body:{months:h.map((function(t){return[t.year,t.month]}))}});case 16:return f=n.sent,l&&(f=f.reverse()),e.gettingPhotos=!1,n.abrupt("return",f.map((function(t){return t.map(E["a"].fromObject)})));case 20:case"end":return n.stop()}}),n)})))()},scrubIntoView:function(t){if(null!==t){var e=null===t||void 0===t?void 0:t.createDate;e&&this.scrubToDate(e)}},scrubToDate:function(t){for(var e=t.getDate(),n=t.getMonth()+1,o=t.getFullYear(),r=12*o+(n-1),a=1/0,i=-1,s=0;s<this.photosPerMonth.length;s++){var c=this.photosPerMonth[s];if(c.month===n&&c.year===o){i=s;break}var u=12*c.year+(c.month-1),l=Math.abs(u-r);if(!(l<a))break;a=l,i=s}if(-1===i)return console.warn("cant keep in view, date",t,"not in photosPerMonth",this.photosPerMonth);this.scrub(i,e,n,o,0)},updateFromDateQuery:function(){if(void 0!==this.$route.query.date&&null!==this.$route.query.date){console.log("date string",this.$route.query.date);var t=new Date(this.$route.query.date);isNaN(t.getDate())||(this.scrubToDate(t),console.log("home date changed",t))}},waitSleep:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(e){return setTimeout(e,t)}))}},computed:{topLoaded:function(){return 0===this.scrollMonthStart},bottomLoaded:function(){return this.scrollMonthStart+this.scrollMonthLength===this.photosPerMonth.length},scrollMonthLength:function(){return this.photos.length},flatPhotos:function(){return this.photos.flat()},canvasHeight:function(){return this.$vuetify.breakpoint.height-this.$vuetify.application.top-this.$vuetify.application.bottom},totalPhotos:function(){var t,e=0,n=Object(i["a"])(this.photosPerMonth);try{for(n.s();!(t=n.n()).done;){var o=t.value;e+=o.count}}catch(r){n.e(r)}finally{n.f()}return e}},watch:{"$route.query.date":function(){this.updateFromDateQuery()},"$store.state.keepInView":function(){this.scrubIntoView(this.$store.state.keepInView)},"$store.state.scrollToTop":function(){if(this.$store.state.scrollToTop&&0!==this.photosPerMonth.length){var t=this.photosPerMonth[0],e=t.month,n=t.year;this.scrub(0,1,e,n),this.$store.commit("scrollToTop",!1)}},flatPhotos:function(){this.$store.commit("viewerQueue",this.flatPhotos)}}}),A=N,H=(n("7384"),n("490a")),W=n("8e36"),Y=Object(d["a"])(A,q,L,!1,null,"249d3e38",null),J=Y.exports;f()(Y,{VIcon:w["a"],VProgressCircular:H["a"],VProgressLinear:W["a"]}),o["a"].use($["a"]);var G=[{path:"/",name:"Home",component:J,children:[{path:"/photo/:id",name:"HomePhoto",component:function(){return n.e("chunk-388b0f26").then(n.bind(null,"6ec5"))}}]},{path:"/search/:query",name:"Search",component:function(){return n.e("chunk-e4ede7fe").then(n.bind(null,"2d3b"))},children:[{path:"/search/:query/photo/:id",name:"SearchPhoto",component:function(){return n.e("chunk-388b0f26").then(n.bind(null,"6ec5"))}}]},{path:"/date/:month",name:"Date",component:function(){return n.e("chunk-e4ede7fe").then(n.bind(null,"2d3b"))},children:[{path:"/date/:month/photo/:id",name:"DateMonthPhoto",component:function(){return n.e("chunk-388b0f26").then(n.bind(null,"6ec5"))}}]},{path:"/date/:day/:month",name:"Date",component:function(){return n.e("chunk-e4ede7fe").then(n.bind(null,"2d3b"))},children:[{path:"/date/:day/:month/photo/:id",name:"DateDayPhoto",component:function(){return n.e("chunk-388b0f26").then(n.bind(null,"6ec5"))}}]},{path:"/login",name:"Login",component:function(){return n.e("chunk-704590ec").then(n.bind(null,"a55b"))}}],B=new $["a"]({routes:G}),U=B,z=n("5530"),Q=n("2f62"),K=n("bfa9"),X=new K["a"]({reducer:function(t){return{email:t.email,password:t.password,verifiedLogin:t.verifiedLogin}},storage:window.localStorage});o["a"].use(Q["a"]);var Z=new Q["a"].Store({state:{api:F["a"],scrollToTop:!1,searchResults:[],email:"",password:"",viewerQueue:[],keepInView:null},getters:{isLoggedIn:function(t){return""!==t.email&&""!==t.password}},mutations:{scrollToTop:function(t,e){return t.scrollToTop=e},keepInView:function(t,e){return t.keepInView=e},viewerQueue:function(t,e){return t.viewerQueue=e},searchResults:function(t,e){return t.searchResults=e},login:function(t,e){var n=e.email,o=e.password;t.email=n,t.password=o}},actions:{apiRequest:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e,n){var o,r,a,i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=e.state,r=e.getters,a=n.url,i=n.body,s=void 0===i?{}:i,r.isLoggedIn){t.next=4;break}return t.abrupt("return",{loggedIn:!1,result:null});case 4:return t.next=6,fetch("".concat(o.api,"/").concat(a),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(z["a"])({auth:{email:o.email,password:o.password}},s))}).then((function(t){return t.text()}));case 6:return c=t.sent,t.prev=7,t.abrupt("return",JSON.parse(c));case 11:return t.prev=11,t.t0=t["catch"](7),console.warn("Can't parse",{url:a,txt:c}),t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,null,[[7,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),checkLogin:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function n(){var o,r,a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=t.state,r=t.commit,a=e.email,i=e.password,n.next=4,fetch("".concat(o.api,"/auth"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:{email:a,password:i}})}).then((function(t){return t.json()}));case 4:return s=n.sent,r("login",{email:a,password:i}),n.abrupt("return",s);case 7:case"end":return n.stop()}}),n)})))()},dateSearch:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function n(){var o,r,a,i,s,c,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=t.dispatch,r=t.commit,t.state,a=e.day,i=void 0===a?null:a,s=e.month,c=void 0===s?null:s,n.next=4,o("apiRequest",{url:"photos/dateSearch?m=".concat(c,"&d=").concat(i)});case 4:u=n.sent,l=u.map(E["a"].fromObject),r("searchResults",l);case 7:case"end":return n.stop()}}),n)})))()},search:function(t,e){return Object(c["a"])(regeneratorRuntime.mark((function n(){var o,r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=t.dispatch,r=t.commit,t.state,n.next=3,o("apiRequest",{url:"photos/search?q=".concat(e)});case 3:a=n.sent,i=a.map(E["a"].fromObject),r("searchResults",i);case 6:case"end":return n.stop()}}),n)})))()}},modules:{},plugins:[X.plugin]}),tt=n("f309");o["a"].use(tt["a"]);var et=new tt["a"]({theme:{themes:{dark:{primary:"#5996d1"},light:{primary:"#318bd5"}}}});o["a"].config.productionTip=!1,new o["a"]({router:U,store:Z,vuetify:et,render:function(t){return t(j)}}).$mount("#app")},e4aa:function(t,e,n){}});
//# sourceMappingURL=app.e24e1c15.js.map