(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],l=0,h=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},a={app:0},i=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-704590ec":"8276b1d6","chunk-a519ce8c":"a2ce60b3"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-704590ec":1,"chunk-a519ce8c":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-704590ec":"2efca91c","chunk-a519ce8c":"0e539c7e"}[e]+".css",a=c.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===a))return t()}var h=document.getElementsByTagName("style");for(s=0;s<h.length;s++){u=h[s],l=u.getAttribute("data-href");if(l===r||l===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete o[e],p.parentNode.removeChild(p),n(i)},p.href=a;var d=document.getElementsByTagName("head")[0];d.appendChild(p)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var h=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;h.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",h.name="ChunkLoadError",h.type=r,h.request=o,n[1](h)}a[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/photos/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var h=0;h<u.length;h++)t(u[h]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"034f":function(e,t,n){"use strict";n("85ec")},"1a43":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="https://api.ruurd.dev"},"1c8c":function(e,t,n){},"28ca":function(e,t,n){"use strict";n("1c8c")},5024:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"frame",staticClass:"photo-grid"},e._l(e.photoRows,(function(t){return n("div",{staticClass:"block-row"},e._l(t,(function(t){return n("div",{staticClass:"photo-block"},[n("div",{staticClass:"block-day",class:{"hide-date":t.hideDate},style:{maxWidth:t.width+"px"},attrs:{title:t.day}},[e._v(" "+e._s(t.day)+" ")]),n("div",{staticClass:"photos"},e._l(t.photos,(function(t){return n("div",{staticClass:"photo",style:{height:t.visualHeight+"px",width:t.visualWidth+"px"}},["image"===t.type?n("div",{style:{backgroundImage:"url("+e.api+"/photo/small/"+t.id+".webp)"},attrs:{src:e.api+"/photo/small/"+t.id+".webp",alt:t.filename}}):n("video",{ref:"video"+t.id,refInFor:!0,attrs:{poster:e.api+"/photo/small/"+t.id+".webp",muted:"",loop:"",src:e.api+"/photo/webm/"+t.id+".webm"},domProps:{muted:!0},on:{mouseleave:function(n){return e.pauseVideo(t.id)},mouseenter:function(n){return e.playVideo(t.id)}}})])})),0)])})),0)})),0)},o=[],a=n("b85c"),i=n("1da1"),s=(n("d81d"),n("96cf"),n("2b0e")),c=n("1a43"),u=s["a"].extend({name:"PhotoGrid",props:{photos:{type:Array,required:!0}},data:function(){return{photoRows:[],frameWidth:window.innerWidth-256,api:c["a"],unshifting:!1}},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.updateFrameWidth(),t.next=3,e.calculateLayout();case 3:window.addEventListener("resize",e.onResize,!1);case 4:case"end":return t.stop()}}),t)})))()},methods:{calculateLayout:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,o,i,s,c,u,l,h,p,d,f,m,v,g,b,w,y,x,k,O,j,P,S,R,M,L,$,_,q,E,C,T,D,V,A,F,I,N,W,H,B,z,J,G,Y,U,K,Q,X,Z,ee;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.photos,0!==n.length){t.next=4;break}return e.photoRows=[],t.abrupt("return");case 4:e.updateFrameWidth(),r=(new Date).getFullYear(),o=(new Date).toDateString(),i=new Date((new Date).getTime()-864e5).toDateString(),s=function(e){var t=new Date(e),n=t.toDateString();return n===o?"Today":n===i?"Yesterday":t.getFullYear()===r?n.substr(0,n.length-5):n},c=s(n[0].createDate),u=[],l={day:c,photos:[]},h=Object(a["a"])(n);try{for(h.s();!(p=h.n()).done;)d=p.value,f=s(d.createDate),l.day!==f&&(u.push(l),l={day:f,photos:[]}),l.photos.push(d)}catch(te){h.e(te)}finally{h.f()}for(u.push(l),m=e.frameWidth,v=150+Math.min(window.innerWidth/30,64),g=[],b=[],w={photos:[],day:c,width:0,hideDate:!1},y=0,x=0,k=0,O=u;k<O.length;k++){j=O[k],P=j.day,S=Object(a["a"])(j.photos);try{for(S.s();!(R=S.n()).done;)M=R.value,M.ratio=M.width/M.height,L=v*M.ratio,$=y+L,_=m-y,q=j.photos.length,E=P!==w.day,C=$>m||E&&_-L<100||E&&q>3||E&&x>3,(C||E)&&(w.photos.length>0&&b.push(w),w={photos:[],day:P,width:0,hideDate:C&&!E},C&&(b.length>0&&g.push(b),b=[],y=0)),y+=L,w.photos.push(M)}catch(te){S.e(te)}finally{S.f()}x=j.photos.length}for(b.push(w),g.push(b),T=5,D=40,V=0,A=g;V<A.length;V++){F=A[V],I=[],N=Object(a["a"])(F);try{for(N.s();!(W=N.n()).done;)H=W.value,H.width=H.photos.map((function(e){return e.ratio*v})).reduce((function(e,t){return e+t})),I.push(H.width)}catch(te){N.e(te)}finally{N.f()}B=I.reduce((function(e,t){return e+t})),z=F.map((function(e){return(e.photos.length-1)*T})),J=(F.length-1)*D,G=z.reduce((function(e,t){return e+t}))+J,Y=(m-G)/B,Y>2&&(Y=1),U=Object(a["a"])(F);try{for(U.s();!(K=U.n()).done;){Q=K.value,X=Object(a["a"])(Q.photos);try{for(X.s();!(Z=X.n()).done;)ee=Z.value,ee.visualHeight=v*Y,ee.visualWidth=v*ee.ratio*Y}catch(te){X.e(te)}finally{X.f()}}}catch(te){U.e(te)}finally{U.f()}}e.photoRows=g;case 29:case"end":return t.stop()}}),t)})))()},onResize:function(){requestAnimationFrame(this.calculateLayout)},updateFrameWidth:function(){this.frameWidth=this.$refs.frame.clientWidth},playVideo:function(e){var t,n,r=null===(t=this.$refs["video"+e])||void 0===t?void 0:t[0];null===r||void 0===r||null===(n=r.play)||void 0===n||n.call(r)},pauseVideo:function(e){var t,n,r=null===(t=this.$refs["video"+e])||void 0===t?void 0:t[0];null===r||void 0===r||null===(n=r.pause)||void 0===n||n.call(r)},prepareUnshift:function(){this.unshifting=!0}},computed:{},watch:{photos:function(){if(this.unshifting){var e;this.unshifting=!1;var t=document.querySelector(".home"),n=null!==(e=null===t||void 0===t?void 0:t.scrollHeight)&&void 0!==e?e:0;this.calculateLayout(),this.$nextTick((function(){var e,r=(null!==(e=null===t||void 0===t?void 0:t.scrollHeight)&&void 0!==e?e:0)-n;console.log(r,n,null===t||void 0===t?void 0:t.scrollHeight),null===t||void 0===t||t.scrollBy({top:r,left:0})}))}else requestAnimationFrame(this.calculateLayout)}}}),l=u,h=(n("9df4"),n("2877")),p=Object(h["a"])(l,r,o,!1,null,"51628213",null);t["a"]=p.exports},"59aa":function(e,t,n){},"73b2":function(e,t,n){e.exports=n.p+"img/transparent-icon-512.e6e999bf.png"},"85ec":function(e,t,n){},"9df4":function(e,t,n){"use strict";n("59aa")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{staticClass:"app"},[r("v-app-bar",{attrs:{elevation:"0",app:"","clipped-left":""}},[r("img",{staticClass:"logo-icon",attrs:{src:n("73b2"),alt:"icon"}}),r("v-app-bar-title",{staticClass:"logo-text"},[e._v("Photos")]),r("v-spacer"),r("v-text-field",{attrs:{dense:"",solo:"","hide-details":"",label:"Search...","append-icon":"mdi-magnify"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.startSearch(t)}},model:{value:e.$route.query.q,callback:function(t){e.$set(e.$route.query,"q",t)},expression:"$route.query.q"}}),r("v-spacer"),r("v-btn",{attrs:{icon:""}},[r("v-icon",[e._v("mdi-cog")])],1)],1),r("v-navigation-drawer",{attrs:{"expand-on-hover":!0,permanent:"",app:"",floating:"",clipped:"","hide-overlay":""}},[r("v-list",{attrs:{dense:"",nav:""}},[r("v-list-item",{attrs:{to:"/",exact:""}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-home-outline")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Photos")])],1)],1),r("v-list-item",{attrs:{to:"/explore",exact:""}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-earth")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Explore")])],1)],1),r("v-list-item",{attrs:{to:"/map",exact:""}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-map-marker-circle")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Photo map")])],1)],1)],1)],1),r("v-main",[r("router-view")],1)],1)},a=[],i=n("1da1"),s=(n("96cf"),n("b0c0"),r["a"].extend({name:"App",data:function(){return{}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$store.getters.isLoggedIn||"Login"===e.$route.name){t.next=3;break}return t.next=3,e.$router.push("/login");case 3:console.log(e.$store);case 4:case"end":return t.stop()}}),t)})))()},methods:{startSearch:function(){console.log(this.$route.query.q),"Search"===this.$route.name?this.$store.dispatch("search",this.$route.query.q):this.$router.push({query:{q:this.$route.query.q},path:"/search"})}}})),c=s,u=(n("034f"),n("2877")),l=n("6544"),h=n.n(l),p=n("7496"),d=n("40dc"),f=n("bb78"),m=n("8336"),v=n("132d"),g=n("8860"),b=n("da13"),w=n("5d23"),y=n("34c3"),x=n("f6c4"),k=n("f774"),O=n("2fa4"),j=n("8654"),P=Object(u["a"])(c,o,a,!1,null,null,null),S=P.exports;h()(P,{VApp:p["a"],VAppBar:d["a"],VAppBarTitle:f["a"],VBtn:m["a"],VIcon:v["a"],VList:g["a"],VListItem:b["a"],VListItemContent:w["a"],VListItemIcon:y["a"],VListItemTitle:w["b"],VMain:x["a"],VNavigationDrawer:k["a"],VSpacer:O["a"],VTextField:j["a"]});var R=n("9483");Object(R["a"])("".concat("/photos/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d3b7"),n("3ca3"),n("ddb0");var M=n("8c4f"),L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"home",staticClass:"home",on:{scroll:e.homeScroll}},[n("photo-grid",{ref:"photoGrid",staticClass:"grid",attrs:{photos:e.photos}}),n("div",{staticClass:"scrubber",on:{click:e.scrub,mousemove:e.showScrub}})],1)},$=[],_=n("2909"),q=n("3835"),E=(n("d81d"),n("159b"),n("0481"),n("5024")),C=n("1a43"),T=r["a"].extend({name:"Home",components:{PhotoGrid:E["a"]},data:function(){return{photosPerMonth:[],photos:[],api:C["a"],homeElement:{},scrollMonthStart:0,scrollMonthLength:0,gettingPhotos:!1,scrollBuffer:0,scrolling:!1,scrollTimeout:!1}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("apiRequest",{url:"photos/months"});case 2:return e.photosPerMonth=t.sent,t.next=5,e.getPhotos({monthOffset:0});case 5:n=t.sent,r=Object(q["a"])(n,2),o=r[0],a=r[1],e.photos=o,e.scrollMonthLength=a,e.homeElement=e.$refs.home,console.log(e.photosPerMonth);case 13:case"end":return t.stop()}}),t)})))()},methods:{dateFromScrubEvent:function(e){var t=(e.pageY-this.$vuetify.application.top)/(this.$vuetify.breakpoint.height-this.$vuetify.application.top);t=Math.max(0,Math.min(1,1.01*t));var n=this.photosPerMonth.map((function(e){return e.count})).reduce((function(e,t){return e+t})),r=n*t,o=0,a=0,i=0,s=0,c=0;for(a=0;a<this.photosPerMonth.length;a++){var u=this.photosPerMonth[a];if(o+u.count>=r){s=u.month,c=u.year;var l=new Date(c,s+1,0).getDate(),h=1-(r-o)/u.count;i=Math.floor(l*h);break}o+=u.count}return[a,i,s,c]},showScrub:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,o,a,i,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.dateFromScrubEvent(e),o=Object(q["a"])(r,4),a=o[0],i=o[1],s=o[2],c=o[3],console.log(i,s,c,t.photosPerMonth[a]);case 2:case"end":return n.stop()}}),n)})))()},scrub:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,o,a,i,s,c,u,l,h,p,d,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.dateFromScrubEvent(e),o=Object(q["a"])(r,4),a=o[0],i=o[1],s=o[2],c=o[3],console.log("scroll to :",[i,s,c]),n.next=4,t.getPhotos({monthOffset:a});case 4:for(u=n.sent,l=Object(q["a"])(u,2),h=l[0],p=l[1],t.scrollMonthStart=a,t.scrollMonthLength=p,t.photosPerMonth.forEach((function(e){return e.loaded=!1})),d=0;d<t.photosPerMonth.length;d++)f=t.photosPerMonth[d],f.loaded=d>a&&d<=a+p;t.photos=h;case 13:case"end":return n.stop()}}),n)})))()},homeScroll:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,i,s,c,u,l,h,p,d,f,m,v,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.scrollTimeout){t.next=2;break}return t.abrupt("return");case 2:if(e.scrollTimeout=!0,setTimeout((function(){return e.scrollTimeout=!1}),500),n=e.homeElement.scrollTop,r=e.homeElement.scrollHeight-n-e.homeElement.clientHeight,!(n<2e3)||e.gettingPhotos){t.next=20;break}if(i=null!==(o=e.photosPerMonth[0].loaded)&&void 0!==o&&o,!i){t.next=11;break}return console.log("Reached top"),t.abrupt("return");case 11:return t.next=13,e.getPhotos({monthOffset:e.scrollMonthStart,up:!0});case 13:s=t.sent,c=Object(q["a"])(s,2),u=c[0],l=c[1],e.scrollMonthStart-=l,e.$refs.photoGrid.prepareUnshift(),(a=e.photos).unshift.apply(a,Object(_["a"])(u));case 20:if(!(r<2e3)||e.gettingPhotos){t.next=32;break}if(d=null!==(h=e.photosPerMonth[e.photosPerMonth.length-1].loaded)&&void 0!==h&&h,!d){t.next=24;break}return t.abrupt("return");case 24:return t.next=26,e.getPhotos({monthOffset:e.scrollMonthStart+e.scrollMonthLength});case 26:f=t.sent,m=Object(q["a"])(f,2),v=m[0],g=m[1],e.scrollMonthLength+=g,(p=e.photos).push.apply(p,Object(_["a"])(v));case 32:case"end":return t.stop()}}),t)})))()},getPhotos:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,o,a,i,s,c,u,l,h,p;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.requestMinimum,o=void 0===r?80:r,a=e.monthOffset,i=void 0===a?0:a,s=e.up,c=void 0!==s&&s,t.gettingPhotos=!0,u=[],l=i;case 4:if(!(c?l>=0:l<t.photosPerMonth.length)){n.next=14;break}if(h=t.photosPerMonth[l],h.loaded=!0,u.push(h),o-=h.count,!(o<0)){n.next=11;break}return n.abrupt("break",14);case 11:l+=c?-1:1,n.next=4;break;case 14:return n.next=16,t.$store.dispatch("apiRequest",{url:"photos/month-photos",body:{months:u.map((function(e){return[e.year,e.month]}))}});case 16:return p=n.sent,t.gettingPhotos=!1,n.abrupt("return",[p.flat(),u.length]);case 19:case"end":return n.stop()}}),n)})))()}},computed:{}}),D=T,V=(n("28ca"),Object(u["a"])(D,L,$,!1,null,"0292869c",null)),A=V.exports;r["a"].use(M["a"]);var F=[{path:"/",name:"Home",component:A},{path:"/search",name:"Search",component:function(){return n.e("chunk-a519ce8c").then(n.bind(null,"2d3b"))}},{path:"/login",name:"Login",component:function(){return n.e("chunk-704590ec").then(n.bind(null,"a55b"))}}],I=new M["a"]({routes:F}),N=I,W=n("5530"),H=(n("99af"),n("2f62")),B=n("bfa9"),z=new B["a"]({reducer:function(e){return{email:e.email,password:e.password,verifiedLogin:e.verifiedLogin}},storage:window.localStorage});r["a"].use(H["a"]);var J=new H["a"].Store({state:{api:C["a"],searchResults:[],email:"",password:""},getters:{isLoggedIn:function(e){return""!==e.email&&""!==e.password}},mutations:{searchResults:function(e,t){return e.searchResults=t},login:function(e,t){var n=t.email,r=t.password;e.email=n,e.password=r}},actions:{apiRequest:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.state,o=t.getters,a=n.url,i=n.body,s=void 0===i?{}:i,o.isLoggedIn){e.next=4;break}return e.abrupt("return",{loggedIn:!1,result:null});case 4:return e.next=6,fetch("".concat(r.api,"/").concat(a),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(W["a"])({auth:{email:r.email,password:r.password}},s))}).then((function(e){return e.text()}));case 6:return c=e.sent,e.prev=7,e.abrupt("return",JSON.parse(c));case 11:return e.prev=11,e.t0=e["catch"](7),console.warn("Can't parse",{url:a,txt:c}),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[7,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),checkLogin:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,o,a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,o=e.commit,a=t.email,i=t.password,n.next=4,fetch("".concat(r.api,"/auth"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:{email:a,password:i}})}).then((function(e){return e.json()}));case 4:return s=n.sent,o("login",{email:a,password:i}),n.abrupt("return",s);case 7:case"end":return n.stop()}}),n)})))()},search:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,o=e.commit,e.state,n.next=3,r("apiRequest",{url:"photos/search?q=".concat(t)});case 3:a=n.sent,o("searchResults",a);case 5:case"end":return n.stop()}}),n)})))()}},modules:{},plugins:[z.plugin]}),G=n("f309");r["a"].use(G["a"]);var Y=new G["a"]({theme:{themes:{dark:{primary:"#5996d1"},light:{primary:"#318bd5"}}}});r["a"].config.productionTip=!1,new r["a"]({router:N,store:J,vuetify:Y,render:function(e){return e(S)}}).$mount("#app")}});
//# sourceMappingURL=app.a35294b7.js.map