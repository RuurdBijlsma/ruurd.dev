{"version":3,"sources":["webpack:///./src/views/Map.vue?73d5","webpack:///./src/views/Map.vue","webpack:///./src/views/Map.vue?9165","webpack:///./src/views/Map.vue?b4f5","webpack:///./src/views/Map.vue?c2ca","webpack:///./src/components/PhotoMap.vue?b2a4","webpack:///./node_modules/vue2-leaflet/dist/components/LRectangle.js","webpack:///./src/components/PhotoMap.vue","webpack:///./src/components/PhotoMap.vue?2538","webpack:///./src/components/PhotoMap.vue?e5ca"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","height","mapHeight","width","mapWidth","attrs","staticRenderFns","extend","name","components","PhotoMap","data","mounted","methods","computed","$vuetify","breakpoint","application","top","bottom","left","right","watch","component","leaflet","center","zoom","ref","options","on","mapPanned","addMarkers","tileOptions","url","attribution","startBounds","_e","capitalizeFirstLetter","string","charAt","toUpperCase","slice","propsBinder","vueElement","leafletElement","props","loop","key","setMethodName","deepValue","type","Object","Array","isArray","custom","$watch","newVal","oldVal","deep","collectionCleaner","result","value","undefined","optionsMerger","instance","constructor","defaultProps","$options","def","default","call","Symbol","isEqual","JSON","stringify","console","warn","findRealParent","firstVueParent","found","mapObject","$parent","Layer","pane","String","layerType","visible","Boolean","layerOptions","beforeDestroy","unbindPopup","unbindTooltip","parentContainer","removeLayer","setAttribution","val","old","attributionControl","removeAttribution","addAttribution","setName","addLayer","setLayerType","setVisible","isVisible","hideLayer","tooltip","getTooltip","popup","getPopup","updateVisibleProp","$emit","InteractiveLayer","interactive","bubblingMouseEvents","interactiveLayerOptions","Path","mixins","lStyle","stroke","color","weight","Number","opacity","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","className","pathOptions","assign","error","setLStyle","setStyle","setStroke","setColor","setWeight","setOpacity","setLineCap","setLineJoin","setDashArray","setDashOffset","setFill","setFillColor","setFillOpacity","setFillRule","setClassName","Polyline","smoothFactor","noClip","ready","polyLineOptions","setSmoothFactor","setNoClip","addLatLng","Polygon","polygonOptions","getGeoJSONData","toGeoJSON","Options","script","bounds","validator","isValid","this$1","$listeners","$nextTick","normalizeComponent","template","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","shadowRoot","originalRender","h","existing","beforeCreate","concat","__vue_script__","__vue_render__","staticStyle","_t","__vue_staticRenderFns__","__vue_inject_styles__","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","__vue_component__","LMap","LTileLayer","LMarker","LRectangle","required","LatLngBounds","photosInBounds","mapRef","maxWidth","zoomSnap","id","accessToken","markers","panTimeout","theme","dark","$store","state","mapboxKey","dispatch","minCorner","latLng","minlat","minlng","maxCorner","maxlat","maxlng","latLngBounds","pad","getCenter","getBoundsZoomLevel","updateFromBounds","b","clearTimeout","setTimeout","body","minLat","getSouth","maxLat","getNorth","minLng","getWest","maxLng","getEast","$refs","map","isDark","themes","primary","secondary","forEach","m","remove","log","photo","marker","circleMarker","MediaLocation","latitude","longitude","radius","ratio","mediaHeight","addTo","e","content","latlng","lat","lng","setLatLng","setContent","location","pathname","openOn","push","mapDim","WORLD_DIM","ZOOM_MAX","latRad","sin","Math","PI","radX2","max","min","mapPx","worldPx","fraction","floor","LN2","ne","getNorthEast","sw","getSouthWest","latFraction","lngDiff","lngFraction","latZoom","lngZoom"],"mappings":"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","file":"js/chunk-1faa1251.d399b21b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map\"},[_c('photo-map',{style:({\n            height: _vm.mapHeight + 'px',\n            width: _vm.mapWidth + 'px',\n        }),attrs:{\"height\":_vm.mapHeight,\"width\":_vm.mapWidth}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue'\r\nimport PhotoMap from \"@/components/PhotoMap.vue\";\r\n\r\nexport default Vue.extend({\r\n    name: 'Map',\r\n    components: {PhotoMap},\r\n    data: () => ({}),\r\n    async mounted() {\r\n    },\r\n    methods: {},\r\n    computed: {\r\n        mapHeight(): number {\r\n            return this.$vuetify.breakpoint.height - this.$vuetify.application.top - this.$vuetify.application.bottom;\r\n        },\r\n        mapWidth(): number {\r\n            return this.$vuetify.breakpoint.width - this.$vuetify.application.left - this.$vuetify.application.right;\r\n        },\r\n    },\r\n    watch: {}\r\n})\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=19d20ecc&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=ts&\"\nexport * from \"./Map.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=19d20ecc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19d20ecc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=19d20ecc&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.leaflet.center && _vm.leaflet.zoom)?_c('l-map',{ref:\"map\",attrs:{\"zoom\":_vm.leaflet.zoom,\"center\":_vm.leaflet.center,\"options\":_vm.leaflet.options},on:{\"update:bounds\":_vm.mapPanned,\"ready\":_vm.addMarkers}},[_c('l-tile-layer',{attrs:{\"options\":_vm.leaflet.tileOptions,\"url\":_vm.leaflet.url,\"attribution\":_vm.leaflet.attribution}}),(_vm.startBounds !== null)?_c('l-rectangle',{attrs:{\"bounds\":_vm.startBounds,\"color\":\"red\",\"fill-color\":\"red\",\"weight\":_vm.leaflet.zoom / 6,\"fill-opacity\":0.01}}):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { setOptions, latLngBounds, rectangle, DomEvent } from 'leaflet';\n\nvar capitalizeFirstLetter = function (string) {\n  if (!string || typeof string.charAt !== 'function') {\n    return string;\n  }\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\n\nvar propsBinder = function (vueElement, leafletElement, props, options) {\n  var loop = function ( key ) {\n    var setMethodName = 'set' + capitalizeFirstLetter(key);\n    var deepValue =\n      props[key].type === Object ||\n      props[key].type === Array ||\n      Array.isArray(props[key].type);\n    if (props[key].custom && vueElement[setMethodName]) {\n      vueElement.$watch(\n        key,\n        function (newVal, oldVal) {\n          vueElement[setMethodName](newVal, oldVal);\n        },\n        {\n          deep: deepValue,\n        }\n      );\n    } else if (setMethodName === 'setOptions') {\n      vueElement.$watch(\n        key,\n        function (newVal, oldVal) {\n          setOptions(leafletElement, newVal);\n        },\n        {\n          deep: deepValue,\n        }\n      );\n    } else if (leafletElement[setMethodName]) {\n      vueElement.$watch(\n        key,\n        function (newVal, oldVal) {\n          leafletElement[setMethodName](newVal);\n        },\n        {\n          deep: deepValue,\n        }\n      );\n    }\n  };\n\n  for (var key in props) loop( key );\n};\n\nvar collectionCleaner = function (options) {\n  var result = {};\n  for (var key in options) {\n    var value = options[key];\n    if (value !== null && value !== undefined) {\n      result[key] = value;\n    }\n  }\n  return result;\n};\n\nvar optionsMerger = function (props, instance) {\n  var options =\n    instance.options && instance.options.constructor === Object\n      ? instance.options\n      : {};\n  props = props && props.constructor === Object ? props : {};\n  var result = collectionCleaner(options);\n  props = collectionCleaner(props);\n  var defaultProps = instance.$options.props;\n  for (var key in props) {\n    var def = defaultProps[key]\n      ? defaultProps[key].default &&\n        typeof defaultProps[key].default === 'function'\n        ? defaultProps[key].default.call()\n        : defaultProps[key].default\n      : Symbol('unique');\n    var isEqual = false;\n    if (Array.isArray(def)) {\n      isEqual = JSON.stringify(def) === JSON.stringify(props[key]);\n    } else {\n      isEqual = def === props[key];\n    }\n    if (result[key] && !isEqual) {\n      console.warn(\n        (key + \" props is overriding the value passed in the options props\")\n      );\n      result[key] = props[key];\n    } else if (!result[key]) {\n      result[key] = props[key];\n    }\n  }\n  return result;\n};\n\nvar findRealParent = function (firstVueParent) {\n  var found = false;\n  while (firstVueParent && !found) {\n    if (firstVueParent.mapObject === undefined) {\n      firstVueParent = firstVueParent.$parent;\n    } else {\n      found = true;\n    }\n  }\n  return firstVueParent;\n};\n\nvar Layer = {\n  props: {\n    pane: {\n      type: String,\n      default: 'overlayPane',\n    },\n    attribution: {\n      type: String,\n      default: null,\n      custom: true,\n    },\n    name: {\n      type: String,\n      custom: true,\n      default: undefined,\n    },\n    layerType: {\n      type: String,\n      custom: true,\n      default: undefined,\n    },\n    visible: {\n      type: Boolean,\n      custom: true,\n      default: true,\n    },\n  },\n  mounted: function mounted() {\n    this.layerOptions = {\n      attribution: this.attribution,\n      pane: this.pane,\n    };\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unbindPopup();\n    this.unbindTooltip();\n    this.parentContainer.removeLayer(this);\n  },\n  methods: {\n    setAttribution: function setAttribution(val, old) {\n      var attributionControl = this.$parent.mapObject.attributionControl;\n      attributionControl.removeAttribution(old).addAttribution(val);\n    },\n    setName: function setName() {\n      this.parentContainer.removeLayer(this);\n      if (this.visible) {\n        this.parentContainer.addLayer(this);\n      }\n    },\n    setLayerType: function setLayerType() {\n      this.parentContainer.removeLayer(this);\n      if (this.visible) {\n        this.parentContainer.addLayer(this);\n      }\n    },\n    setVisible: function setVisible(isVisible) {\n      if (this.mapObject) {\n        if (isVisible) {\n          this.parentContainer.addLayer(this);\n        } else {\n          if (this.parentContainer.hideLayer) {\n            this.parentContainer.hideLayer(this);\n          } else {\n            this.parentContainer.removeLayer(this);\n          }\n        }\n      }\n    },\n    unbindTooltip: function unbindTooltip() {\n      var tooltip = this.mapObject ? this.mapObject.getTooltip() : null;\n      if (tooltip) {\n        tooltip.unbindTooltip();\n      }\n    },\n    unbindPopup: function unbindPopup() {\n      var popup = this.mapObject ? this.mapObject.getPopup() : null;\n      if (popup) {\n        popup.unbindPopup();\n      }\n    },\n    updateVisibleProp: function updateVisibleProp(value) {\n      /**\n       * Triggers when the visible prop needs to be updated\n       * @type {boolean}\n       * @property {boolean} value - value of the visible property\n       */\n      this.$emit('update:visible', value);\n    },\n  },\n};\n\nvar InteractiveLayer = {\n  props: {\n    interactive: {\n      type: Boolean,\n      default: true\n    },\n    bubblingMouseEvents: {\n      type: Boolean,\n      default: true\n    }\n  },\n  mounted: function mounted () {\n    this.interactiveLayerOptions = {\n      interactive: this.interactive,\n      bubblingMouseEvents: this.bubblingMouseEvents\n    };\n  }\n};\n\nvar Path = {\n  mixins: [Layer, InteractiveLayer],\n  props: {\n    lStyle: {\n      type: Object,\n      custom: true,\n      default: null\n    },\n    stroke: {\n      type: Boolean,\n      custom: true,\n      default: true\n    },\n    color: {\n      type: String,\n      custom: true,\n      default: '#3388ff'\n    },\n    weight: {\n      type: Number,\n      custom: true,\n      default: 3\n    },\n    opacity: {\n      type: Number,\n      custom: true,\n      default: 1.0\n    },\n    lineCap: {\n      type: String,\n      custom: true,\n      default: 'round'\n    },\n    lineJoin: {\n      type: String,\n      custom: true,\n      default: 'round'\n    },\n    dashArray: {\n      type: String,\n      custom: true,\n      default: null\n    },\n    dashOffset: {\n      type: String,\n      custom: true,\n      default: null\n    },\n    fill: {\n      type: Boolean,\n      custom: true,\n      default: false\n    },\n    fillColor: {\n      type: String,\n      custom: true,\n      default: '#3388ff'\n    },\n    fillOpacity: {\n      type: Number,\n      custom: true,\n      default: 0.2\n    },\n    fillRule: {\n      type: String,\n      custom: true,\n      default: 'evenodd'\n    },\n    className: {\n      type: String,\n      custom: true,\n      default: null\n    }\n  },\n  mounted: function mounted () {\n    this.pathOptions = Object.assign({}, this.layerOptions,\n      this.interactiveLayerOptions,\n      {stroke: this.stroke,\n      color: this.color,\n      weight: this.weight,\n      opacity: this.opacity,\n      lineCap: this.lineCap,\n      lineJoin: this.lineJoin,\n      dashArray: this.dashArray,\n      dashOffset: this.dashOffset,\n      fill: this.fill,\n      fillColor: this.fillColor,\n      fillOpacity: this.fillOpacity,\n      fillRule: this.fillRule,\n      className: this.className});\n\n    if (this.lStyle) {\n      console.warn('lStyle is deprecated and is going to be removed in the next major version');\n      for (var style in this.lStyle) {\n        this.pathOptions[style] = this.lStyle[style];\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy () {\n    if (this.parentContainer) {\n      this.parentContainer.removeLayer(this);\n    } else {\n      console.error('Missing parent container');\n    }\n  },\n  methods: {\n    setLStyle: function setLStyle (newVal) {\n      this.mapObject.setStyle(newVal);\n    },\n    setStroke: function setStroke (newVal) {\n      this.mapObject.setStyle({ stroke: newVal });\n    },\n    setColor: function setColor (newVal) {\n      this.mapObject.setStyle({ color: newVal });\n    },\n    setWeight: function setWeight (newVal) {\n      this.mapObject.setStyle({ weight: newVal });\n    },\n    setOpacity: function setOpacity (newVal) {\n      this.mapObject.setStyle({ opacity: newVal });\n    },\n    setLineCap: function setLineCap (newVal) {\n      this.mapObject.setStyle({ lineCap: newVal });\n    },\n    setLineJoin: function setLineJoin (newVal) {\n      this.mapObject.setStyle({ lineJoin: newVal });\n    },\n    setDashArray: function setDashArray (newVal) {\n      this.mapObject.setStyle({ dashArray: newVal });\n    },\n    setDashOffset: function setDashOffset (newVal) {\n      this.mapObject.setStyle({ dashOffset: newVal });\n    },\n    setFill: function setFill (newVal) {\n      this.mapObject.setStyle({ fill: newVal });\n    },\n    setFillColor: function setFillColor (newVal) {\n      this.mapObject.setStyle({ fillColor: newVal });\n    },\n    setFillOpacity: function setFillOpacity (newVal) {\n      this.mapObject.setStyle({ fillOpacity: newVal });\n    },\n    setFillRule: function setFillRule (newVal) {\n      this.mapObject.setStyle({ fillRule: newVal });\n    },\n    setClassName: function setClassName (newVal) {\n      this.mapObject.setStyle({ className: newVal });\n    }\n  }\n};\n\nvar Polyline = {\n  mixins: [Path],\n  props: {\n    smoothFactor: {\n      type: Number,\n      custom: true,\n      default: 1.0\n    },\n    noClip: {\n      type: Boolean,\n      custom: true,\n      default: false\n    }\n  },\n  data: function data () {\n    return {\n      ready: false\n    };\n  },\n  mounted: function mounted () {\n    this.polyLineOptions = Object.assign({}, this.pathOptions,\n      {smoothFactor: this.smoothFactor,\n      noClip: this.noClip});\n  },\n  methods: {\n    setSmoothFactor: function setSmoothFactor (newVal) {\n      this.mapObject.setStyle({ smoothFactor: newVal });\n    },\n    setNoClip: function setNoClip (newVal) {\n      this.mapObject.setStyle({ noClip: newVal });\n    },\n    addLatLng: function addLatLng (value) {\n      this.mapObject.addLatLng(value);\n    }\n  }\n};\n\nvar Polygon = {\n  mixins: [Polyline],\n  props: {\n    fill: {\n      type: Boolean,\n      custom: true,\n      default: true\n    }\n  },\n  mounted: function mounted () {\n    this.polygonOptions = this.polyLineOptions;\n  },\n  methods: {\n    getGeoJSONData: function getGeoJSONData () {\n      return this.mapObject.toGeoJSON();\n    }\n  }\n};\n\nvar Options = {\n  props: {\n    /**\n     * Leaflet options to pass to the component constructor\n     */\n    options: {\n      type: Object,\n      default: function () { return ({}); }\n    }\n  }\n};\n\n//\n\n/**\n * Easily draw a rectangle on the map\n */\nvar script = {\n  name: 'LRectangle',\n  mixins: [Polygon, Options],\n  props: {\n    bounds: {\n      default: function () { return [[0,0],[0,0]]; },\n      validator: function (value) { return value && latLngBounds(value).isValid(); },\n    },\n  },\n  data: function data() {\n    return {\n      ready: false,\n    };\n  },\n  mounted: function mounted() {\n    var this$1 = this;\n\n    var options = optionsMerger(this.polygonOptions, this);\n    this.mapObject = rectangle(this.bounds, options);\n    DomEvent.on(this.mapObject, this.$listeners);\n    propsBinder(this, this.mapObject, this.$options.props);\n    this.ready = true;\n    this.parentContainer = findRealParent(this.$parent);\n    this.parentContainer.addLayer(this, !this.visible);\n    this.$nextTick(function () {\n      /**\n       * Triggers when the component is ready\n       * @type {object}\n       * @property {object} mapObject - reference to leaflet map object\n       */\n      this$1.$emit('ready', this$1.mapObject);\n    });\n  },\n};\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    var options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    var hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            var originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            var existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\n/* script */\nvar __vue_script__ = script;\n\n/* template */\nvar __vue_render__ = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"none\"}},[(_vm.ready)?_vm._t(\"default\"):_vm._e()],2)};\nvar __vue_staticRenderFns__ = [];\n\n  /* style */\n  var __vue_inject_styles__ = undefined;\n  /* scoped */\n  var __vue_scope_id__ = undefined;\n  /* module identifier */\n  var __vue_module_identifier__ = undefined;\n  /* functional template */\n  var __vue_is_functional_template__ = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  var __vue_component__ = /*#__PURE__*/normalizeComponent(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nexport default __vue_component__;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport {LMap, LMarker, LTileLayer, LRectangle} from 'vue2-leaflet';\nimport L from \"leaflet\";\nimport {api} from \"@/ts/constants\";\n\nexport default Vue.extend({\n    name: 'PhotoMap',\n    components: {LMap, LTileLayer, LMarker, LRectangle},\n    props: {\n        width: {type: Number, required: true},\n        height: {type: Number, required: true},\n        startBounds: {type: L.LatLngBounds},\n    },\n    data: () => ({\n        photosInBounds: null as Promise<any> | null,\n        mapRef: null as any,\n        // @ts-ignore\n        popup: L.popup({maxWidth: 'auto'}),\n        leaflet: {\n            zoom: 12,\n            center: null as L.LatLng | null,\n            url: 'https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}',\n            attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n            options: {\n                zoomSnap: 0.5,\n            },\n            tileOptions: {\n                id: 'mapbox/streets-v11',\n                accessToken: '',\n            },\n            bounds: null as L.LatLngBounds | null,\n            markers: [] as L.CircleMarker[],\n        },\n        panTimeout: -1,\n    }),\n    async mounted() {\n        this.leaflet.tileOptions.id = this.$vuetify.theme.dark ? 'mapbox/dark-v10' : 'mapbox/streets-v11';\n        this.leaflet.tileOptions.accessToken = this.$store.state.mapboxKey;\n        if (this.startBounds) {\n            this.leaflet.bounds = this.startBounds;\n        } else {\n            let bounds = await this.$store.dispatch('apiRequest', {url: 'photos/totalBounds'});\n            let minCorner = L.latLng(bounds.minlat, bounds.minlng, 0);\n            let maxCorner = L.latLng(bounds.maxlat, bounds.maxlng, 0);\n            this.leaflet.bounds = L.latLngBounds(minCorner, maxCorner).pad(0.05);\n        }\n        if (this.leaflet.bounds) {\n            this.leaflet.center = this.leaflet.bounds.getCenter();\n            this.leaflet.zoom = this.getBoundsZoomLevel(this.leaflet.bounds, {\n                width: this.width,\n                height: this.height,\n            });\n            this.photosInBounds = this.updateFromBounds();\n        }\n    },\n    methods: {\n        mapPanned(b: L.LatLngBounds) {\n            clearTimeout(this.panTimeout);\n            this.panTimeout = setTimeout(async () => {\n                this.leaflet.bounds = b;\n                this.photosInBounds = this.updateFromBounds();\n                await this.addMarkers();\n            }, 200);\n        },\n        async updateFromBounds() {\n            if (!this.leaflet.bounds) return;\n            return this.$store.dispatch('apiRequest', {\n                url: 'photos/photosInBounds', body: {\n                    minLat: this.leaflet.bounds.getSouth(),\n                    maxLat: this.leaflet.bounds.getNorth(),\n                    minLng: this.leaflet.bounds.getWest(),\n                    maxLng: this.leaflet.bounds.getEast(),\n                },\n            });\n        },\n        async addMarkers() {\n            this.mapRef = this.$refs.map;\n\n            let photosInBounds = await this.photosInBounds;\n            let isDark = this.$vuetify.theme.dark;\n            let color = this.$vuetify.theme.themes[isDark ? 'dark' : 'light'];\n            let primary = color.primary as string;\n            let secondary = color.secondary as string;\n\n            this.leaflet.markers.forEach(m => m.remove());\n            this.leaflet.markers = [];\n            console.log('zoom', this.leaflet.zoom);\n            for (let photo of photosInBounds) {\n                let marker = L.circleMarker(\n                    [photo.MediaLocation.latitude, photo.MediaLocation.longitude],\n                    {\n                        radius: 8,\n                        color: photo.type === 'image' ? primary : secondary,\n                        opacity: 0.6,\n                        weight: 2,\n                        fillColor: photo.type === 'image' ? primary : secondary,\n                        fillOpacity: 0.2,\n                    }\n                );\n                let ratio = photo.width / photo.height;\n                const mediaHeight = 200;\n                marker.addTo(this.mapRef.mapObject);\n                marker.on('click', (e: any) => {\n                    const content = photo.type === 'image' ?\n                        `<img height=\"${mediaHeight}\" width=\"${mediaHeight * ratio}\" src=\"${api}/photo/tiny/${photo.id}.webp\" alt=\"Image at ${e.latlng.lat}, ${e.latlng.lng}\">` :\n                        `<video height=\"${mediaHeight}\" width=\"${mediaHeight * ratio}\" src=\"${api}/photo/webm/${photo.id}.webm\" autoplay controls loop>`;\n                    this.popup\n                        .setLatLng(e.latlng)\n                        .setContent(`<a href=\"${location.pathname}#/photo/${photo.id}\">${content}</a>`)\n                        .openOn(this.mapRef.mapObject);\n                });\n                this.leaflet.markers.push(marker);\n            }\n        },\n        getBoundsZoomLevel: function (bounds: L.LatLngBounds, mapDim: { width: number, height: number }) {\n            const WORLD_DIM = {height: 256, width: 256};\n            const ZOOM_MAX = 21;\n\n            const latRad = (lat: number) => {\n                const sin = Math.sin(lat * Math.PI / 180);\n                const radX2 = Math.log((1 + sin) / (1 - sin)) / 2;\n                return Math.max(Math.min(radX2, Math.PI), -Math.PI) / 2;\n            }\n\n            const zoom = (mapPx: number, worldPx: number, fraction: number) =>\n                Math.floor(Math.log(mapPx / worldPx / fraction) / Math.LN2)\n\n            const ne = bounds.getNorthEast();\n            const sw = bounds.getSouthWest();\n\n            const latFraction = (latRad(ne.lat) - latRad(sw.lat)) / Math.PI;\n\n            const lngDiff = ne.lng - sw.lng;\n            const lngFraction = ((lngDiff < 0) ? (lngDiff + 360) : lngDiff) / 360;\n\n            const latZoom = zoom(mapDim.height, WORLD_DIM.height, latFraction);\n            const lngZoom = zoom(mapDim.width, WORLD_DIM.width, lngFraction);\n\n            return Math.min(latZoom, lngZoom, ZOOM_MAX);\n        },\n    },\n    computed: {},\n    watch: {},\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoMap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoMap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PhotoMap.vue?vue&type=template&id=55861d56&scoped=true&\"\nimport script from \"./PhotoMap.vue?vue&type=script&lang=ts&\"\nexport * from \"./PhotoMap.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55861d56\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}