{"version":3,"sources":["webpack:///./src/views/Map.vue?a349","webpack:///./node_modules/date-fns/esm/addMonths/index.js","webpack:///./node_modules/date-fns/esm/addYears/index.js","webpack:///./node_modules/date-fns/esm/subYears/index.js","webpack:///./node_modules/date-fns/esm/addDays/index.js","webpack:///./src/views/Map.vue","webpack:///./src/views/Map.vue?9165","webpack:///./src/views/Map.vue?b4f5","webpack:///./src/views/Map.vue?127e","webpack:///./src/components/PhotoMap.vue?c20c","webpack:///./node_modules/vue2-leaflet/dist/components/LRectangle.js","webpack:///./src/components/PhotoMap.vue","webpack:///./src/components/PhotoMap.vue?2538","webpack:///./src/components/PhotoMap.vue?e5ca"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","ref","on","_g","_b","model","value","callback","$$v","dateRangeText","expression","showPicker","dates","applySelection","_v","style","height","mapHeight","width","mapWidth","startDate","endDate","staticRenderFns","addMonths","dirtyDate","dirtyAmount","requiredArgs","arguments","date","toDate","amount","toInteger","isNaN","Date","NaN","dayOfMonth","getDate","endOfDesiredMonth","getTime","setMonth","getMonth","daysInMonth","setFullYear","getFullYear","addYears","subYears","addDays","setDate","d","extend","name","components","PhotoMap","data","format","mounted","methods","computed","join","$vuetify","breakpoint","application","top","bottom","left","right","watch","component","VBtn","VDatePicker","VMenu","VSheet","VTextField","leaflet","center","zoom","options","mapPanned","addMarkers","tileOptions","url","attribution","startBounds","_e","capitalizeFirstLetter","string","charAt","toUpperCase","slice","propsBinder","vueElement","leafletElement","props","loop","setMethodName","deepValue","type","Object","Array","isArray","custom","$watch","newVal","oldVal","deep","collectionCleaner","result","undefined","optionsMerger","instance","constructor","defaultProps","$options","def","default","call","Symbol","isEqual","JSON","stringify","console","warn","findRealParent","firstVueParent","found","mapObject","$parent","Layer","pane","String","layerType","visible","Boolean","layerOptions","beforeDestroy","unbindPopup","unbindTooltip","parentContainer","removeLayer","setAttribution","val","old","attributionControl","removeAttribution","addAttribution","setName","addLayer","setLayerType","setVisible","isVisible","hideLayer","tooltip","getTooltip","popup","getPopup","updateVisibleProp","$emit","InteractiveLayer","interactive","bubblingMouseEvents","interactiveLayerOptions","Path","mixins","lStyle","stroke","color","weight","Number","opacity","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","className","pathOptions","assign","error","setLStyle","setStyle","setStroke","setColor","setWeight","setOpacity","setLineCap","setLineJoin","setDashArray","setDashOffset","setFill","setFillColor","setFillOpacity","setFillRule","setClassName","Polyline","smoothFactor","noClip","ready","polyLineOptions","setSmoothFactor","setNoClip","addLatLng","Polygon","polygonOptions","getGeoJSONData","toGeoJSON","Options","script","bounds","validator","isValid","this$1","$listeners","$nextTick","normalizeComponent","template","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","shadowRoot","originalRender","h","existing","beforeCreate","concat","__vue_script__","__vue_render__","staticStyle","_t","__vue_staticRenderFns__","__vue_inject_styles__","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","__vue_component__","LMap","LTileLayer","LMarker","LRectangle","required","LatLngBounds","dateChangeUpdate","photosInBounds","mapRef","maxWidth","zoomSnap","id","accessToken","markers","panTimeout","theme","dark","$store","state","mapboxKey","dispatch","minCorner","latLng","minlat","minlng","maxCorner","maxlat","maxlng","latLngBounds","pad","getCenter","getBoundsZoomLevel","updateFromBounds","b","clearTimeout","setTimeout","body","minLat","getSouth","maxLat","getNorth","minLng","getWest","maxLng","getEast","$refs","map","isDark","themes","primary","secondary","forEach","m","remove","log","photo","marker","circleMarker","MediaLocation","latitude","longitude","radius","ratio","mediaHeight","addTo","e","content","latlng","lat","lng","setLatLng","setContent","location","pathname","openOn","push","mapDim","WORLD_DIM","ZOOM_MAX","latRad","sin","Math","PI","radX2","max","min","mapPx","worldPx","fraction","floor","LN2","ne","getNorthEast","sw","getSouthWest","latFraction","lngDiff","lngFraction","latZoom","lngZoom"],"mappings":"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","file":"js/chunk-46b666e5.377f2c95.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map\"},[_c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({staticClass:\"text-field\",attrs:{\"solo\":\"\",\"dense\":\"\",\"hide-details\":\"\",\"label\":\"Date range\",\"prepend-inner-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.dateRangeText),callback:function ($$v) {_vm.dateRangeText=$$v},expression:\"dateRangeText\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.showPicker),callback:function ($$v) {_vm.showPicker=$$v},expression:\"showPicker\"}},[_c('v-sheet',{staticClass:\"menu-content\"},[_c('v-date-picker',{staticClass:\"date-picker\",attrs:{\"scrollable\":\"\",\"show-adjacent-months\":\"\",\"range\":\"\"},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}}),_c('v-btn',{staticClass:\"mt-2 mb-2\",attrs:{\"text\":\"\"},on:{\"click\":_vm.applySelection}},[_vm._v(\"Apply\")])],1)],1),_c('photo-map',{ref:\"photoMap\",style:({\n            height: _vm.mapHeight + 'px',\n            width: _vm.mapWidth + 'px',\n        }),attrs:{\"start-date\":_vm.startDate,\"end-date\":_vm.endDate,\"height\":_vm.mapHeight,\"width\":_vm.mapWidth}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\n\nexport default function addMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  var dayOfMonth = date.getDate(); // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n\n  var endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  var daysInMonth = endOfDesiredMonth.getDate();\n\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the years added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\n\nexport default function addYears(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, amount * 12);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport addYears from \"../addYears/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name subYears\n * @category Year Helpers\n * @summary Subtract the specified number of years from the given date.\n *\n * @description\n * Subtract the specified number of years from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the years subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 5 years from 1 September 2014:\n * const result = subYears(new Date(2014, 8, 1), 5)\n * //=> Tue Sep 01 2009 00:00:00\n */\n\nexport default function subYears(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addYears(dirtyDate, -amount);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} - the new date with the days added\n * @throws {TypeError} - 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\n\nexport default function addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  date.setDate(date.getDate() + amount);\n  return date;\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue'\r\nimport PhotoMap from \"@/components/PhotoMap.vue\";\r\nimport {addDays, format, subYears} from \"date-fns\";\r\n\r\nconst d = new Date();\r\nexport default Vue.extend({\r\n    name: 'Map',\r\n    components: {PhotoMap},\r\n    data: () => ({\r\n        showPicker: false,\r\n        dates: [format(subYears(d, 10), 'yyyy-MM-dd'), format(d, 'yyyy-MM-dd')],\r\n    }),\r\n    async mounted() {\r\n    },\r\n    methods: {\r\n        applySelection() {\r\n            this.showPicker = false\r\n        },\r\n    },\r\n    computed: {\r\n        startDate() {\r\n            return new Date(this.dates[0]);\r\n        },\r\n        endDate() {\r\n            return addDays(new Date(this.dates[1]), 1);\r\n        },\r\n        dateRangeText() {\r\n            return this.dates.join(' ~ ')\r\n        },\r\n        mapHeight(): number {\r\n            return this.$vuetify.breakpoint.height - this.$vuetify.application.top - this.$vuetify.application.bottom;\r\n        },\r\n        mapWidth(): number {\r\n            return this.$vuetify.breakpoint.width - this.$vuetify.application.left - this.$vuetify.application.right;\r\n        },\r\n    },\r\n    watch: {}\r\n})\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=62d74140&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=ts&\"\nexport * from \"./Map.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=62d74140&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62d74140\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VDatePicker,VMenu,VSheet,VTextField})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=62d74140&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.leaflet.center && _vm.leaflet.zoom)?_c('l-map',{ref:\"map\",attrs:{\"zoom\":_vm.leaflet.zoom,\"center\":_vm.leaflet.center,\"options\":_vm.leaflet.options},on:{\"update:bounds\":_vm.mapPanned,\"ready\":_vm.addMarkers}},[_c('l-tile-layer',{attrs:{\"options\":_vm.leaflet.tileOptions,\"url\":_vm.leaflet.url,\"attribution\":_vm.leaflet.attribution}}),(_vm.startBounds !== null)?_c('l-rectangle',{attrs:{\"bounds\":_vm.startBounds,\"color\":\"red\",\"fill-color\":\"red\",\"weight\":_vm.leaflet.zoom / 6,\"fill-opacity\":0.01}}):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { setOptions, latLngBounds, rectangle, DomEvent } from 'leaflet';\n\nvar capitalizeFirstLetter = function (string) {\n  if (!string || typeof string.charAt !== 'function') {\n    return string;\n  }\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\n\nvar propsBinder = function (vueElement, leafletElement, props, options) {\n  var loop = function ( key ) {\n    var setMethodName = 'set' + capitalizeFirstLetter(key);\n    var deepValue =\n      props[key].type === Object ||\n      props[key].type === Array ||\n      Array.isArray(props[key].type);\n    if (props[key].custom && vueElement[setMethodName]) {\n      vueElement.$watch(\n        key,\n        function (newVal, oldVal) {\n          vueElement[setMethodName](newVal, oldVal);\n        },\n        {\n          deep: deepValue,\n        }\n      );\n    } else if (setMethodName === 'setOptions') {\n      vueElement.$watch(\n        key,\n        function (newVal, oldVal) {\n          setOptions(leafletElement, newVal);\n        },\n        {\n          deep: deepValue,\n        }\n      );\n    } else if (leafletElement[setMethodName]) {\n      vueElement.$watch(\n        key,\n        function (newVal, oldVal) {\n          leafletElement[setMethodName](newVal);\n        },\n        {\n          deep: deepValue,\n        }\n      );\n    }\n  };\n\n  for (var key in props) loop( key );\n};\n\nvar collectionCleaner = function (options) {\n  var result = {};\n  for (var key in options) {\n    var value = options[key];\n    if (value !== null && value !== undefined) {\n      result[key] = value;\n    }\n  }\n  return result;\n};\n\nvar optionsMerger = function (props, instance) {\n  var options =\n    instance.options && instance.options.constructor === Object\n      ? instance.options\n      : {};\n  props = props && props.constructor === Object ? props : {};\n  var result = collectionCleaner(options);\n  props = collectionCleaner(props);\n  var defaultProps = instance.$options.props;\n  for (var key in props) {\n    var def = defaultProps[key]\n      ? defaultProps[key].default &&\n        typeof defaultProps[key].default === 'function'\n        ? defaultProps[key].default.call()\n        : defaultProps[key].default\n      : Symbol('unique');\n    var isEqual = false;\n    if (Array.isArray(def)) {\n      isEqual = JSON.stringify(def) === JSON.stringify(props[key]);\n    } else {\n      isEqual = def === props[key];\n    }\n    if (result[key] && !isEqual) {\n      console.warn(\n        (key + \" props is overriding the value passed in the options props\")\n      );\n      result[key] = props[key];\n    } else if (!result[key]) {\n      result[key] = props[key];\n    }\n  }\n  return result;\n};\n\nvar findRealParent = function (firstVueParent) {\n  var found = false;\n  while (firstVueParent && !found) {\n    if (firstVueParent.mapObject === undefined) {\n      firstVueParent = firstVueParent.$parent;\n    } else {\n      found = true;\n    }\n  }\n  return firstVueParent;\n};\n\nvar Layer = {\n  props: {\n    pane: {\n      type: String,\n      default: 'overlayPane',\n    },\n    attribution: {\n      type: String,\n      default: null,\n      custom: true,\n    },\n    name: {\n      type: String,\n      custom: true,\n      default: undefined,\n    },\n    layerType: {\n      type: String,\n      custom: true,\n      default: undefined,\n    },\n    visible: {\n      type: Boolean,\n      custom: true,\n      default: true,\n    },\n  },\n  mounted: function mounted() {\n    this.layerOptions = {\n      attribution: this.attribution,\n      pane: this.pane,\n    };\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unbindPopup();\n    this.unbindTooltip();\n    this.parentContainer.removeLayer(this);\n  },\n  methods: {\n    setAttribution: function setAttribution(val, old) {\n      var attributionControl = this.$parent.mapObject.attributionControl;\n      attributionControl.removeAttribution(old).addAttribution(val);\n    },\n    setName: function setName() {\n      this.parentContainer.removeLayer(this);\n      if (this.visible) {\n        this.parentContainer.addLayer(this);\n      }\n    },\n    setLayerType: function setLayerType() {\n      this.parentContainer.removeLayer(this);\n      if (this.visible) {\n        this.parentContainer.addLayer(this);\n      }\n    },\n    setVisible: function setVisible(isVisible) {\n      if (this.mapObject) {\n        if (isVisible) {\n          this.parentContainer.addLayer(this);\n        } else {\n          if (this.parentContainer.hideLayer) {\n            this.parentContainer.hideLayer(this);\n          } else {\n            this.parentContainer.removeLayer(this);\n          }\n        }\n      }\n    },\n    unbindTooltip: function unbindTooltip() {\n      var tooltip = this.mapObject ? this.mapObject.getTooltip() : null;\n      if (tooltip) {\n        tooltip.unbindTooltip();\n      }\n    },\n    unbindPopup: function unbindPopup() {\n      var popup = this.mapObject ? this.mapObject.getPopup() : null;\n      if (popup) {\n        popup.unbindPopup();\n      }\n    },\n    updateVisibleProp: function updateVisibleProp(value) {\n      /**\n       * Triggers when the visible prop needs to be updated\n       * @type {boolean}\n       * @property {boolean} value - value of the visible property\n       */\n      this.$emit('update:visible', value);\n    },\n  },\n};\n\nvar InteractiveLayer = {\n  props: {\n    interactive: {\n      type: Boolean,\n      default: true\n    },\n    bubblingMouseEvents: {\n      type: Boolean,\n      default: true\n    }\n  },\n  mounted: function mounted () {\n    this.interactiveLayerOptions = {\n      interactive: this.interactive,\n      bubblingMouseEvents: this.bubblingMouseEvents\n    };\n  }\n};\n\nvar Path = {\n  mixins: [Layer, InteractiveLayer],\n  props: {\n    lStyle: {\n      type: Object,\n      custom: true,\n      default: null\n    },\n    stroke: {\n      type: Boolean,\n      custom: true,\n      default: true\n    },\n    color: {\n      type: String,\n      custom: true,\n      default: '#3388ff'\n    },\n    weight: {\n      type: Number,\n      custom: true,\n      default: 3\n    },\n    opacity: {\n      type: Number,\n      custom: true,\n      default: 1.0\n    },\n    lineCap: {\n      type: String,\n      custom: true,\n      default: 'round'\n    },\n    lineJoin: {\n      type: String,\n      custom: true,\n      default: 'round'\n    },\n    dashArray: {\n      type: String,\n      custom: true,\n      default: null\n    },\n    dashOffset: {\n      type: String,\n      custom: true,\n      default: null\n    },\n    fill: {\n      type: Boolean,\n      custom: true,\n      default: false\n    },\n    fillColor: {\n      type: String,\n      custom: true,\n      default: '#3388ff'\n    },\n    fillOpacity: {\n      type: Number,\n      custom: true,\n      default: 0.2\n    },\n    fillRule: {\n      type: String,\n      custom: true,\n      default: 'evenodd'\n    },\n    className: {\n      type: String,\n      custom: true,\n      default: null\n    }\n  },\n  mounted: function mounted () {\n    this.pathOptions = Object.assign({}, this.layerOptions,\n      this.interactiveLayerOptions,\n      {stroke: this.stroke,\n      color: this.color,\n      weight: this.weight,\n      opacity: this.opacity,\n      lineCap: this.lineCap,\n      lineJoin: this.lineJoin,\n      dashArray: this.dashArray,\n      dashOffset: this.dashOffset,\n      fill: this.fill,\n      fillColor: this.fillColor,\n      fillOpacity: this.fillOpacity,\n      fillRule: this.fillRule,\n      className: this.className});\n\n    if (this.lStyle) {\n      console.warn('lStyle is deprecated and is going to be removed in the next major version');\n      for (var style in this.lStyle) {\n        this.pathOptions[style] = this.lStyle[style];\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy () {\n    if (this.parentContainer) {\n      this.parentContainer.removeLayer(this);\n    } else {\n      console.error('Missing parent container');\n    }\n  },\n  methods: {\n    setLStyle: function setLStyle (newVal) {\n      this.mapObject.setStyle(newVal);\n    },\n    setStroke: function setStroke (newVal) {\n      this.mapObject.setStyle({ stroke: newVal });\n    },\n    setColor: function setColor (newVal) {\n      this.mapObject.setStyle({ color: newVal });\n    },\n    setWeight: function setWeight (newVal) {\n      this.mapObject.setStyle({ weight: newVal });\n    },\n    setOpacity: function setOpacity (newVal) {\n      this.mapObject.setStyle({ opacity: newVal });\n    },\n    setLineCap: function setLineCap (newVal) {\n      this.mapObject.setStyle({ lineCap: newVal });\n    },\n    setLineJoin: function setLineJoin (newVal) {\n      this.mapObject.setStyle({ lineJoin: newVal });\n    },\n    setDashArray: function setDashArray (newVal) {\n      this.mapObject.setStyle({ dashArray: newVal });\n    },\n    setDashOffset: function setDashOffset (newVal) {\n      this.mapObject.setStyle({ dashOffset: newVal });\n    },\n    setFill: function setFill (newVal) {\n      this.mapObject.setStyle({ fill: newVal });\n    },\n    setFillColor: function setFillColor (newVal) {\n      this.mapObject.setStyle({ fillColor: newVal });\n    },\n    setFillOpacity: function setFillOpacity (newVal) {\n      this.mapObject.setStyle({ fillOpacity: newVal });\n    },\n    setFillRule: function setFillRule (newVal) {\n      this.mapObject.setStyle({ fillRule: newVal });\n    },\n    setClassName: function setClassName (newVal) {\n      this.mapObject.setStyle({ className: newVal });\n    }\n  }\n};\n\nvar Polyline = {\n  mixins: [Path],\n  props: {\n    smoothFactor: {\n      type: Number,\n      custom: true,\n      default: 1.0\n    },\n    noClip: {\n      type: Boolean,\n      custom: true,\n      default: false\n    }\n  },\n  data: function data () {\n    return {\n      ready: false\n    };\n  },\n  mounted: function mounted () {\n    this.polyLineOptions = Object.assign({}, this.pathOptions,\n      {smoothFactor: this.smoothFactor,\n      noClip: this.noClip});\n  },\n  methods: {\n    setSmoothFactor: function setSmoothFactor (newVal) {\n      this.mapObject.setStyle({ smoothFactor: newVal });\n    },\n    setNoClip: function setNoClip (newVal) {\n      this.mapObject.setStyle({ noClip: newVal });\n    },\n    addLatLng: function addLatLng (value) {\n      this.mapObject.addLatLng(value);\n    }\n  }\n};\n\nvar Polygon = {\n  mixins: [Polyline],\n  props: {\n    fill: {\n      type: Boolean,\n      custom: true,\n      default: true\n    }\n  },\n  mounted: function mounted () {\n    this.polygonOptions = this.polyLineOptions;\n  },\n  methods: {\n    getGeoJSONData: function getGeoJSONData () {\n      return this.mapObject.toGeoJSON();\n    }\n  }\n};\n\nvar Options = {\n  props: {\n    /**\n     * Leaflet options to pass to the component constructor\n     */\n    options: {\n      type: Object,\n      default: function () { return ({}); }\n    }\n  }\n};\n\n//\n\n/**\n * Easily draw a rectangle on the map\n */\nvar script = {\n  name: 'LRectangle',\n  mixins: [Polygon, Options],\n  props: {\n    bounds: {\n      default: function () { return [[0,0],[0,0]]; },\n      validator: function (value) { return value && latLngBounds(value).isValid(); },\n    },\n  },\n  data: function data() {\n    return {\n      ready: false,\n    };\n  },\n  mounted: function mounted() {\n    var this$1 = this;\n\n    var options = optionsMerger(this.polygonOptions, this);\n    this.mapObject = rectangle(this.bounds, options);\n    DomEvent.on(this.mapObject, this.$listeners);\n    propsBinder(this, this.mapObject, this.$options.props);\n    this.ready = true;\n    this.parentContainer = findRealParent(this.$parent);\n    this.parentContainer.addLayer(this, !this.visible);\n    this.$nextTick(function () {\n      /**\n       * Triggers when the component is ready\n       * @type {object}\n       * @property {object} mapObject - reference to leaflet map object\n       */\n      this$1.$emit('ready', this$1.mapObject);\n    });\n  },\n};\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    var options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    var hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            var originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            var existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\n/* script */\nvar __vue_script__ = script;\n\n/* template */\nvar __vue_render__ = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"none\"}},[(_vm.ready)?_vm._t(\"default\"):_vm._e()],2)};\nvar __vue_staticRenderFns__ = [];\n\n  /* style */\n  var __vue_inject_styles__ = undefined;\n  /* scoped */\n  var __vue_scope_id__ = undefined;\n  /* module identifier */\n  var __vue_module_identifier__ = undefined;\n  /* functional template */\n  var __vue_is_functional_template__ = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  var __vue_component__ = /*#__PURE__*/normalizeComponent(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nexport default __vue_component__;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport {LMap, LMarker, LTileLayer, LRectangle} from 'vue2-leaflet';\nimport L from \"leaflet\";\nimport {api} from \"@/ts/constants\";\n\nexport default Vue.extend({\n    name: 'PhotoMap',\n    components: {LMap, LTileLayer, LMarker, LRectangle},\n    props: {\n        width: {type: Number, required: true},\n        height: {type: Number, required: true},\n        startBounds: {type: L.LatLngBounds},\n        startDate: {type: Date},\n        endDate: {type: Date},\n    },\n    data: () => ({\n        dateChangeUpdate: -1,\n        photosInBounds: null as Promise<any> | null,\n        mapRef: null as any,\n        // @ts-ignore\n        popup: L.popup({maxWidth: 'auto'}),\n        leaflet: {\n            zoom: 12,\n            center: null as L.LatLng | null,\n            url: 'https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}',\n            attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n            options: {\n                zoomSnap: 0.5,\n            },\n            tileOptions: {\n                id: 'mapbox/streets-v11',\n                accessToken: '',\n            },\n            bounds: null as L.LatLngBounds | null,\n            markers: [] as L.CircleMarker[],\n        },\n        panTimeout: -1,\n    }),\n    async mounted() {\n        this.leaflet.tileOptions.id = this.$vuetify.theme.dark ? 'mapbox/dark-v10' : 'mapbox/streets-v11';\n        this.leaflet.tileOptions.accessToken = this.$store.state.mapboxKey;\n        if (this.startBounds) {\n            this.leaflet.bounds = this.startBounds;\n        } else {\n            let bounds = await this.$store.dispatch('apiRequest', {url: 'photos/totalBounds'});\n            let minCorner = L.latLng(bounds.minlat, bounds.minlng, 0);\n            let maxCorner = L.latLng(bounds.maxlat, bounds.maxlng, 0);\n            this.leaflet.bounds = L.latLngBounds(minCorner, maxCorner).pad(0.05);\n        }\n        if (this.leaflet.bounds) {\n            this.leaflet.center = this.leaflet.bounds.getCenter();\n            this.leaflet.zoom = this.getBoundsZoomLevel(this.leaflet.bounds, {\n                width: this.width,\n                height: this.height,\n            });\n            this.photosInBounds = this.updateFromBounds();\n        }\n    },\n    methods: {\n        mapPanned(b: L.LatLngBounds) {\n            clearTimeout(this.panTimeout);\n            this.panTimeout = setTimeout(async () => {\n                this.leaflet.bounds = b;\n                this.photosInBounds = this.updateFromBounds();\n                await this.addMarkers();\n            }, 200);\n        },\n        async updateFromBounds() {\n            if (!this.leaflet.bounds) return;\n            return this.$store.dispatch('apiRequest', {\n                url: 'photos/photosInBounds', body: {\n                    minLat: this.leaflet.bounds.getSouth(),\n                    maxLat: this.leaflet.bounds.getNorth(),\n                    minLng: this.leaflet.bounds.getWest(),\n                    maxLng: this.leaflet.bounds.getEast(),\n                    startDate: this.startDate,\n                    endDate: this.endDate,\n                },\n            });\n        },\n        async addMarkers() {\n            this.mapRef = this.$refs.map;\n\n            let photosInBounds = await this.photosInBounds;\n            let isDark = this.$vuetify.theme.dark;\n            let color = this.$vuetify.theme.themes[isDark ? 'dark' : 'light'];\n            let primary = color.primary as string;\n            let secondary = color.secondary as string;\n\n            this.leaflet.markers.forEach(m => m.remove());\n            this.leaflet.markers = [];\n            console.log('zoom', this.leaflet.zoom);\n            for (let photo of photosInBounds) {\n                let marker = L.circleMarker(\n                    [photo.MediaLocation.latitude, photo.MediaLocation.longitude],\n                    {\n                        radius: 8,\n                        color: photo.type === 'image' ? primary : secondary,\n                        opacity: 0.6,\n                        weight: 2,\n                        fillColor: photo.type === 'image' ? primary : secondary,\n                        fillOpacity: 0.2,\n                    }\n                );\n                let ratio = photo.width / photo.height;\n                const mediaHeight = 200;\n                marker.addTo(this.mapRef.mapObject);\n                marker.on('click', (e: any) => {\n                    const content = photo.type === 'image' ?\n                        `<img height=\"${mediaHeight}\" width=\"${mediaHeight * ratio}\" src=\"${api}/photo/tiny/${photo.id}.webp\" alt=\"Image at ${e.latlng.lat}, ${e.latlng.lng}\">` :\n                        `<video height=\"${mediaHeight}\" width=\"${mediaHeight * ratio}\" src=\"${api}/photo/webm/${photo.id}.webm\" autoplay controls loop>`;\n                    this.popup\n                        .setLatLng(e.latlng)\n                        .setContent(`<a href=\"${location.pathname}#/photo/${photo.id}\">${content}</a>`)\n                        .openOn(this.mapRef.mapObject);\n                });\n                this.leaflet.markers.push(marker);\n            }\n        },\n        getBoundsZoomLevel: function (bounds: L.LatLngBounds, mapDim: { width: number, height: number }) {\n            const WORLD_DIM = {height: 256, width: 256};\n            const ZOOM_MAX = 21;\n\n            const latRad = (lat: number) => {\n                const sin = Math.sin(lat * Math.PI / 180);\n                const radX2 = Math.log((1 + sin) / (1 - sin)) / 2;\n                return Math.max(Math.min(radX2, Math.PI), -Math.PI) / 2;\n            }\n\n            const zoom = (mapPx: number, worldPx: number, fraction: number) =>\n                Math.floor(Math.log(mapPx / worldPx / fraction) / Math.LN2)\n\n            const ne = bounds.getNorthEast();\n            const sw = bounds.getSouthWest();\n\n            const latFraction = (latRad(ne.lat) - latRad(sw.lat)) / Math.PI;\n\n            const lngDiff = ne.lng - sw.lng;\n            const lngFraction = ((lngDiff < 0) ? (lngDiff + 360) : lngDiff) / 360;\n\n            const latZoom = zoom(mapDim.height, WORLD_DIM.height, latFraction);\n            const lngZoom = zoom(mapDim.width, WORLD_DIM.width, lngFraction);\n\n            return Math.min(latZoom, lngZoom, ZOOM_MAX);\n        },\n    },\n    computed: {},\n    watch: {\n        startDate() {\n            clearTimeout(this.dateChangeUpdate);\n            this.dateChangeUpdate = setTimeout(async () => {\n                this.photosInBounds = this.updateFromBounds();\n                await this.addMarkers();\n            }, 150);\n        },\n        endDate() {\n            clearTimeout(this.dateChangeUpdate);\n            this.dateChangeUpdate = setTimeout(async () => {\n                this.photosInBounds = this.updateFromBounds();\n                await this.addMarkers();\n            }, 150);\n        },\n    },\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoMap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoMap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PhotoMap.vue?vue&type=template&id=a37a4ac2&scoped=true&\"\nimport script from \"./PhotoMap.vue?vue&type=script&lang=ts&\"\nexport * from \"./PhotoMap.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a37a4ac2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}