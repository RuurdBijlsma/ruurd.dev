{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-pad.js","webpack:///./src/ts/utils.ts","webpack:///./node_modules/core-js/modules/es.string.pad-start.js","webpack:///./node_modules/core-js/modules/es.set.js","webpack:///./src/views/home/Game.vue?a8e6","webpack:///./src/views/home/Game.vue","webpack:///./src/views/home/Game.vue?f7bc","webpack:///../../../src/components/VGrid/VSpacer.ts","webpack:///./src/views/home/Game.vue?f811","webpack:///./node_modules/core-js/internals/string-pad-webkit-bug.js","webpack:///./src/views/home/Game.vue?670e","webpack:///../../../src/components/VDivider/VDivider.ts"],"names":["toLength","toString","repeat","requireObjectCoercible","ceil","Math","createMethod","IS_END","$this","maxLength","fillString","fillLen","stringFiller","S","stringLength","length","fillStr","undefined","intMaxLength","call","slice","module","exports","start","end","secondsToHms","seconds","isNaN","round","h","floor","m","s","hs","ms","ss","padStart","$","$padStart","WEBKIT_BUG","target","proto","forced","this","arguments","collection","collectionStrong","init","render","_vm","_h","$createElement","_c","_self","staticClass","style","flexDirection","$vuetify","breakpoint","mobile","alignItems","class","width","attrs","_v","game","$store","getters","flagUrl","fact","question","_e","showFeedback","userAnswer","_s","correctAnswer","answer","ref","on","$event","type","indexOf","_k","keyCode","key","answerFact","apply","model","value","callback","$$v","$set","expression","loading","nextFact","marginLeft","timeLeft","duration","toHms","encounteredFlags","size","state","factCount","correctPercentage","stopGame","staticRenderFns","extend","name","components","data","startTime","factShownTimestamp","answerHistory","Set","randomFlags","timerInterval","beforeDestroy","clearInterval","document","removeEventListener","handleKey","mounted","connected","$router","push","newGame","addEventListener","methods","e","sessionDuration","performance","now","setInterval","elapsed","gameResult","min","history","console","log","commit","dispatch","add","userInput","$refs","focus","responseTime","countryCode","correct","correctHistory","map","a","correctCount","reduce","b","accuracy","computed","countries","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VDivider","VIcon","VImg","VProgressLinear","VSheet","VSpacer","VTextField","userAgent","test","props","inset","vertical","Boolean","$attrs","role","orientation","themeClasses","$listeners"],"mappings":"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","file":"js/chunk-9622b596.22a18d19.js","sourcesContent":["// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar repeat = require('../internals/string-repeat');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar ceil = Math.ceil;\n\n// `String.prototype.{ padStart, padEnd }` methods implementation\nvar createMethod = function (IS_END) {\n  return function ($this, maxLength, fillString) {\n    var S = toString(requireObjectCoercible($this));\n    var stringLength = S.length;\n    var fillStr = fillString === undefined ? ' ' : toString(fillString);\n    var intMaxLength = toLength(maxLength);\n    var fillLen, stringFiller;\n    if (intMaxLength <= stringLength || fillStr == '') return S;\n    fillLen = intMaxLength - stringLength;\n    stringFiller = repeat.call(fillStr, ceil(fillLen / fillStr.length));\n    if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n    return IS_END ? S + stringFiller : stringFiller + S;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.padStart` method\n  // https://tc39.es/ecma262/#sec-string.prototype.padstart\n  start: createMethod(false),\n  // `String.prototype.padEnd` method\n  // https://tc39.es/ecma262/#sec-string.prototype.padend\n  end: createMethod(true)\n};\n","export function secondsToHms(seconds: number) {\n    if (isNaN(seconds) || seconds === undefined)\n        return '0:00';\n\n    seconds = Math.round(seconds);\n    let h = Math.floor(seconds / 3600);\n    let m = Math.floor((seconds % 3600) / 60);\n    let s = seconds % 60;\n    let hs = h.toString();\n    let ms = m.toString();\n    let ss = s.toString();\n    if (hs !== '0') {\n        ms = ms.padStart(2, '0');\n        ss = ss.padStart(2, '0');\n    }\n    ss = ss.padStart(2, '0');\n\n    if (hs === '0')\n        return `${ms}:${ss}`;\n    else return `${hs}:${ms}:${ss}`;\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $padStart = require('../internals/string-pad').start;\nvar WEBKIT_BUG = require('../internals/string-pad-webkit-bug');\n\n// `String.prototype.padStart` method\n// https://tc39.es/ecma262/#sec-string.prototype.padstart\n$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $padStart(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.es/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\",style:({\n    flexDirection: _vm.$vuetify.breakpoint.mobile ? 'column' : 'row',\n    alignItems:  _vm.$vuetify.breakpoint.mobile ? 'stretch' : 'flex-start',\n})},[_c('v-card',{staticClass:\"left-card\",class:_vm.$vuetify.breakpoint.width > 1300 ? 'rounded-xl' : '',attrs:{\"elevation\":\"2\"}},[_c('v-card-title',[_vm._v(\"What flag is this?\")]),_c('v-divider'),(_vm.game.fact)?_c('v-sheet',{staticClass:\"flag\",attrs:{\"color\":\"lightBackground\"}},[_c('v-img',{attrs:{\"contain\":\"\",\"src\":_vm.$store.getters.flagUrl(_vm.game.fact.question)}})],1):_vm._e(),_c('v-divider'),_c('v-card-text',[(!_vm.game.showFeedback)?_c('v-text-field',{ref:\"userInput\",attrs:{\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"\",\"label\":\"Answer\",\"placeholder\":\"For example: 'Netherlands'\"},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.answerFact.apply(null, arguments)}},model:{value:(_vm.game.userAnswer),callback:function ($$v) {_vm.$set(_vm.game, \"userAnswer\", $$v)},expression:\"game.userAnswer\"}}):_c('div',{staticClass:\"feedback\"},[(_vm.game.userAnswer !== '')?_c('h4',[_vm._v(\"You answered \\\"\"+_vm._s(_vm.game.userAnswer)+\"\\\"\")]):_vm._e(),(_vm.game.correctAnswer && _vm.game.fact)?[_c('v-icon',{attrs:{\"size\":\"100\",\"color\":\"success\"}},[_vm._v(\"mdi-check\")]),_c('h2',[_vm._v(\"Correct! The answer was \\\"\"+_vm._s(_vm.game.fact.answer)+\"\\\"\")])]:(_vm.game.fact)?[_c('v-icon',{attrs:{\"size\":\"100\",\"color\":\"error\"}},[_vm._v(\"mdi-alert-circle-outline\")]),_c('h2',[(_vm.game.userAnswer !== '')?_c('span',[_vm._v(\"Wrong! \")]):_vm._e(),_vm._v(\" The answer was \\\"\"+_vm._s(_vm.game.fact.answer)+\"\\\"\")])]:_vm._e()],2)],1),_c('v-card-actions',[_c('v-spacer'),(!_vm.game.showFeedback)?_c('v-btn',{attrs:{\"rounded\":\"\",\"color\":\"primary\",\"loading\":_vm.loading.answer},on:{\"click\":_vm.answerFact}},[(_vm.game.userAnswer !== '')?_c('span',{staticClass:\"ml-4 mr-4\"},[_vm._v(\"Submit answer\")]):_c('span',{staticClass:\"ml-4 mr-4\"},[_vm._v(\"I don't know\")])]):_c('v-btn',{attrs:{\"rounded\":\"\",\"color\":\"primary\",\"loading\":_vm.loading.fact},on:{\"click\":_vm.nextFact}},[_c('span',{staticClass:\"ml-4 mr-4\"},[_vm._v(\"Next fact\")])])],1)],1),_c('v-card',{staticClass:\"right-card\",class:_vm.$vuetify.breakpoint.width > 1300 ? 'rounded-xl' : '',style:({\n        marginLeft: _vm.$vuetify.breakpoint.mobile ? '0' : '30px',\n        width: _vm.$vuetify.breakpoint.mobile ? '100%' : '300px',\n    }),attrs:{\"elevation\":\"2\"}},[_c('v-card-title',[_vm._v(\"Session progress\")]),_c('v-card-text',[_c('v-progress-linear',{attrs:{\"value\":100 - _vm.game.timeLeft / _vm.game.duration * 100}}),_c('div',{staticClass:\"time-container mb-4\"},[_c('span',[_vm._v(_vm._s(_vm.toHms(_vm.game.timeLeft)))]),_c('span',[_vm._v(_vm._s(_vm.toHms(_vm.game.duration)))])]),_c('p',[_vm._v(_vm._s(_vm.game.encounteredFlags.size)+\" / \"+_vm._s(_vm.$store.state.factCount)+\" flags encountered\")]),_c('p',[_vm._v(_vm._s(Math.round(_vm.correctPercentage * 100))+\"% correct\")])],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"rounded\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.stopGame}},[_c('span',{staticClass:\"ml-4 mr-4\"},[_vm._v(\"Stop session\")])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue'\r\nimport {secondsToHms} from \"@/ts/utils\";\r\n\r\nexport default Vue.extend({\r\n    name: 'Game',\r\n    components: {},\r\n    data: () => ({\r\n        loading: {\r\n            fact: false,\r\n            answer: false,\r\n        },\r\n        game: {\r\n            startTime: 0,\r\n            duration: 0,\r\n            timeLeft: 1,\r\n            fact: null as null | { fact_id: number, answer: string, question: string },\r\n            userAnswer: '',\r\n            factShownTimestamp: 0,\r\n            correctAnswer: false,\r\n            showFeedback: false,\r\n            answerHistory: [] as { accuracy: number, correct: boolean, countryCode: string, userAnswer: string, responseTime: number }[],\r\n            encounteredFlags: new Set() as Set<string>,\r\n        },\r\n        randomFlags: [] as string[],\r\n        timerInterval: -1,\r\n    }),\r\n    beforeDestroy() {\r\n        clearInterval(this.timerInterval);\r\n        document.removeEventListener('keypress', this.handleKey);\r\n    },\r\n    async mounted() {\r\n        if (!this.connected)\r\n            return await this.$router.push('/');\r\n        await this.newGame();\r\n        document.addEventListener('keypress', this.handleKey, false);\r\n    },\r\n    methods: {\r\n        handleKey(e: KeyboardEvent) {\r\n            if (this.game.showFeedback && e.key === 'Enter') {\r\n                this.nextFact();\r\n            }\r\n        },\r\n        async newGame() {\r\n            this.game.duration = this.sessionDuration * 60;\r\n            this.game.timeLeft = this.game.duration;\r\n            this.game.startTime = performance.now();\r\n            await this.nextFact();\r\n            this.timerInterval = setInterval(() => {\r\n                let elapsed = (performance.now() - this.game.startTime) / 1000;\r\n                this.game.timeLeft = this.game.duration - elapsed;\r\n                if (this.game.timeLeft <= 0) {\r\n                    this.game.timeLeft = 0;\r\n                    this.stopGame();\r\n                }\r\n            }, 1000);\r\n        },\r\n        async stopGame() {\r\n            clearInterval(this.timerInterval);\r\n            let elapsed = (performance.now() - this.game.startTime) / 1000;\r\n            let gameResult = {\r\n                duration: Math.min(this.game.duration, elapsed),\r\n                history: this.game.answerHistory,\r\n                encounteredFlags: this.game.encounteredFlags,\r\n            };\r\n            console.log('committing game result', gameResult);\r\n            this.$store.commit('gameResult', gameResult);\r\n            await this.$router.push('/result');\r\n        },\r\n        async nextFact() {\r\n            this.game.userAnswer = '';\r\n            this.game.showFeedback = false;\r\n            this.loading.fact = true;\r\n            this.game.fact = await this.$store.dispatch('nextFact');\r\n            this.game.encounteredFlags.add(this.game.fact?.question ?? 'Unknown');\r\n            console.log({fact: this.game.fact});\r\n            this.loading.fact = false;\r\n            this.game.factShownTimestamp = performance.now();\r\n            let userInput = this.$refs.userInput as any;\r\n            userInput.focus();\r\n        },\r\n        async answerFact() {\r\n            this.loading.answer = true;\r\n            let responseTime = performance.now() - this.game.factShownTimestamp;\r\n            let correct = await this.$store.dispatch('answerFact', {\r\n                countryCode: this.game.fact?.question,\r\n                answer: this.game.userAnswer,\r\n                responseTime,\r\n            }) as boolean;\r\n            // calculate correct percentage including this last fact\r\n            let correctHistory = [...this.game.answerHistory.map(a => a.correct), correct];\r\n            let correctCount = correctHistory.reduce((a, b) => a + (b ? 1 : 0), 0) as number;\r\n            let correctPercentage = correctCount / correctHistory.length;\r\n            // add to history\r\n            this.game.answerHistory.push({\r\n                accuracy: correctPercentage,\r\n                countryCode: this.game.fact?.question ?? '',\r\n                correct,\r\n                responseTime,\r\n                userAnswer: this.game.userAnswer,\r\n            });\r\n            console.log(\"answered fact\", {\r\n                countryCode: this.game.fact?.question,\r\n                answer: this.game.userAnswer,\r\n                responseTime,\r\n                correct,\r\n            })\r\n            this.game.correctAnswer = correct;\r\n            this.game.showFeedback = true;\r\n            this.loading.answer = false;\r\n\r\n        },\r\n        toHms(s: number) {\r\n            return secondsToHms(s);\r\n        },\r\n    },\r\n    computed: {\r\n        countries(): { [key: string]: string }[] {\r\n            return this.$store.state.countries;\r\n        },\r\n        sessionDuration() {\r\n            return this.$store.state.sessionDuration;\r\n        },\r\n        connected() {\r\n            return this.$store.state.connected;\r\n        },\r\n        correctPercentage() {\r\n            if (this.game.answerHistory.length === 0) return 1;\r\n            let correctCount = this.game.answerHistory.reduce((a, b) => a + (b.correct ? 1 : 0), 0);\r\n            return correctCount / this.game.answerHistory.length;\r\n        },\r\n    },\r\n})\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=ts&\"","import './_grid.sass'\nimport { createSimpleFunctional } from '../../util/helpers'\n\nexport default createSimpleFunctional('spacer', 'div', 'v-spacer')\n","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=530f698f&scoped=true&\"\nimport script from \"./Game.vue?vue&type=script&lang=ts&\"\nexport * from \"./Game.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Game.vue?vue&type=style&index=0&id=530f698f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"530f698f\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDivider,VIcon,VImg,VProgressLinear,VSheet,VSpacer,VTextField})\n","// https://github.com/zloirock/core-js/issues/280\nvar userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /Version\\/10(?:\\.\\d+){1,2}(?: [\\w./]+)?(?: Mobile\\/\\w+)? Safari\\//.test(userAgent);\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&id=530f698f&scoped=true&lang=css&\"","// Styles\nimport './VDivider.sass'\n\n// Types\nimport { VNode } from 'vue'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\n\nexport default Themeable.extend({\n  name: 'v-divider',\n\n  props: {\n    inset: Boolean,\n    vertical: Boolean,\n  },\n\n  render (h): VNode {\n    // WAI-ARIA attributes\n    let orientation\n    if (!this.$attrs.role || this.$attrs.role === 'separator') {\n      orientation = this.vertical ? 'vertical' : 'horizontal'\n    }\n    return h('hr', {\n      class: {\n        'v-divider': true,\n        'v-divider--inset': this.inset,\n        'v-divider--vertical': this.vertical,\n        ...this.themeClasses,\n      },\n      attrs: {\n        role: 'separator',\n        'aria-orientation': orientation,\n        ...this.$attrs,\n      },\n      on: this.$listeners,\n    })\n  },\n})\n"],"sourceRoot":""}